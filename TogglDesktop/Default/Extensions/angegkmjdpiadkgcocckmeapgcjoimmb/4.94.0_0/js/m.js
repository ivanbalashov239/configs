Date.now||(Date.now=function(){return+new Date});
(function(D){function t(a,b,c,f){var i=c.lang();return i[a].call?i[a](c,f):i[a][b]}function E(a,b){return function(c){return l(a.call(this,c),b)}}function T(a){return function(b){b=a.call(this,b);return b+this.lang().ordinal(b)}}function s(a,b,c){this._d=a;this._isUTC=!!b;this._a=a._a||null;this._lang=c||!1}function v(a){var b=this._data={},c=a.years||a.y||0,f=a.months||a.M||0,i=a.weeks||a.w||0,d=a.days||a.d||0,e=a.hours||a.h||0,g=a.minutes||a.m||0,k=a.seconds||a.s||0,a=a.milliseconds||a.ms||0;this._milliseconds=
a+1E3*k+6E4*g+36E5*e;this._days=d+7*i;this._months=f+12*c;b.milliseconds=a%1E3;k+=n(a/1E3);b.seconds=k%60;g+=n(k/60);b.minutes=g%60;e+=n(g/60);b.hours=e%24;d+=n(e/24);d+=7*i;b.days=d%30;f+=n(d/30);b.months=f%12;c+=n(f/12);b.years=c;this._lang=!1}function n(a){return 0>a?Math.ceil(a):Math.floor(a)}function l(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c}function F(a,b,c){var f=b._milliseconds,d=b._days,b=b._months;f&&a._d.setTime(+a+f*c);d&&a.date(a.date()+d*c);b&&(f=a.date(),a.date(1).month(a.month()+
b*c).date(Math.min(f,a.daysInMonth())))}function w(a){return"[object Array]"===Object.prototype.toString.call(a)}function G(a,b){var c=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),d=0,j;for(j=0;j<c;j++)~~a[j]!==~~b[j]&&d++;return d+f}function x(a,b,c,f){var d,j=[];for(d=0;7>d;d++)j[d]=a[d]=null==a[d]?2===d?1:0:a[d];a[7]=j[7]=b;null!=a[8]&&(j[8]=a[8]);a[3]+=c||0;a[4]+=f||0;c=new Date(0);b?(c.setUTCFullYear(a[0],a[1],a[2]),c.setUTCHours(a[3],a[4],a[5],a[6])):(c.setFullYear(a[0],a[1],a[2]),
c.setHours(a[3],a[4],a[5],a[6]));c._a=j;return c}function H(a,b){var c,f,i=[];!b&&I&&(b=require("./lang/"+a));for(c=0;c<p.length;c++)b[p[c]]=b[p[c]]||q.en[p[c]];for(c=0;12>c;c++)f=d([2E3,c]),i[c]=RegExp("^"+(b.months[c]||b.months(f,""))+"|^"+(b.monthsShort[c]||b.monthsShort(f,"")).replace(".",""),"i");b.monthsParse=b.monthsParse||i;return q[a]=b}function y(a){return(a="string"===typeof a&&a||a&&a._lang||null)?q[a]||H(a):d}function J(a,b){function c(b){return a.lang().longDateFormat[b]||b}for(var d=
5;d--&&K.test(b);)b=b.replace(K,c);if(!z[b]){var d=z,i=b,j=b,e=j.match(L),g,k;g=0;for(k=e.length;g<k;g++)e[g]=m[e[g]]?m[e[g]]:e[g].match(/\[.*\]/)?e[g].replace(/^\[|\]$/g,""):e[g].replace(/\\/g,"");d[i]=function(a){var b="";for(g=0;g<k;g++)b+="function"===typeof e[g].call?e[g].call(a,j):e[g];return b}}return z[b](a)}function U(a){switch(a){case "DDDD":return V;case "YYYY":return W;case "S":case "SS":case "SSS":case "DDD":return X;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":case "a":case "A":return Y;
case "Z":case "ZZ":return A;case "T":return Z;case "MM":case "DD":case "YY":case "HH":case "hh":case "mm":case "ss":case "M":case "D":case "d":case "H":case "h":case "m":case "s":return $;default:return RegExp(a.replace("\\",""))}}function u(a,b){var c=[0,0,1,0,0,0,0],d={tzh:0,tzm:0},i=b.match(L),j,e;for(j=0;j<i.length;j++)if((e=(U(i[j]).exec(a)||[])[0])&&(a=a.slice(a.indexOf(e)+e.length)),m[i[j]]){var g=c,k=d,h=void 0,l=void 0;switch(i[j]){case "M":case "MM":g[1]=null==e?0:~~e-1;break;case "MMM":case "MMMM":for(h=
0;12>h;h++)if(y().monthsParse[h].test(e)){g[1]=h;l=!0;break}l||(g[8]=!1);break;case "D":case "DD":case "DDD":case "DDDD":null!=e&&(g[2]=~~e);break;case "YY":g[0]=~~e+(70<~~e?1900:2E3);break;case "YYYY":g[0]=~~Math.abs(e);break;case "a":case "A":k.isPm="pm"===(e+"").toLowerCase();break;case "H":case "HH":case "h":case "hh":g[3]=~~e;break;case "m":case "mm":g[4]=~~e;break;case "s":case "ss":g[5]=~~e;break;case "S":case "SS":case "SSS":g[6]=~~(1E3*("0."+e));break;case "Z":case "ZZ":k.isUTC=!0;if((h=
(e+"").match(aa))&&h[1])k.tzh=~~h[1];h&&h[2]&&(k.tzm=~~h[2]);h&&"+"===h[0]&&(k.tzh=-k.tzh,k.tzm=-k.tzm)}null==e&&(g[8]=!1)}d.isPm&&12>c[3]&&(c[3]+=12);!1===d.isPm&&12===c[3]&&(c[3]=0);return x(c,d.isUTC,d.tzh,d.tzm)}function ba(a,b,c,d,i){i=i.relativeTime[a];return"function"===typeof i?i(b||1,!!c,a,d):i.replace(/%d/i,b||1)}function M(a,b){d.fn[a]=function(a){var d=this._isUTC?"UTC":"";return null!=a?(this._d["set"+d+b](a),this):this._d["get"+d+b]()}}function ca(a){d.duration.fn[a]=function(){return this._data[a]}}
function N(a,b){d.duration.fn["as"+a]=function(){return+this/b}}for(var d,r=Math.round,h,q={},O="en",I="undefined"!==typeof module&&module.exports,p="months monthsShort weekdays weekdaysShort weekdaysMin longDateFormat calendar relativeTime ordinal meridiem".split(" "),da=/^\/?Date\((\-?\d+)/i,L=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?|.)/g,K=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?)/g,P=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,
$=/\d\d?/,X=/\d{1,3}/,V=/\d{3}/,W=/\d{1,4}/,Y=/[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/i,A=/Z|[\+\-]\d\d:?\d\d/i,Z=/T/i,ea=/^\s*\d{4}-\d\d-\d\d(T(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,Q=[["HH:mm:ss.S",/T\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],aa=/([\+\-]|\d\d)/gi,B="Month Date Hours Minutes Seconds Milliseconds".split(" "),C={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},
z={},R=["DDD","w","M","D","d"],S="MDHhmsw".split(""),m={M:function(){return this.month()+1},MMM:function(a){return t("monthsShort",this.month(),this,a)},MMMM:function(a){return t("months",this.month(),this,a)},D:function(){return this.date()},DDD:function(){var a=new Date(this.year(),this.month(),this.date()),b=new Date(this.year(),0,1);return~~((a-b)/864E5+1.5)},d:function(){return this.day()},dd:function(a){return t("weekdaysMin",this.day(),this,a)},ddd:function(a){return t("weekdaysShort",this.day(),
this,a)},dddd:function(a){return t("weekdays",this.day(),this,a)},w:function(){var a=new Date(this.year(),this.month(),this.date()-this.day()+5),b=new Date(a.getFullYear(),0,4);return~~((a-b)/864E5/7+1.5)},YY:function(){return l(this.year()%100,2)},YYYY:function(){return l(this.year(),4)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%
12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return l(~~(this.milliseconds()/10),2)},SSS:function(){return l(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";0>a&&(a=-a,b="-");return b+l(~~(a/60),2)+":"+l(~~a%60,2)},ZZ:function(){var a=-this.zone(),b="+";0>a&&(a=-a,b="-");return b+l(~~(10*a/6),4)}};R.length;)h=R.pop(),m[h+"o"]=T(m[h]);for(;S.length;)h=S.pop(),m[h+h]=E(m[h],2);m.DDDD=E(m.DDD,
3);d=function(a,b){if(null===a||""===a)return null;var c;if(d.isMoment(a))return new s(new Date(+a._d),a._isUTC,a._lang);if(b)if(w(b)){var f=a.match(P)||[],i,j=99,e,g;for(e=0;e<b.length;e++)g=u(a,b[e]),i=J(new s(g),b[e]).match(P)||[],i=G(f,i),i<j&&(j=i,c=g)}else c=u(a,b);else if(c=da.exec(a),a===D)c=new Date;else if(c)c=new Date(+c[1]);else if(a instanceof Date)c=a;else if(w(a))c=x(a);else if("string"===typeof a)if(c="YYYY-MM-DDT",ea.exec(a)){for(f=0;4>f;f++)if(Q[f][1].exec(a)){c+=Q[f][0];break}c=
A.exec(a)?u(a,c+" Z"):u(a,c)}else c=new Date(a);else c=new Date(a);return new s(c)};d.utc=function(a,b){if(w(a))return new s(x(a,!0),!0);"string"===typeof a&&!A.exec(a)&&(a+=" +0000",b&&(b+=" Z"));return d(a,b).utc()};d.unix=function(a){return d(1E3*a)};d.duration=function(a,b){var c=d.isDuration(a),f="number"===typeof a,i=c?a._data:f?{}:a;f&&(b?i[b]=a:i.milliseconds=a);f=new v(i);c&&(f._lang=a._lang);return f};d.humanizeDuration=function(a,b,c){return d.duration(a,!0===b?null:b).humanize(!0===b?
!0:c)};d.version="1.7.2";d.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";d.lang=function(a,b){var c;if(!a)return O;(b||!q[a])&&H(a,b);if(q[a]){for(c=0;c<p.length;c++)d[p[c]]=q[a][p[c]];d.monthsParse=q[a].monthsParse;O=a}};d.langData=y;d.isMoment=function(a){return a instanceof s};d.isDuration=function(a){return a instanceof v};d.lang("en",{months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},
relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(a){var b=a%10;return 1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"}});d.fn=s.prototype={clone:function(){return d(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1E3)},toString:function(){return this._d.toString()},toDate:function(){return this._d},
toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds(),!!this._isUTC]},isValid:function(){return this._a?null!=this._a[8]?!!this._a[8]:!G(this._a,(this._a[7]?d.utc(this._a):d(this._a)).toArray()):!isNaN(this._d.getTime())},utc:function(){this._isUTC=!0;return this},local:function(){this._isUTC=!1;return this},format:function(a){return J(this,a?a:d.defaultFormat)},add:function(a,b){var c=b?d.duration(+b,a):d.duration(a);F(this,
c,1);return this},subtract:function(a,b){var c=b?d.duration(+b,a):d.duration(a);F(this,c,-1);return this},diff:function(a,b,c){var a=this._isUTC?d(a).utc():d(a).local(),f=6E4*(this.zone()-a.zone()),f=this._d-a._d-f,i=this.year()-a.year(),j=this.month()-a.month(),a=this.date()-a.date(),b="months"===b?12*i+j+a/30:"years"===b?i+(j+a/30)/12:"seconds"===b?f/1E3:"minutes"===b?f/6E4:"hours"===b?f/36E5:"days"===b?f/864E5:"weeks"===b?f/6048E5:f;return c?b:r(b)},from:function(a,b){return d.duration(this.diff(a)).lang(this._lang).humanize(!b)},
fromNow:function(a){return this.from(d(),a)},calendar:function(){var a=this.diff(d().sod(),"days",!0),b=this.lang().calendar,c=b.sameElse,a=-6>a?c:-1>a?b.lastWeek:0>a?b.lastDay:1>a?b.sameDay:2>a?b.nextDay:7>a?b.nextWeek:c;return this.format("function"===typeof a?a.apply(this):a)},isLeapYear:function(){var a=this.year();return 0===a%4&&0!==a%100||0===a%400},isDST:function(){return this.zone()<d([this.year()]).zone()||this.zone()<d([this.year(),5]).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():
this._d.getDay();return null==a?b:this.add({d:a-b})},startOf:function(a){switch(a.replace(/s$/,"")){case "year":this.month(0);case "month":this.date(1);case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return this},endOf:function(a){return this.startOf(a).add(a.replace(/s?$/,"s"),1).subtract("ms",1)},sod:function(){return this.clone().startOf("day")},eod:function(){return this.clone().endOf("day")},zone:function(){return this._isUTC?
0:this._d.getTimezoneOffset()},daysInMonth:function(){return d.utc([this.year(),this.month()+1,0]).date()},lang:function(a){if(a===D)return y(this);this._lang=a;return this}};for(h=0;h<B.length;h++)M(B[h].toLowerCase(),B[h]);M("year","FullYear");d.duration.fn=v.prototype={weeks:function(){return n(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+2592E6*this._months},humanize:function(a){var b=+this,c=this.lang().relativeTime,d;d=!a;var i=this.lang(),j=r(Math.abs(b)/1E3),
e=r(j/60),g=r(e/60),h=r(g/24),l=r(h/365),j=45>j&&["s",j]||1===e&&["m"]||45>e&&["mm",e]||1===g&&["h"]||22>g&&["hh",g]||1===h&&["d"]||25>=h&&["dd",h]||45>=h&&["M"]||345>h&&["MM",r(h/30)]||1===l&&["y"]||["yy",l];j[2]=d;j[3]=0<b;j[4]=i;d=ba.apply({},j);b=0>=b?c.past:c.future;a&&(d="function"===typeof b?b(d):b.replace(/%s/i,d));return d},lang:d.fn.lang};for(h in C)C.hasOwnProperty(h)&&(N(h,C[h]),ca(h.toLowerCase()));N("Weeks",6048E5);I&&(module.exports=d);"undefined"===typeof ender&&(this.moment=d);"function"===
typeof define&&define.amd&&define("moment",[],function(){return d})}).call(this);
(function(a,b){function c(a,A,c){if(c===b&&1===a.nodeType)if(c="data-"+A.replace(uc,"-$1").toLowerCase(),c=a.getAttribute(c),"string"===typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:vc.test(c)?g.parseJSON(c):c}catch(d){}g.data(a,A,c)}else c=b;return c}function e(a){for(var b in a)if(!("data"===b&&g.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function d(){return!1}function f(){return!0}function j(a){return!a||!a.parentNode||11===a.parentNode.nodeType}function l(a,
b){do a=a[b];while(a&&1!==a.nodeType);return a}function m(a,b,c){b=b||0;if(g.isFunction(b))return g.grep(a,function(a,y){return!!b.call(a,y,a)===c});if(b.nodeType)return g.grep(a,function(a){return a===b===c});if("string"===typeof b){var d=g.grep(a,function(a){return 1===a.nodeType});if(xc.test(b))return g.filter(b,d,!c);b=g.filter(b,d)}return g.grep(a,function(a){return 0<=g.inArray(a,b)===c})}function q(a){var b=zb.split("|"),a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());
return a}function r(a,b){if(1===b.nodeType&&g.hasData(a)){var c,d,e;d=g._data(a);var f=g._data(b,d),u=d.events;if(u)for(c in delete f.handle,f.events={},u){d=0;for(e=u[c].length;d<e;d++)g.event.add(b,c,u[c][d])}f.data&&(f.data=g.extend({},f.data))}}function v(a,b){var c;1===b.nodeType&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),g.support.html5Clone&&(a.innerHTML&&!g.trim(b.innerHTML))&&
(b.innerHTML=a.innerHTML)):"input"===c&&Ab.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.selected=a.defaultSelected:"input"===c||"textarea"===c?b.defaultValue=a.defaultValue:"script"===c&&b.text!==a.text&&(b.text=a.text),b.removeAttribute(g.expando))}function B(a){return"undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function H(a){Ab.test(a.type)&&(a.defaultChecked=
a.checked)}function E(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,g=Bb.length;g--;)if(b=Bb[g]+c,b in a)return b;return d}function D(a,b){a=b||a;return"none"===g.css(a,"display")||!g.contains(a.ownerDocument,a)}function s(a,b){for(var c,d,e=[],f=0,u=a.length;f<u;f++)c=a[f],c.style&&(e[f]=g._data(c,"olddisplay"),b?(!e[f]&&"none"===c.style.display&&(c.style.display=""),""===c.style.display&&D(c)&&(e[f]=g._data(c,"olddisplay",p(c.nodeName)))):(d=S(c,"display"),!e[f]&&"none"!==
d&&g._data(c,"olddisplay",d)));for(f=0;f<u;f++)if(c=a[f],c.style&&(!b||"none"===c.style.display||""===c.style.display))c.style.display=b?e[f]||"":"none";return a}function F(a,b,c){return(a=yc.exec(b))?Math.max(0,a[1]-(c||0))+(a[2]||"px"):b}function G(a,b,c,d){for(var b=c===(d?"border":"content")?4:"width"===b?1:0,e=0;4>b;b+=2)"margin"===c&&(e+=g.css(a,c+ga[b],!0)),d?("content"===c&&(e-=parseFloat(S(a,"padding"+ga[b]))||0),"margin"!==c&&(e-=parseFloat(S(a,"border"+ga[b]+"Width"))||0)):(e+=parseFloat(S(a,
"padding"+ga[b]))||0,"padding"!==c&&(e+=parseFloat(S(a,"border"+ga[b]+"Width"))||0));return e}function k(a,b,c){var d="width"===b?a.offsetWidth:a.offsetHeight,e=!0,f=g.support.boxSizing&&"border-box"===g.css(a,"boxSizing");if(0>=d||null==d){d=S(a,b);if(0>d||null==d)d=a.style[b];if(Ca.test(d))return d;e=f&&(g.support.boxSizingReliable||d===a.style[b]);d=parseFloat(d)||0}return d+G(a,b,c||(f?"border":"content"),e)+"px"}function p(a){if($a[a])return $a[a];var b=g("<"+a+">").appendTo(t.body),c=b.css("display");
b.remove();if("none"===c||""===c){na=t.body.appendChild(na||g.extend(t.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!oa||!na.createElement)oa=(na.contentWindow||na.contentDocument).document,oa.write("<!doctype html><html><body>"),oa.close();b=oa.body.appendChild(oa.createElement(a));c=S(b,"display");t.body.removeChild(na)}return $a[a]=c}function h(a,b,c,d){var e;if(g.isArray(b))g.each(b,function(b,A){c||zc.test(a)?d(a,A):h(a+"["+("object"===typeof A?b:"")+"]",A,c,d)});else if(!c&&
"object"===g.type(b))for(e in b)h(a+"["+e+"]",b[e],c,d);else d(a,b)}function n(a){return function(b,c){"string"!==typeof b&&(c=b,b="*");var d,e,f=b.toLowerCase().split(fa),u=0,h=f.length;if(g.isFunction(c))for(;u<h;u++)d=f[u],(e=/^\+/.test(d))&&(d=d.substr(1)||"*"),d=a[d]=a[d]||[],d[e?"unshift":"push"](c)}}function z(a,c,d,g,e,f){e=e||c.dataTypes[0];f=f||{};f[e]=!0;for(var u,e=a[e],h=0,k=e?e.length:0,j=a===ab;h<k&&(j||!u);h++)u=e[h](c,d,g),"string"===typeof u&&(!j||f[u]?u=b:(c.dataTypes.unshift(u),
u=z(a,c,d,g,u,f)));if((j||!u)&&!f["*"])u=z(a,c,d,g,"*",f);return u}function N(a,c){var d,e,f=g.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);e&&g.extend(!0,a,e)}function Q(){try{return new a.XMLHttpRequest}catch(b){}}function x(){setTimeout(function(){Da=b},0);return Da=g.now()}function R(a,b,c){var d,e=0,f=Ea.length,u=g.Deferred().always(function(){delete h.elem}),h=function(){for(var b=Da||x(),b=Math.max(0,k.startTime+k.duration-b),c=1-(b/k.duration||0),A=0,d=k.tweens.length;A<
d;A++)k.tweens[A].run(c);u.notifyWith(a,[k,c,b]);if(1>c&&d)return b;u.resolveWith(a,[k]);return!1},k=u.promise({elem:a,props:g.extend({},b),opts:g.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Da||x(),duration:c.duration,tweens:[],createTween:function(b,c){var A=g.Tween(a,k.opts,b,c,k.opts.specialEasing[b]||k.opts.easing);k.tweens.push(A);return A},stop:function(b){for(var c=0,A=b?k.tweens.length:0;c<A;c++)k.tweens[c].run(1);b?u.resolveWith(a,[k,b]):u.rejectWith(a,
[k,b]);return this}}),b=k.props,c=k.opts.specialEasing,j,p,l,n;for(d in b)if(j=g.camelCase(d),p=c[j],l=b[d],g.isArray(l)&&(p=l[1],l=b[d]=l[0]),d!==j&&(b[j]=l,delete b[d]),(n=g.cssHooks[j])&&"expand"in n)for(d in l=n.expand(l),delete b[j],l)d in b||(b[d]=l[d],c[d]=p);else c[j]=p;for(;e<f;e++)if(d=Ea[e].call(k,a,b,k.opts))return d;var m=k;g.each(b,function(a,b){for(var y=(wa[a]||[]).concat(wa["*"]),c=0,A=y.length;c<A&&!y[c].call(m,a,b);c++);});g.isFunction(k.opts.start)&&k.opts.start.call(a,k);g.fx.timer(g.extend(h,
{anim:k,queue:k.opts.queue,elem:a}));return k.progress(k.opts.progress).done(k.opts.done,k.opts.complete).fail(k.opts.fail).always(k.opts.always)}function J(a,b,c,d,g){return new J.prototype.init(a,b,c,d,g)}function L(a,b){for(var c,d={height:a},g=0,b=b?1:0;4>g;g+=2-b)c=ga[g],d["margin"+c]=d["padding"+c]=a;b&&(d.opacity=d.width=a);return d}function ma(a){return g.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var aa,U,t=a.document,Aa=a.location,Xa=a.navigator,ua=a.jQuery,va=a.$,wb=
Array.prototype.push,T=Array.prototype.slice,xb=Array.prototype.indexOf,nc=Object.prototype.toString,Ya=Object.prototype.hasOwnProperty,Za=String.prototype.trim,g=function(a,b){return new g.fn.init(a,b,aa)},Ba=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,oc=/\S/,fa=/\s+/,sc=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,tc=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,yb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,rc=/^[\],:{}\s]*$/,pc=/(?:^|:|,)(?:\s*\[)+/g,qc=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Bc=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,
Cc=/^-ms-/,Dc=/-([\da-z])/gi,Ec=function(a,b){return(b+"").toUpperCase()},Fa=function(){t.addEventListener?(t.removeEventListener("DOMContentLoaded",Fa,!1),g.ready()):"complete"===t.readyState&&(t.detachEvent("onreadystatechange",Fa),g.ready())},Cb={};g.fn=g.prototype={constructor:g,init:function(a,c,d){var e;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("string"===typeof a){if((e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:tc.exec(a))&&
(e[1]||!c)){if(e[1])return a=(c=c instanceof g?c[0]:c)&&c.nodeType?c.ownerDocument||c:t,a=g.parseHTML(e[1],a,!0),yb.test(e[1])&&g.isPlainObject(c)&&this.attr.call(a,c,!0),g.merge(this,a);if((c=t.getElementById(e[2]))&&c.parentNode){if(c.id!==e[2])return d.find(a);this.length=1;this[0]=c}this.context=t;this.selector=a;return this}return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a)}if(g.isFunction(a))return d.ready(a);a.selector!==b&&(this.selector=a.selector,this.context=a.context);return g.makeArray(a,
this)},selector:"",jquery:"1.8.2",length:0,size:function(){return this.length},toArray:function(){return T.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,b,c){a=g.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;"find"===b?a.selector=this.selector+(this.selector?" ":"")+c:b&&(a.selector=this.selector+"."+b+"("+c+")");return a},each:function(a,b){return g.each(this,a,b)},ready:function(a){g.ready.promise().done(a);
return this},eq:function(a){a=+a;return-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(T.apply(this,arguments),"slice",T.call(arguments).join(","))},map:function(a){return this.pushStack(g.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:wb,sort:[].sort,splice:[].splice};g.fn.init.prototype=g.fn;g.extend=g.fn.extend=function(){var a,
c,d,e,f,w=arguments[0]||{},u=1,h=arguments.length,k=!1;"boolean"===typeof w&&(k=w,w=arguments[1]||{},u=2);"object"!==typeof w&&!g.isFunction(w)&&(w={});h===u&&(w=this,--u);for(;u<h;u++)if(null!=(a=arguments[u]))for(c in a)d=w[c],e=a[c],w!==e&&(k&&e&&(g.isPlainObject(e)||(f=g.isArray(e)))?(f?(f=!1,d=d&&g.isArray(d)?d:[]):d=d&&g.isPlainObject(d)?d:{},w[c]=g.extend(k,d,e)):e!==b&&(w[c]=e));return w};g.extend({noConflict:function(b){a.$===g&&(a.$=va);b&&a.jQuery===g&&(a.jQuery=ua);return g},isReady:!1,
readyWait:1,holdReady:function(a){a?g.readyWait++:g.ready(!0)},ready:function(a){if(!(!0===a?--g.readyWait:g.isReady)){if(!t.body)return setTimeout(g.ready,1);g.isReady=!0;!0!==a&&0<--g.readyWait||(U.resolveWith(t,[g]),g.fn.trigger&&g(t).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===g.type(a)},isArray:Array.isArray||function(a){return"array"===g.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==
a?String(a):Cb[nc.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==g.type(a)||a.nodeType||g.isWindow(a))return!1;try{if(a.constructor&&!Ya.call(a,"constructor")&&!Ya.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}for(var d in a);return d===b||Ya.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw Error(a);},parseHTML:function(a,b,c){var d;if(!a||"string"!==typeof a)return null;"boolean"===typeof b&&(c=b,b=0);b=b||
t;if(d=yb.exec(a))return[b.createElement(d[1])];d=g.buildFragment([a],b,c?null:[]);return g.merge([],(d.cacheable?g.clone(d.fragment):d.fragment).childNodes)},parseJSON:function(b){if(!b||"string"!==typeof b)return null;b=g.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(rc.test(b.replace(qc,"@").replace(Bc,"]").replace(pc,"")))return(new Function("return "+b))();g.error("Invalid JSON: "+b)},parseXML:function(y){var c,d;if(!y||"string"!==typeof y)return null;try{a.DOMParser?(d=new DOMParser,
c=d.parseFromString(y,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(y))}catch(e){c=b}(!c||!c.documentElement||c.getElementsByTagName("parsererror").length)&&g.error("Invalid XML: "+y);return c},noop:function(){},globalEval:function(b){b&&oc.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(Cc,"ms-").replace(Dc,Ec)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,
c,d){var e,f=0,w=a.length,u=w===b||g.isFunction(a);if(d)if(u)for(e in a){if(!1===c.apply(a[e],d))break}else for(;f<w&&!1!==c.apply(a[f++],d););else if(u)for(e in a){if(!1===c.call(a[e],e,a[e]))break}else for(;f<w&&!1!==c.call(a[f],f,a[f++]););return a},trim:Za&&!Za.call("\ufeff\u00a0")?function(a){return null==a?"":Za.call(a)}:function(a){return null==a?"":(a+"").replace(sc,"")},makeArray:function(a,b){var c,d=b||[];null!=a&&(c=g.type(a),null==a.length||"string"===c||"function"===c||"regexp"===c||
g.isWindow(a)?wb.call(d,a):g.merge(d,a));return d},inArray:function(a,b,c){var d;if(b){if(xb)return xb.call(b,a,c);d=b.length;for(c=c?0>c?Math.max(0,d+c):c:0;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,g=a.length,e=0;if("number"===typeof d)for(;e<d;e++)a[g++]=c[e];else for(;c[e]!==b;)a[g++]=c[e++];a.length=g;return a},grep:function(a,b,c){for(var d,g=[],e=0,f=a.length,c=!!c;e<f;e++)d=!!b(a[e],e),c!==d&&g.push(a[e]);return g},map:function(a,c,d){var e,f,w=[],u=
0,h=a.length;if(a instanceof g||h!==b&&"number"===typeof h&&(0<h&&a[0]&&a[h-1]||0===h||g.isArray(a)))for(;u<h;u++)e=c(a[u],u,d),null!=e&&(w[w.length]=e);else for(f in a)e=c(a[f],f,d),null!=e&&(w[w.length]=e);return w.concat.apply([],w)},guid:1,proxy:function(a,c){var d,e;"string"===typeof c&&(d=a[c],c=a,a=d);if(!g.isFunction(a))return b;e=T.call(arguments,2);d=function(){return a.apply(c,e.concat(T.call(arguments)))};d.guid=a.guid=a.guid||g.guid++;return d},access:function(a,c,d,e,f,w,u){var h,k=
null==d,j=0,p=a.length;if(d&&"object"===typeof d){for(j in d)g.access(a,c,j,d[j],1,w,e);f=1}else if(e!==b){h=u===b&&g.isFunction(e);k&&(h?(h=c,c=function(a,b,y){return h.call(g(a),y)}):(c.call(a,e),c=null));if(c)for(;j<p;j++)c(a[j],d,h?e.call(a[j],j,c(a[j],d)):e,u);f=1}return f?a:k?c.call(a):p?c(a[0],d):w},now:function(){return(new Date).getTime()}});g.ready.promise=function(b){if(!U)if(U=g.Deferred(),"complete"===t.readyState)setTimeout(g.ready,1);else if(t.addEventListener)t.addEventListener("DOMContentLoaded",
Fa,!1),a.addEventListener("load",g.ready,!1);else{t.attachEvent("onreadystatechange",Fa);a.attachEvent("onload",g.ready);var c=!1;try{c=null==a.frameElement&&t.documentElement}catch(d){}c&&c.doScroll&&function wc(){if(!g.isReady){try{c.doScroll("left")}catch(a){return setTimeout(wc,50)}g.ready()}}()}return U.promise(b)};g.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){Cb["[object "+b+"]"]=b.toLowerCase()});aa=g(t);var Db={};g.Callbacks=function(a){var c;if("string"===
typeof a){if(!(c=Db[a])){c=a;var d=Db[c]={};g.each(c.split(fa),function(a,b){d[b]=!0});c=d}}else c=g.extend({},a);var a=c,e,f,w,u,h,k,j=[],p=!a.once&&[],l=function(b){e=a.memory&&b;f=!0;k=u||0;u=0;h=j.length;for(w=!0;j&&k<h;k++)if(!1===j[k].apply(b[0],b[1])&&a.stopOnFalse){e=!1;break}w=!1;j&&(p?p.length&&l(p.shift()):e?j=[]:n.disable())},n={add:function(){if(j){var b=j.length;(function Ac(b){g.each(b,function(b,c){var d=g.type(c);"function"===d&&(!a.unique||!n.has(c))?j.push(c):c&&(c.length&&"string"!==
d)&&Ac(c)})})(arguments);w?h=j.length:e&&(u=b,l(e))}return this},remove:function(){j&&g.each(arguments,function(a,b){for(var c;-1<(c=g.inArray(b,j,c));)j.splice(c,1),w&&(c<=h&&h--,c<=k&&k--)});return this},has:function(a){return-1<g.inArray(a,j)},empty:function(){j=[];return this},disable:function(){j=p=e=b;return this},disabled:function(){return!j},lock:function(){p=b;e||n.disable();return this},locked:function(){return!p},fireWith:function(a,b){b=b||[];b=[a,b.slice?b.slice():b];if(j&&(!f||p))w?
p.push(b):l(b);return this},fire:function(){n.fireWith(this,arguments);return this},fired:function(){return!!f}};return n};g.extend({Deferred:function(a){var b=[["resolve","done",g.Callbacks("once memory"),"resolved"],["reject","fail",g.Callbacks("once memory"),"rejected"],["notify","progress",g.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){e.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return g.Deferred(function(c){g.each(b,function(b,
y){var d=y[0],A=a[b];e[y[1]](g.isFunction(A)?function(){var a=A.apply(this,arguments);if(a&&g.isFunction(a.promise))a.promise().done(c.resolve).fail(c.reject).progress(c.notify);else c[d+"With"](this===e?c:this,[a])}:c[d])});a=null}).promise()},promise:function(a){return null!=a?g.extend(a,d):d}},e={};d.pipe=d.then;g.each(b,function(a,y){var g=y[2],f=y[3];d[y[1]]=g.add;f&&g.add(function(){c=f},b[a^1][2].disable,b[2][2].lock);e[y[0]]=g.fire;e[y[0]+"With"]=g.fireWith});d.promise(e);a&&a.call(e,e);return e},
when:function(a){var b=0,c=T.call(arguments),d=c.length,e=1!==d||a&&g.isFunction(a.promise)?d:0,f=1===e?a:g.Deferred(),u=function(a,b,c){return function(y){b[a]=this;c[a]=1<arguments.length?T.call(arguments):y;c===h?f.notifyWith(b,c):--e||f.resolveWith(b,c)}},h,k,j;if(1<d){h=Array(d);k=Array(d);for(j=Array(d);b<d;b++)c[b]&&g.isFunction(c[b].promise)?c[b].promise().done(u(b,j,c)).fail(f.reject).progress(u(b,k,h)):--e}e||f.resolveWith(j,c);return f.promise()}});var Fc=g,bb;var P,Ga,ha,Ha,Ia,V,ia,Ja,
cb,pa,Eb,I=t.createElement("div");I.setAttribute("className","t");I.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";Ga=I.getElementsByTagName("*");ha=I.getElementsByTagName("a")[0];ha.style.cssText="top:1px;float:left;opacity:.5";if(!Ga||!Ga.length)bb={};else{Ha=t.createElement("select");Ia=Ha.appendChild(t.createElement("option"));V=I.getElementsByTagName("input")[0];P={leadingWhitespace:3===I.firstChild.nodeType,tbody:!I.getElementsByTagName("tbody").length,htmlSerialize:!!I.getElementsByTagName("link").length,
style:/top/.test(ha.getAttribute("style")),hrefNormalized:"/a"===ha.getAttribute("href"),opacity:/^0.5/.test(ha.style.opacity),cssFloat:!!ha.style.cssFloat,checkOn:"on"===V.value,optSelected:Ia.selected,getSetAttribute:"t"!==I.className,enctype:!!t.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==t.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===t.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,
shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};V.checked=!0;P.noCloneChecked=V.cloneNode(!0).checked;Ha.disabled=!0;P.optDisabled=!Ia.disabled;try{delete I.test}catch(Hd){P.deleteExpando=!1}!I.addEventListener&&(I.attachEvent&&I.fireEvent)&&(I.attachEvent("onclick",Eb=function(){P.noCloneEvent=!1}),I.cloneNode(!0).fireEvent("onclick"),I.detachEvent("onclick",Eb));V=t.createElement("input");V.value="t";V.setAttribute("type","radio");P.radioValue="t"===V.value;V.setAttribute("checked",
"checked");V.setAttribute("name","t");I.appendChild(V);ia=t.createDocumentFragment();ia.appendChild(I.lastChild);P.checkClone=ia.cloneNode(!0).cloneNode(!0).lastChild.checked;P.appendChecked=V.checked;ia.removeChild(V);ia.appendChild(I);if(I.attachEvent)for(cb in{submit:!0,change:!0,focusin:!0})Ja="on"+cb,pa=Ja in I,pa||(I.setAttribute(Ja,"return;"),pa="function"===typeof I[Ja]),P[cb+"Bubbles"]=pa;g(function(){var b,c,d,g=t.getElementsByTagName("body")[0];g&&(b=t.createElement("div"),b.style.cssText=
"visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",g.insertBefore(b,g.firstChild),c=t.createElement("div"),b.appendChild(c),c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",d=c.getElementsByTagName("td"),d[0].style.cssText="padding:0;margin:0;border:0;display:none",pa=0===d[0].offsetHeight,d[0].style.display="",d[1].style.display="none",P.reliableHiddenOffsets=pa&&0===d[0].offsetHeight,c.innerHTML="",c.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",
P.boxSizing=4===c.offsetWidth,P.doesNotIncludeMarginInBodyOffset=1!==g.offsetTop,a.getComputedStyle&&(P.pixelPosition="1%"!==(a.getComputedStyle(c,null)||{}).top,P.boxSizingReliable="4px"===(a.getComputedStyle(c,null)||{width:"4px"}).width,d=t.createElement("div"),d.style.cssText=c.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;",d.style.marginRight=d.style.width="0",c.style.width="1px",c.appendChild(d),P.reliableMarginRight=!parseFloat((a.getComputedStyle(d,null)||{}).marginRight)),
"undefined"!==typeof c.style.zoom&&(c.innerHTML="",c.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;width:1px;padding:1px;display:inline;zoom:1",P.inlineBlockNeedsLayout=3===c.offsetWidth,c.style.display="block",c.style.overflow="visible",c.innerHTML="<div></div>",c.firstChild.style.width="5px",P.shrinkWrapBlocks=3!==c.offsetWidth,b.style.zoom=1),g.removeChild(b))});ia.removeChild(I);Ga=ha=Ha=Ia=V=ia=I=null;bb=P}Fc.support=bb;var vc=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,uc=/([A-Z])/g;
g.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(g.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?g.cache[a[g.expando]]:a[g.expando];return!!a&&!e(a)},data:function(a,c,d,e){if(g.acceptData(a)){var f=g.expando,h="string"===typeof c,u=a.nodeType,k=u?g.cache:a,j=u?a[f]:a[f]&&f;if(j&&k[j]&&(e||k[j].data)||!(h&&d===b)){j||(u?a[f]=j=g.deletedIds.pop()||g.guid++:j=f);k[j]||(k[j]={},u||(k[j].toJSON=
g.noop));if("object"===typeof c||"function"===typeof c)e?k[j]=g.extend(k[j],c):k[j].data=g.extend(k[j].data,c);a=k[j];e||(a.data||(a.data={}),a=a.data);d!==b&&(a[g.camelCase(c)]=d);h?(d=a[c],null==d&&(d=a[g.camelCase(c)])):d=a;return d}}},removeData:function(a,b,c){if(g.acceptData(a)){var d,f,h,u=a.nodeType,k=u?g.cache:a,j=u?a[g.expando]:g.expando;if(k[j]){if(b&&(d=c?k[j]:k[j].data)){g.isArray(b)||(b in d?b=[b]:(b=g.camelCase(b),b=b in d?[b]:b.split(" ")));f=0;for(h=b.length;f<h;f++)delete d[b[f]];
if(!(c?e:g.isEmptyObject)(d))return}if(!c&&(delete k[j].data,!e(k[j])))return;u?g.cleanData([a],!0):g.support.deleteExpando||k!=k.window?delete k[j]:k[j]=null}}},_data:function(a,b,c){return g.data(a,b,c,!0)},acceptData:function(a){var b=a.nodeName&&g.noData[a.nodeName.toLowerCase()];return!b||!0!==b&&a.getAttribute("classid")===b}});g.fn.extend({data:function(a,d){var e,f,k,h,u,j=this[0],p=0,l=null;if(a===b){if(this.length&&(l=g.data(j),1===j.nodeType&&!g._data(j,"parsedAttrs"))){k=j.attributes;
for(u=k.length;p<u;p++)h=k[p].name,h.indexOf("data-")||(h=g.camelCase(h.substring(5)),c(j,h,l[h]));g._data(j,"parsedAttrs",!0)}return l}if("object"===typeof a)return this.each(function(){g.data(this,a)});e=a.split(".",2);e[1]=e[1]?"."+e[1]:"";f=e[1]+"!";return g.access(this,function(d){if(d===b)return l=this.triggerHandler("getData"+f,[e[0]]),l===b&&j&&(l=g.data(j,a),l=c(j,a,l)),l===b&&e[1]?this.data(e[0]):l;e[1]=d;this.each(function(){var b=g(this);b.triggerHandler("setData"+f,e);g.data(this,a,d);
b.triggerHandler("changeData"+f,e)})},null,d,1<arguments.length,null,!1)},removeData:function(a){return this.each(function(){g.removeData(this,a)})}});g.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=g._data(a,b),c&&(!d||g.isArray(c)?d=g._data(a,b,g.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){var b=b||"fx",c=g.queue(a,b),d=c.length,e=c.shift(),f=g._queueHooks(a,b),h=function(){g.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--);e&&("fx"===b&&c.unshift("inprogress"),
delete f.stop,e.call(a,h,f));!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return g._data(a,c)||g._data(a,c,{empty:g.Callbacks("once memory").add(function(){g.removeData(a,b+"queue",!0);g.removeData(a,c,!0)})})}});g.fn.extend({queue:function(a,c){var d=2;"string"!==typeof a&&(c=a,a="fx",d--);return arguments.length<d?g.queue(this[0],a):c===b?this:this.each(function(){var b=g.queue(this,a,c);g._queueHooks(this,a);"fx"===a&&"inprogress"!==b[0]&&g.dequeue(this,a)})},dequeue:function(a){return this.each(function(){g.dequeue(this,
a)})},delay:function(a,b){a=g.fx?g.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=g.Deferred(),h=this,k=this.length,j=function(){--e||f.resolveWith(h,[h])};"string"!==typeof a&&(c=a,a=b);for(a=a||"fx";k--;)if((d=g._data(h[k],a+"queueHooks"))&&d.empty)e++,d.empty.add(j);j();return f.promise(c)}});var ca,Fb,Gb,Hb=/[\t\r\n]/g,Gc=/\r/g,Hc=/^(?:button|input)$/i,
Ic=/^(?:button|input|object|select|textarea)$/i,Jc=/^a(?:rea|)$/i,Ib=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Jb=g.support.getSetAttribute;g.fn.extend({attr:function(a,b){return g.access(this,g.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){g.removeAttr(this,a)})},prop:function(a,b){return g.access(this,g.prop,a,b,1<arguments.length)},removeProp:function(a){a=g.propFix[a]||a;return this.each(function(){try{this[a]=
b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,h,k;if(g.isFunction(a))return this.each(function(b){g(this).addClass(a.call(this,b,this.className))});if(a&&"string"===typeof a){b=a.split(fa);c=0;for(d=this.length;c<d;c++)if(e=this[c],1===e.nodeType)if(!e.className&&1===b.length)e.className=a;else{f=" "+e.className+" ";h=0;for(k=b.length;h<k;h++)0>f.indexOf(" "+b[h]+" ")&&(f+=b[h]+" ");e.className=g.trim(f)}}return this},removeClass:function(a){var c,d,e,f,h,k,j;if(g.isFunction(a))return this.each(function(b){g(this).removeClass(a.call(this,
b,this.className))});if(a&&"string"===typeof a||a===b){c=(a||"").split(fa);k=0;for(j=this.length;k<j;k++)if(e=this[k],1===e.nodeType&&e.className){d=(" "+e.className+" ").replace(Hb," ");f=0;for(h=c.length;f<h;f++)for(;0<=d.indexOf(" "+c[f]+" ");)d=d.replace(" "+c[f]+" "," ");e.className=a?g.trim(d):""}}return this},toggleClass:function(a,b){var c=typeof a,d="boolean"===typeof b;return g.isFunction(a)?this.each(function(c){g(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===
c)for(var e,f=0,h=g(this),k=b,j=a.split(fa);e=j[f++];)k=d?k:!h.hasClass(e),h[k?"addClass":"removeClass"](e);else if("undefined"===c||"boolean"===c)this.className&&g._data(this,"__className__",this.className),this.className=this.className||!1===a?"":g._data(this,"__className__")||""})},hasClass:function(a){for(var a=" "+a+" ",b=0,c=this.length;b<c;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(Hb," ").indexOf(a))return!0;return!1},val:function(a){var c,d,e,f=this[0];if(arguments.length)return e=
g.isFunction(a),this.each(function(d){var f=g(this);if(1===this.nodeType&&(d=e?a.call(this,d,f.val()):a,null==d?d="":"number"===typeof d?d+="":g.isArray(d)&&(d=g.map(d,function(a){return null==a?"":a+""})),c=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()],!c||!("set"in c)||c.set(this,d,"value")===b))this.value=d});if(f){if((c=g.valHooks[f.type]||g.valHooks[f.nodeName.toLowerCase()])&&"get"in c&&(d=c.get(f,"value"))!==b)return d;d=f.value;return"string"===typeof d?d.replace(Gc,""):null==
d?"":d}}});g.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d=a.selectedIndex,e=[],f=a.options,h="select-one"===a.type;if(0>d)return null;a=h?d:0;for(c=h?d+1:f.length;a<c;a++)if(b=f[a],b.selected&&(g.support.optDisabled?!b.disabled:null===b.getAttribute("disabled"))&&(!b.parentNode.disabled||!g.nodeName(b.parentNode,"optgroup"))){b=g(b).val();if(h)return b;e.push(b)}return h&&!e.length&&f.length?g(f[d]).val():
e},set:function(a,b){var c=g.makeArray(b);g(a).find("option").each(function(){this.selected=0<=g.inArray(g(this).val(),c)});c.length||(a.selectedIndex=-1);return c}}},attrFn:{},attr:function(a,c,d,e){var f,h,k=a.nodeType;if(a&&!(3===k||8===k||2===k)){if(e&&g.isFunction(g.fn[c]))return g(a)[c](d);if("undefined"===typeof a.getAttribute)return g.prop(a,c,d);if(e=1!==k||!g.isXMLDoc(a))c=c.toLowerCase(),h=g.attrHooks[c]||(Ib.test(c)?Fb:ca);if(d!==b)if(null===d)g.removeAttr(a,c);else{if(h&&"set"in h&&e&&
(f=h.set(a,d,c))!==b)return f;a.setAttribute(c,d+"");return d}else{if(h&&"get"in h&&e&&null!==(f=h.get(a,c)))return f;f=a.getAttribute(c);return null===f?b:f}}},removeAttr:function(a,b){var c,d,e,f,h=0;if(b&&1===a.nodeType)for(d=b.split(fa);h<d.length;h++)if(e=d[h])c=g.propFix[e]||e,(f=Ib.test(e))||g.attr(a,e,""),a.removeAttribute(Jb?e:c),f&&c in a&&(a[c]=!1)},attrHooks:{type:{set:function(a,b){if(Hc.test(a.nodeName)&&a.parentNode)g.error("type property can't be changed");else if(!g.support.radioValue&&
"radio"===b&&g.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b);c&&(a.value=c);return b}}},value:{get:function(a,b){return ca&&g.nodeName(a,"button")?ca.get(a,b):b in a?a.value:null},set:function(a,b,c){if(ca&&g.nodeName(a,"button"))return ca.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",
contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,h;h=a.nodeType;if(a&&!(3===h||8===h||2===h)){if(h=1!==h||!g.isXMLDoc(a))c=g.propFix[c]||c,f=g.propHooks[c];return d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]}},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):Ic.test(a.nodeName)||Jc.test(a.nodeName)&&a.href?0:b}}}});Fb={get:function(a,c){var d,e=g.prop(a,c);return!0===
e||"boolean"!==typeof e&&(d=a.getAttributeNode(c))&&!1!==d.nodeValue?c.toLowerCase():b},set:function(a,b,c){!1===b?g.removeAttr(a,c):(b=g.propFix[c]||c,b in a&&(a[b]=!0),a.setAttribute(c,c.toLowerCase()));return c}};Jb||(Gb={name:!0,id:!0,coords:!0},ca=g.valHooks.button={get:function(a,c){var d;return(d=a.getAttributeNode(c))&&(Gb[c]?""!==d.value:d.specified)?d.value:b},set:function(a,b,c){var d=a.getAttributeNode(c);d||(d=t.createAttribute(c),a.setAttributeNode(d));return d.value=b+""}},g.each(["width",
"height"],function(a,b){g.attrHooks[b]=g.extend(g.attrHooks[b],{set:function(a,c){if(""===c)return a.setAttribute(b,"auto"),c}})}),g.attrHooks.contenteditable={get:ca.get,set:function(a,b,c){""===b&&(b="false");ca.set(a,b,c)}});g.support.hrefNormalized||g.each(["href","src","width","height"],function(a,c){g.attrHooks[c]=g.extend(g.attrHooks[c],{get:function(a){a=a.getAttribute(c,2);return null===a?b:a}})});g.support.style||(g.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||
b},set:function(a,b){return a.style.cssText=b+""}});g.support.optSelected||(g.propHooks.selected=g.extend(g.propHooks.selected,{get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex;return null}}));g.support.enctype||(g.propFix.enctype="encoding");g.support.checkOn||g.each(["radio","checkbox"],function(){g.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}});g.each(["radio","checkbox"],function(){g.valHooks[this]=g.extend(g.valHooks[this],
{set:function(a,b){if(g.isArray(b))return a.checked=0<=g.inArray(g(a).val(),b)}})});var db=/^(?:textarea|input|select)$/i,Kb=/^([^\.]*|)(?:\.(.+)|)$/,Kc=/(?:^|\s)hover(\.\S+|)\b/,Lc=/^key/,Mc=/^(?:mouse|contextmenu)|click/,Lb=/^(?:focusinfocus|focusoutblur)$/,Mb=function(a){return g.event.special.hover?a:a.replace(Kc,"mouseenter$1 mouseleave$1")};g.event={add:function(a,c,d,e,f){var h,k,j,p,l,n,m,r,q;if(!(3===a.nodeType||8===a.nodeType||!c||!d||!(h=g._data(a)))){d.handler&&(m=d,d=m.handler,f=m.selector);
d.guid||(d.guid=g.guid++);j=h.events;j||(h.events=j={});k=h.handle;k||(h.handle=k=function(a){return"undefined"!==typeof g&&(!a||g.event.triggered!==a.type)?g.event.dispatch.apply(k.elem,arguments):b},k.elem=a);c=g.trim(Mb(c)).split(" ");for(h=0;h<c.length;h++){p=Kb.exec(c[h])||[];l=p[1];n=(p[2]||"").split(".").sort();q=g.event.special[l]||{};l=(f?q.delegateType:q.bindType)||l;q=g.event.special[l]||{};p=g.extend({type:l,origType:p[1],data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&g.expr.match.needsContext.test(f),
namespace:n.join(".")},m);r=j[l];if(!r&&(r=j[l]=[],r.delegateCount=0,!q.setup||!1===q.setup.call(a,e,n,k)))a.addEventListener?a.addEventListener(l,k,!1):a.attachEvent&&a.attachEvent("on"+l,k);q.add&&(q.add.call(a,p),p.handler.guid||(p.handler.guid=d.guid));f?r.splice(r.delegateCount++,0,p):r.push(p);g.event.global[l]=!0}a=null}},global:{},remove:function(a,b,c,d,e){var f,h,k,j,p,l,n,m,r,q,z=g.hasData(a)&&g._data(a);if(z&&(n=z.events)){b=g.trim(Mb(b||"")).split(" ");for(f=0;f<b.length;f++)if(h=Kb.exec(b[f])||
[],k=j=h[1],h=h[2],k){m=g.event.special[k]||{};k=(d?m.delegateType:m.bindType)||k;r=n[k]||[];p=r.length;h=h?RegExp("(^|\\.)"+h.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(l=0;l<r.length;l++)if(q=r[l],(e||j===q.origType)&&(!c||c.guid===q.guid)&&(!h||h.test(q.namespace))&&(!d||d===q.selector||"**"===d&&q.selector))r.splice(l--,1),q.selector&&r.delegateCount--,m.remove&&m.remove.call(a,q);0===r.length&&p!==r.length&&((!m.teardown||!1===m.teardown.call(a,h,z.handle))&&g.removeEvent(a,
k,z.handle),delete n[k])}else for(k in n)g.event.remove(a,k+b[f],c,d,!0);g.isEmptyObject(n)&&(delete z.handle,g.removeData(a,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,f){if(!e||!(3===e.nodeType||8===e.nodeType)){var h,k,j,p,l,n,m=c.type||c;j=[];if(!Lb.test(m+g.event.triggered)&&(0<=m.indexOf("!")&&(m=m.slice(0,-1),h=!0),0<=m.indexOf(".")&&(j=m.split("."),m=j.shift(),j.sort()),e&&!g.event.customEvent[m]||g.event.global[m]))if(c="object"===typeof c?c[g.expando]?
c:new g.Event(m,c):new g.Event(m),c.type=m,c.isTrigger=!0,c.exclusive=h,c.namespace=j.join("."),c.namespace_re=c.namespace?RegExp("(^|\\.)"+j.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,j=0>m.indexOf(":")?"on"+m:"",e){if(c.result=b,c.target||(c.target=e),d=null!=d?g.makeArray(d):[],d.unshift(c),p=g.event.special[m]||{},!(p.trigger&&!1===p.trigger.apply(e,d))){n=[[e,p.bindType||m]];if(!f&&!p.noBubble&&!g.isWindow(e)){l=p.delegateType||m;h=Lb.test(l+m)?e:e.parentNode;for(k=e;h;h=h.parentNode)n.push([h,l]),
k=h;if(k===(e.ownerDocument||t))n.push([k.defaultView||k.parentWindow||a,l])}for(k=0;k<n.length&&!c.isPropagationStopped();k++)h=n[k][0],c.type=n[k][1],(l=(g._data(h,"events")||{})[c.type]&&g._data(h,"handle"))&&l.apply(h,d),(l=j&&h[j])&&(g.acceptData(h)&&l.apply&&!1===l.apply(h,d))&&c.preventDefault();c.type=m;if(!f&&!c.isDefaultPrevented()&&(!p._default||!1===p._default.apply(e.ownerDocument,d))&&!("click"===m&&g.nodeName(e,"a"))&&g.acceptData(e))if(j&&e[m]&&("focus"!==m&&"blur"!==m||0!==c.target.offsetWidth)&&
!g.isWindow(e))(k=e[j])&&(e[j]=null),g.event.triggered=m,e[m](),g.event.triggered=b,k&&(e[j]=k);return c.result}}else for(k in e=g.cache,e)e[k].events&&e[k].events[m]&&g.event.trigger(c,d,e[k].handle.elem,!0)}},dispatch:function(c){var c=g.event.fix(c||a.event),d,e,f,h,k,j,p=(g._data(this,"events")||{})[c.type]||[],l=p.delegateCount,m=T.call(arguments),n=!c.exclusive&&!c.namespace,r=g.event.special[c.type]||{},q=[];m[0]=c;c.delegateTarget=this;if(!(r.preDispatch&&!1===r.preDispatch.call(this,c))){if(l&&
!(c.button&&"click"===c.type))for(e=c.target;e!=this;e=e.parentNode||this)if(!0!==e.disabled||"click"!==c.type){h={};k=[];for(d=0;d<l;d++)f=p[d],j=f.selector,h[j]===b&&(h[j]=f.needsContext?0<=g(j,this).index(e):g.find(j,this,null,[e]).length),h[j]&&k.push(f);k.length&&q.push({elem:e,matches:k})}p.length>l&&q.push({elem:this,matches:p.slice(l)});for(d=0;d<q.length&&!c.isPropagationStopped();d++){h=q[d];c.currentTarget=h.elem;for(e=0;e<h.matches.length&&!c.isImmediatePropagationStopped();e++)if(f=h.matches[e],
n||!c.namespace&&!f.namespace||c.namespace_re&&c.namespace_re.test(f.namespace))c.data=f.data,c.handleObj=f,f=((g.event.special[f.origType]||{}).handle||f.handler).apply(h.elem,m),f!==b&&(c.result=f,!1===f&&(c.preventDefault(),c.stopPropagation()))}r.postDispatch&&r.postDispatch.call(this,c);return c.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},
keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,g=c.button,f=c.fromElement;null==a.pageX&&null!=c.clientX&&(d=a.target.ownerDocument||t,e=d.documentElement,d=d.body,a.pageX=c.clientX+(e&&e.scrollLeft||d&&d.scrollLeft||0)-(e&&e.clientLeft||d&&d.clientLeft||
0),a.pageY=c.clientY+(e&&e.scrollTop||d&&d.scrollTop||0)-(e&&e.clientTop||d&&d.clientTop||0));!a.relatedTarget&&f&&(a.relatedTarget=f===a.target?c.toElement:f);!a.which&&g!==b&&(a.which=g&1?1:g&2?3:g&4?2:0);return a}},fix:function(a){if(a[g.expando])return a;var b,c,d=a,e=g.event.fixHooks[a.type]||{},f=e.props?this.props.concat(e.props):this.props,a=g.Event(d);for(b=f.length;b;)c=f[--b],a[c]=d[c];a.target||(a.target=d.srcElement||t);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey=
!!a.metaKey;return e.filter?e.filter(a,d):a},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){g.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){a=g.extend(new g.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?g.event.trigger(a,null,b):g.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};g.event.handle=
g.event.dispatch;g.removeEvent=t.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){b="on"+b;a.detachEvent&&("undefined"===typeof a[b]&&(a[b]=null),a.detachEvent(b,c))};g.Event=function(a,b){if(!(this instanceof g.Event))return new g.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?f:d):this.type=a;b&&g.extend(this,b);this.timeStamp=
a&&a.timeStamp||g.now();this[g.expando]=!0};g.Event.prototype={preventDefault:function(){this.isDefaultPrevented=f;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=f;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=f;this.stopPropagation()},isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d};
g.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){g.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=a.relatedTarget,y=a.handleObj;if(!d||d!==this&&!g.contains(this,d))a.type=y.origType,c=y.handler.apply(this,arguments),a.type=b;return c}}});g.support.submitBubbles||(g.event.special.submit={setup:function(){if(g.nodeName(this,"form"))return!1;g.event.add(this,"click._submit keypress._submit",function(a){a=a.target;if((a=g.nodeName(a,"input")||g.nodeName(a,"button")?
a.form:b)&&!g._data(a,"_submit_attached"))g.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),g._data(a,"_submit_attached",!0)})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&g.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(g.nodeName(this,"form"))return!1;g.event.remove(this,"._submit")}});g.support.changeBubbles||(g.event.special.change={setup:function(){if(db.test(this.nodeName)){if("checkbox"===this.type||
"radio"===this.type)g.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),g.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);g.event.simulate("change",this,a,!0)});return!1}g.event.add(this,"beforeactivate._change",function(a){a=a.target;db.test(a.nodeName)&&!g._data(a,"_change_attached")&&(g.event.add(a,"change._change",function(a){this.parentNode&&(!a.isSimulated&&!a.isTrigger)&&
g.event.simulate("change",this.parentNode,a,!0)}),g._data(a,"_change_attached",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){g.event.remove(this,"._change");return!db.test(this.nodeName)}});g.support.focusinBubbles||g.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){g.event.simulate(b,a.target,g.event.fix(a),!0)};g.event.special[b]=
{setup:function(){0===c++&&t.addEventListener(a,d,!0)},teardown:function(){0===--c&&t.removeEventListener(a,d,!0)}}});g.fn.extend({on:function(a,c,e,f,h){var k,j;if("object"===typeof a){"string"!==typeof c&&(e=e||c,c=b);for(j in a)this.on(j,c,e,a[j],h);return this}null==e&&null==f?(f=c,e=c=b):null==f&&("string"===typeof c?(f=e,e=b):(f=e,e=c,c=b));if(!1===f)f=d;else if(!f)return this;1===h&&(k=f,f=function(a){g().off(a);return k.apply(this,arguments)},f.guid=k.guid||(k.guid=g.guid++));return this.each(function(){g.event.add(this,
a,f,e,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,e){var f;if(a&&a.preventDefault&&a.handleObj)return f=a.handleObj,g(a.delegateTarget).off(f.namespace?f.origType+"."+f.namespace:f.origType,f.selector,f.handler),this;if("object"===typeof a){for(f in a)this.off(f,c,a[f]);return this}if(!1===c||"function"===typeof c)e=c,c=b;!1===e&&(e=d);return this.each(function(){g.event.remove(this,a,e,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,
null,b)},live:function(a,b,c){g(this.context).on(a,this.selector,b,c);return this},die:function(a,b){g(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){g.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return g.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=
a.guid||g.guid++,d=0,e=function(c){var e=(g._data(this,"lastToggle"+a.guid)||0)%d;g._data(this,"lastToggle"+a.guid,e+1);c.preventDefault();return b[e].apply(this,arguments)||!1};for(e.guid=c;d<b.length;)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});g.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(a,b){g.fn[b]=function(a,c){null==c&&(c=a,a=null);return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)};Lc.test(b)&&(g.event.fixHooks[b]=g.event.keyHooks);Mc.test(b)&&(g.event.fixHooks[b]=g.event.mouseHooks)});var Nc=a,C=function(a,b,c,d){var c=c||[],b=b||Y,e,g,f,h,k=b.nodeType;if(!a||"string"!==typeof a)return c;if(1!==k&&9!==k)return[];f=Ka(b);if(!f&&!d&&(e=Oc.exec(a)))if(h=e[1])if(9===k)if((g=b.getElementById(h))&&g.parentNode){if(g.id===h)return c.push(g),c}else return c;else{if(b.ownerDocument&&
(g=b.ownerDocument.getElementById(h))&&Nb(b,g)&&g.id===h)return c.push(g),c}else{if(e[2])return qa.apply(c,ra.call(b.getElementsByTagName(a),0)),c;if((h=e[3])&&Ob&&b.getElementsByClassName)return qa.apply(c,ra.call(b.getElementsByClassName(h),0)),c}return eb(a.replace(La,"$1"),b,c,d,f)},xa=function(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}},Pb=function(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}},ja=function(a){return Z(function(b){b=
+b;return Z(function(c,d){for(var e,g=a([],c.length,b),f=g.length;f--;)if(c[e=g[f]])c[e]=!(d[e]=c[e])})})},Ma=function(a,b,c){if(a===b)return c;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1},Oa=function(a,b){var c,d,e,g,f,h,k;if(f=Qb[M][a])return b?0:f.slice(0);f=a;h=[];for(k=K.preFilter;f;){if(!c||(d=Pc.exec(f)))d&&(f=f.slice(d[0].length)),h.push(e=[]);c=!1;if(d=Qc.exec(f))e.push(c=new Rb(d.shift())),f=f.slice(c.length),c.type=d[0].replace(La," ");for(g in K.filter)if((d=Na[g].exec(f))&&
(!k[g]||(d=k[g](d,Y,!0))))e.push(c=new Rb(d.shift())),f=f.slice(c.length),c.type=g,c.matches=d;if(!c)break}return b?f.length:f?C.error(a):Qb(a,h).slice(0)},gb=function(a,b,c){var d=b.dir,e=c&&"parentNode"===b.dir,g=Rc++;return b.first?function(b,c,g){for(;b=b[d];)if(e||1===b.nodeType)return a(b,c,g)}:function(b,c,f){if(f)for(;b=b[d];){if((e||1===b.nodeType)&&a(b,c,f))return b}else for(var A,h=ya+" "+g+" ",k=h+fb;b=b[d];)if(e||1===b.nodeType){if((A=b[M])===k)return b.sizset;if("string"===typeof A&&
0===A.indexOf(h)){if(b.sizset)return b}else{b[M]=k;if(a(b,c,f))return b.sizset=!0,b;b.sizset=!1}}}},hb=function(a){return 1<a.length?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]},Pa=function(a,b,c,d,e){for(var g,f=[],h=0,k=a.length,j=null!=b;h<k;h++)if(g=a[h])if(!c||c(g,d,e))f.push(g),j&&b.push(h);return f},ib=function(a,b,c,d,e,g){d&&!d[M]&&(d=ib(d));e&&!e[M]&&(e=ib(e,g));return Z(function(g,f,h,k){if(!g||!e){var j,p,w=[],l=[],m=f.length;if(!(p=g)){p=b||"*";var n=
h.nodeType?[h]:h,r=[];j=0;for(var q=n.length;j<q;j++)C(p,n[j],r,g);p=r}n=a&&(g||!b)?Pa(p,w,a,h,k):p;r=c?e||(g?a:m||d)?[]:f:n;c&&c(n,r,h,k);if(d){p=Pa(r,l);d(p,[],h,k);for(h=p.length;h--;)if(j=p[h])r[l[h]]=!(n[l[h]]=j)}if(g)for(h=a&&r.length;h--;){if(j=r[h])g[w[h]]=!(f[w[h]]=j)}else r=Pa(r===f?r.splice(m,r.length):r),e?e(null,f,r,k):qa.apply(f,r)}})},jb=function(a){var b,c,d,e=a.length,g=K.relative[a[0].type];c=g||K.relative[" "];for(var f=g?1:0,h=gb(function(a){return a===b},c,!0),k=gb(function(a){return-1<
Sb.call(b,a)},c,!0),j=[function(a,c,d){return!g&&(d||c!==Qa)||((b=c).nodeType?h(a,c,d):k(a,c,d))}];f<e;f++)if(c=K.relative[a[f].type])j=[gb(hb(j),c)];else{c=K.filter[a[f].type].apply(null,a[f].matches);if(c[M]){for(d=++f;d<e&&!K.relative[a[d].type];d++);return ib(1<f&&hb(j),1<f&&a.slice(0,f-1).join("").replace(La,"$1"),c,f<d&&jb(a.slice(f,d)),d<e&&jb(a=a.slice(d)),d<e&&a.join(""))}j.push(c)}return hb(j)},eb=function(a,b,c,d,e){var g,f,h,k,j=Oa(a);if(!d&&1===j.length){f=j[0]=j[0].slice(0);if(2<f.length&&
"ID"===(h=f[0]).type&&9===b.nodeType&&!e&&K.relative[f[1].type]){b=K.find.ID(h.matches[0].replace(ka,""),b,e)[0];if(!b)return c;a=a.slice(f.shift().length)}for(g=Na.POS.test(a)?-1:f.length-1;0<=g;g--){h=f[g];if(K.relative[k=h.type])break;if(k=K.find[k])if(d=k(h.matches[0].replace(ka,""),kb.test(f[0].type)&&b.parentNode||b,e)){f.splice(g,1);a=d.length&&f.join("");if(!a)return qa.apply(c,ra.call(d,0)),c;break}}}lb(a,j)(d,b,e,c,kb.test(a));return c},Tb=function(){},fb,mb,K,Ra,Ka,Nb,lb,nb,za,Qa,Ub=!0,
M=("sizcache"+Math.random()).replace(".",""),Rb=String,Y=Nc.document,X=Y.documentElement,ya=0,Rc=0,Sc=[].pop,qa=[].push,ra=[].slice,Sb=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1},Z=function(a,b){a[M]=null==b||b;return a},ob=function(){var a={},b=[];return Z(function(c,d){b.push(c)>K.cacheLength&&delete a[b.shift()];return a[c]=d},a)},Vb=ob(),Qb=ob(),Wb=ob(),Xb="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+
"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w#")+")|)|)[\\x20\\t\\r\\n\\f]*\\]",pb=":((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+Xb+")|[^:]|\\\\.)*|.*))\\)|)",La=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),Pc=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Qc=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,Tc=RegExp(pb),Oc=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,kb=/[\x20\t\r\n\f]*[+~]/,Uc=/h\d/i,Vc=/input|select|textarea|button/i,
ka=/\\(?!\\)/g,Na={ID:/^#((?:\\.|[-\w]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[-\w]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[-\w]|[^\x00-\xa0])+)['"]?\]/,TAG:RegExp("^("+"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+Xb),PSEUDO:RegExp("^"+pb),POS:/:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i,CHILD:RegExp("^:(only|nth|first|last)-child(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)",
"i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},da=function(a){var b=Y.createElement("div");try{return a(b)}catch(c){return!1}finally{}},Wc=da(function(a){a.appendChild(Y.createComment(""));return!a.getElementsByTagName("*").length}),Xc=da(function(a){a.innerHTML="<a href='#'></a>";return a.firstChild&&"undefined"!==typeof a.firstChild.getAttribute&&"#"===a.firstChild.getAttribute("href")}),
Yc=da(function(a){a.innerHTML="<select></select>";a=typeof a.lastChild.getAttribute("multiple");return"boolean"!==a&&"string"!==a}),Ob=da(function(a){a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!a.getElementsByClassName||!a.getElementsByClassName("e").length)return!1;a.lastChild.className="e";return 2===a.getElementsByClassName("e").length}),Zc=da(function(a){a.id=M+0;a.innerHTML="<a name='"+M+"'></a><div name='"+M+"'></div>";X.insertBefore(a,X.firstChild);var b=Y.getElementsByName&&
Y.getElementsByName(M).length===2+Y.getElementsByName(M+0).length;mb=!Y.getElementById(M);X.removeChild(a);return b});try{ra.call(X.childNodes,0)[0].nodeType}catch(Id){ra=function(a){for(var b,c=[];b=this[a];a++)c.push(b);return c}}C.matches=function(a,b){return C(a,null,null,b)};C.matchesSelector=function(a,b){return 0<C(b,null,null,[a]).length};Ra=C.getText=function(a){var b,c="",d=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=
a.nextSibling)c+=Ra(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[d];d++)c+=Ra(b);return c};Ka=C.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};Nb=C.contains=X.contains?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||!(1===d.nodeType&&c.contains&&c.contains(d)))}:X.compareDocumentPosition?function(a,b){return b&&!!(a.compareDocumentPosition(b)&16)}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;
return!1};C.attr=function(a,b){var c,d=Ka(a);d||(b=b.toLowerCase());return(c=K.attrHandle[b])?c(a):d||Yc?a.getAttribute(b):(c=a.getAttributeNode(b))?"boolean"===typeof a[b]?a[b]?b:null:c.specified?c.value:null:null};K=C.selectors={cacheLength:50,createPseudo:Z,match:Na,attrHandle:Xc?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},find:{ID:mb?function(a,b,c){if("undefined"!==typeof b.getElementById&&!c)return(a=b.getElementById(a))&&a.parentNode?
[a]:[]}:function(a,b,c){if("undefined"!==typeof b.getElementById&&!c)return(b=b.getElementById(a))?b.id===a||"undefined"!==typeof b.getAttributeNode&&b.getAttributeNode("id").value===a?[b]:void 0:[]},TAG:Wc?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a)}:function(a,b){var c=b.getElementsByTagName(a);if("*"===a){for(var d,e=[],g=0;d=c[g];g++)1===d.nodeType&&e.push(d);return e}return c},NAME:Zc&&function(a,b){if("undefined"!==typeof b.getElementsByName)return b.getElementsByName(name)},
CLASS:Ob&&function(a,b,c){if("undefined"!==typeof b.getElementsByClassName&&!c)return b.getElementsByClassName(a)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(ka,"");a[3]=(a[4]||a[5]||"").replace(ka,"");"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1]?(a[2]||C.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*("even"===
a[2]||"odd"===a[2])),a[4]=+(a[6]+a[7]||"odd"===a[2])):a[2]&&C.error(a[0]);return a},PSEUDO:function(a){var b,c;if(Na.CHILD.test(a[0]))return null;if(a[3])a[2]=a[3];else if(b=a[4]){if(Tc.test(b)&&(c=Oa(b,!0))&&(c=b.indexOf(")",b.length-c)-b.length))b=b.slice(0,c),a[0]=a[0].slice(0,c);a[2]=b}return a.slice(0,3)}},filter:{ID:mb?function(a){a=a.replace(ka,"");return function(b){return b.getAttribute("id")===a}}:function(a){a=a.replace(ka,"");return function(b){return(b="undefined"!==typeof b.getAttributeNode&&
b.getAttributeNode("id"))&&b.value===a}},TAG:function(a){if("*"===a)return function(){return!0};a=a.replace(ka,"").toLowerCase();return function(b){return b.nodeName&&b.nodeName.toLowerCase()===a}},CLASS:function(a){var b=Vb[M][a];b||(b=Vb(a,RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)")));return function(a){return b.test(a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")}},ATTR:function(a,b,c){return function(d){d=C.attr(d,a);if(null==d)return"!="===b;if(!b)return!0;
d+="";return"="===b?d===c:"!="===b?d!==c:"^="===b?c&&0===d.indexOf(c):"*="===b?c&&-1<d.indexOf(c):"$="===b?c&&d.substr(d.length-c.length)===c:"~="===b?-1<(" "+d+" ").indexOf(c):"|="===b?d===c||d.substr(0,c.length+1)===c+"-":!1}},CHILD:function(a,b,c,d){return"nth"===a?function(a){var b,e;b=a.parentNode;if(1===c&&0===d)return!0;if(b){e=0;for(b=b.firstChild;b&&!(1===b.nodeType&&(e++,a===b));b=b.nextSibling);}e-=d;return e===c||0===e%c&&0<=e/c}:function(b){var c=b;switch(a){case "only":case "first":for(;c=
c.previousSibling;)if(1===c.nodeType)return!1;if("first"===a)return!0;c=b;case "last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0}}},PSEUDO:function(a,b){var c,d=K.pseudos[a]||K.setFilters[a.toLowerCase()]||C.error("unsupported pseudo: "+a);return d[M]?d(b):1<d.length?(c=[a,a,"",b],K.setFilters.hasOwnProperty(a.toLowerCase())?Z(function(a,c){for(var e,g=d(a,b),f=g.length;f--;)e=Sb.call(a,g[f]),a[e]=!(c[e]=g[f])}):function(a){return d(a,0,c)}):d}},pseudos:{not:Z(function(a){var b=[],
c=[],d=lb(a.replace(La,"$1"));return d[M]?Z(function(a,b,c,e){for(var e=d(a,null,e,[]),g=a.length;g--;)if(c=e[g])a[g]=!(b[g]=c)}):function(a,e,g){b[0]=a;d(b,null,g,c);return!c.pop()}}),has:Z(function(a){return function(b){return 0<C(a,b).length}}),contains:Z(function(a){return function(b){return-1<(b.textContent||b.innerText||Ra(b)).indexOf(a)}}),enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===
b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},parent:function(a){return!K.pseudos.empty(a)},empty:function(a){for(var b,a=a.firstChild;a;){if("@"<a.nodeName||3===(b=a.nodeType)||4===b)return!1;a=a.nextSibling}return!0},header:function(a){return Uc.test(a.nodeName)},text:function(a){var b,c;return"input"===a.nodeName.toLowerCase()&&"text"===(b=a.type)&&(null==(c=a.getAttribute("type"))||c.toLowerCase()===b)},radio:xa("radio"),
checkbox:xa("checkbox"),file:xa("file"),password:xa("password"),image:xa("image"),submit:Pb("submit"),reset:Pb("reset"),button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return Vc.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&!(!a.type&&!a.href)},active:function(a){return a===a.ownerDocument.activeElement},first:ja(function(){return[0]}),last:ja(function(a,b){return[b-
1]}),eq:ja(function(a,b,c){return[0>c?c+b:c]}),even:ja(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:ja(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:ja(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:ja(function(a,b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}};nb=X.compareDocumentPosition?function(a,b){return a===b?(za=!0,0):(!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition:a.compareDocumentPosition(b)&4)?-1:1}:function(a,
b){if(a===b)return za=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],g=[];c=a.parentNode;d=b.parentNode;var f=c;if(c===d)return Ma(a,b);if(c){if(!d)return 1}else return-1;for(;f;)e.unshift(f),f=f.parentNode;for(f=d;f;)g.unshift(f),f=f.parentNode;c=e.length;d=g.length;for(f=0;f<c&&f<d;f++)if(e[f]!==g[f])return Ma(e[f],g[f]);return f===c?Ma(a,g[f],-1):Ma(e[f],b,1)};[0,0].sort(nb);Ub=!za;C.uniqueSort=function(a){var b,c=1;za=Ub;a.sort(nb);if(za)for(;b=a[c];c++)b===
a[c-1]&&a.splice(c--,1);return a};C.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};lb=C.compile=function(a,b){var c,d=[],e=[],g=Wb[M][a];if(!g){b||(b=Oa(a));for(c=b.length;c--;)g=jb(b[c]),g[M]?d.push(g):e.push(g);var f=0<d.length,h=0<e.length,k=function(a,b,c,g,y){var j,A,p=[],O=0,l="0",w=a&&[],m=null!=y,n=Qa,r=a||h&&K.find.TAG("*",y&&b.parentNode||b),q=ya+=null==n?1:Math.E;m&&(Qa=b!==Y&&b,fb=k.el);for(;null!=(y=r[l]);l++){if(h&&y){for(j=0;A=e[j];j++)if(A(y,b,c)){g.push(y);
break}m&&(ya=q,fb=++k.el)}f&&((y=!A&&y)&&O--,a&&w.push(y))}O+=l;if(f&&l!==O){for(j=0;A=d[j];j++)A(w,p,b,c);if(a){if(0<O)for(;l--;)!w[l]&&!p[l]&&(p[l]=Sc.call(g));p=Pa(p)}qa.apply(g,p);m&&(!a&&0<p.length&&1<O+d.length)&&C.uniqueSort(g)}m&&(ya=q,Qa=n);return w};k.el=0;c=f?Z(k):k;g=Wb(a,c)}return g};if(Y.querySelectorAll){var Yb,$c=eb,ad=/'|\\/g,bd=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,ba=[":focus"],Sa=[":active",":focus"],Ta=X.matchesSelector||X.mozMatchesSelector||X.webkitMatchesSelector||
X.oMatchesSelector||X.msMatchesSelector;da(function(a){a.innerHTML="<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||ba.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");a.querySelectorAll(":checked").length||ba.push(":checked")});da(function(a){a.innerHTML="<p test=''></p>";a.querySelectorAll("[test^='']").length&&ba.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");a.innerHTML="<input type='hidden'/>";a.querySelectorAll(":enabled").length||
ba.push(":enabled",":disabled")});ba=RegExp(ba.join("|"));eb=function(a,b,c,d,e){if(!d&&!e&&(!ba||!ba.test(a))){var g,f,h=!0,k=M;f=b;g=9===b.nodeType&&a;if(1===b.nodeType&&"object"!==b.nodeName.toLowerCase()){g=Oa(a);(h=b.getAttribute("id"))?k=h.replace(ad,"\\$&"):b.setAttribute("id",k);k="[id='"+k+"'] ";for(f=g.length;f--;)g[f]=k+g[f].join("");f=kb.test(a)&&b.parentNode||b;g=g.join(",")}if(g)try{return qa.apply(c,ra.call(f.querySelectorAll(g),0)),c}catch(j){}finally{h||b.removeAttribute("id")}}return $c(a,
b,c,d,e)};Ta&&(da(function(a){Yb=Ta.call(a,"div");try{Ta.call(a,"[test!='']:sizzle"),Sa.push("!=",pb)}catch(b){}}),Sa=RegExp(Sa.join("|")),C.matchesSelector=function(a,b){b=b.replace(bd,"='$1']");if(!Ka(a)&&!Sa.test(b)&&(!ba||!ba.test(b)))try{var c=Ta.call(a,b);if(c||Yb||a.document&&11!==a.document.nodeType)return c}catch(d){}return 0<C(b,null,null,[a]).length})}K.pseudos.nth=K.pseudos.eq;K.filters=Tb.prototype=K.pseudos;K.setFilters=new Tb;C.attr=g.attr;g.find=C;g.expr=C.selectors;g.expr[":"]=g.expr.pseudos;
g.unique=C.uniqueSort;g.text=C.getText;g.isXMLDoc=C.isXML;g.contains=C.contains;var cd=/Until$/,dd=/^(?:parents|prev(?:Until|All))/,xc=/^.[^:#\[\.,]*$/,Zb=g.expr.match.needsContext,ed={children:!0,contents:!0,next:!0,prev:!0};g.fn.extend({find:function(a){var b,c,d,e,f,h,k=this;if("string"!==typeof a)return g(a).filter(function(){b=0;for(c=k.length;b<c;b++)if(g.contains(k[b],this))return!0});h=this.pushStack("","find",a);b=0;for(c=this.length;b<c;b++)if(d=h.length,g.find(a,this[b],h),0<b)for(e=d;e<
h.length;e++)for(f=0;f<d;f++)if(h[f]===h[e]){h.splice(e--,1);break}return h},has:function(a){var b,c=g(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++)if(g.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(m(this,a,!1),"not",a)},filter:function(a){return this.pushStack(m(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"===typeof a?Zb.test(a)?0<=g(a,this.context).index(this[0]):0<g.filter(a,this).length:0<this.filter(a).length)},closest:function(a,b){for(var c,
d=0,e=this.length,f=[],h=Zb.test(a)||"string"!==typeof a?g(a,b||this.context):0;d<e;d++)for(c=this[d];c&&c.ownerDocument&&c!==b&&11!==c.nodeType;){if(h?-1<h.index(c):g.find.matchesSelector(c,a)){f.push(c);break}c=c.parentNode}f=1<f.length?g.unique(f):f;return this.pushStack(f,"closest",a)},index:function(a){return!a?this[0]&&this[0].parentNode?this.prevAll().length:-1:"string"===typeof a?g.inArray(this[0],g(a)):g.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c="string"===typeof a?g(a,b):g.makeArray(a&&
a.nodeType?[a]:a),d=g.merge(this.get(),c);return this.pushStack(j(c[0])||j(d[0])?d:g.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});g.fn.andSelf=g.fn.addBack;g.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return g.dir(a,"parentNode")},parentsUntil:function(a,b,c){return g.dir(a,"parentNode",c)},next:function(a){return l(a,"nextSibling")},prev:function(a){return l(a,"previousSibling")},nextAll:function(a){return g.dir(a,
"nextSibling")},prevAll:function(a){return g.dir(a,"previousSibling")},nextUntil:function(a,b,c){return g.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return g.dir(a,"previousSibling",c)},siblings:function(a){return g.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return g.sibling(a.firstChild)},contents:function(a){return g.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:g.merge([],a.childNodes)}},function(a,b){g.fn[a]=function(c,d){var e=g.map(this,b,c);cd.test(a)||
(d=c);d&&"string"===typeof d&&(e=g.filter(d,e));e=1<this.length&&!ed[a]?g.unique(e):e;1<this.length&&dd.test(a)&&(e=e.reverse());return this.pushStack(e,a,T.call(arguments).join(","))}});g.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return 1===b.length?g.find.matchesSelector(b[0],a)?[b[0]]:[]:g.find.matches(a,b)},dir:function(a,c,d){for(var e=[],a=a[c];a&&9!==a.nodeType&&(d===b||1!==a.nodeType||!g(a).is(d));)1===a.nodeType&&e.push(a),a=a[c];return e},sibling:function(a,b){for(var c=[];a;a=
a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var zb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",fd=/ jQuery\d+="(?:null|\d+)"/g,qb=/^\s+/,$b=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ac=/<([\w:]+)/,gd=/<tbody/i,hd=/<|&#?\w+;/,id=/<(?:script|style|link)/i,jd=/<(?:script|object|embed|option|style)/i,rb=RegExp("<(?:"+zb+")[\\s/>]","i"),Ab=/^(?:checkbox|radio)$/,
bc=/checked\s*(?:[^=]|=\s*.checked.)/i,kd=/\/(java|ecma)script/i,ld=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,W={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},cc=q(t),sb=cc.appendChild(t.createElement("div"));W.optgroup=
W.option;W.tbody=W.tfoot=W.colgroup=W.caption=W.thead;W.th=W.td;g.support.htmlSerialize||(W._default=[1,"X<div>","</div>"]);g.fn.extend({text:function(a){return g.access(this,function(a){return a===b?g.text(this):this.empty().append((this[0]&&this[0].ownerDocument||t).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(g.isFunction(a))return this.each(function(b){g(this).wrapAll(a.call(this,b))});if(this[0]){var b=g(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);
b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return g.isFunction(a)?this.each(function(b){g(this).wrapInner(a.call(this,b))}):this.each(function(){var b=g(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=g.isFunction(a);return this.each(function(c){g(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){g.nodeName(this,"body")||
g(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(a,this.firstChild)})},before:function(){if(!j(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=g.clean(arguments);return this.pushStack(g.merge(a,
this),"before",this.selector)}},after:function(){if(!j(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=g.clean(arguments);return this.pushStack(g.merge(this,a),"after",this.selector)}},remove:function(a,b){for(var c,d=0;null!=(c=this[d]);d++)if(!a||g.filter(a,[c]).length)!b&&1===c.nodeType&&(g.cleanData(c.getElementsByTagName("*")),g.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c);return this},empty:function(){for(var a,
b=0;null!=(a=this[b]);b++)for(1===a.nodeType&&g.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return g.clone(this,a,b)})},html:function(a){return g.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(fd,""):b;if("string"===typeof a&&!id.test(a)&&(g.support.htmlSerialize||!rb.test(a))&&(g.support.leadingWhitespace||!qb.test(a))&&
!W[(ac.exec(a)||["",""])[1].toLowerCase()]){a=a.replace($b,"<$1></$2>");try{for(;d<e;d++)c=this[d]||{},1===c.nodeType&&(g.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){if(!j(this[0])){if(g.isFunction(a))return this.each(function(b){var c=g(this),d=c.html();c.replaceWith(a.call(this,b,d))});"string"!==typeof a&&(a=g(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;g(this).remove();
b?g(b).before(a):g(c).append(a)})}return this.length?this.pushStack(g(g.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var a=[].concat.apply([],a),e,f,h,k=0,j=a[0],p=[],l=this.length;if(!g.support.checkClone&&1<l&&"string"===typeof j&&bc.test(j))return this.each(function(){g(this).domManip(a,c,d)});if(g.isFunction(j))return this.each(function(e){var f=g(this);a[0]=j.call(this,e,c?f.html():b);f.domManip(a,c,d)});if(this[0]){e=g.buildFragment(a,
this,p);h=e.fragment;f=h.firstChild;1===h.childNodes.length&&(h=f);if(f){c=c&&g.nodeName(f,"tr");for(e=e.cacheable||l-1;k<l;k++)d.call(c&&g.nodeName(this[k],"table")?this[k].getElementsByTagName("tbody")[0]||this[k].appendChild(this[k].ownerDocument.createElement("tbody")):this[k],k===e?h:g.clone(h,!0,!0))}h=f=null;p.length&&g.each(p,function(a,b){b.src?g.ajax?g.ajax({url:b.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):g.error("no ajax"):g.globalEval((b.text||b.textContent||b.innerHTML||
"").replace(ld,""));b.parentNode&&b.parentNode.removeChild(b)})}return this}});g.buildFragment=function(a,c,d){var e,f,h,k=a[0],c=c||t,c=!c.nodeType&&c[0]||c,c=c.ownerDocument||c;if(1===a.length&&"string"===typeof k&&512>k.length&&c===t&&"<"===k.charAt(0)&&!jd.test(k)&&(g.support.checkClone||!bc.test(k))&&(g.support.html5Clone||!rb.test(k)))f=!0,e=g.fragments[k],h=e!==b;e||(e=c.createDocumentFragment(),g.clean(a,c,e,d),f&&(g.fragments[k]=h&&e));return{fragment:e,cacheable:f}};g.fragments={};g.each({appendTo:"append",
prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){g.fn[a]=function(c){var d,e=0,f=[],c=g(c),h=c.length;d=1===this.length&&this[0].parentNode;if((null==d||d&&11===d.nodeType&&1===d.childNodes.length)&&1===h)return c[b](this[0]),this;for(;e<h;e++)d=(0<e?this.clone(!0):this).get(),g(c[e])[b](d),f=f.concat(d);return this.pushStack(f,a,c.selector)}});g.extend({clone:function(a,b,c){var d,e,f,h;g.support.html5Clone||g.isXMLDoc(a)||!rb.test("<"+a.nodeName+
">")?h=a.cloneNode(!0):(sb.innerHTML=a.outerHTML,sb.removeChild(h=sb.firstChild));if((!g.support.noCloneEvent||!g.support.noCloneChecked)&&(1===a.nodeType||11===a.nodeType)&&!g.isXMLDoc(a)){v(a,h);d=B(a);e=B(h);for(f=0;d[f];++f)e[f]&&v(d[f],e[f])}if(b&&(r(a,h),c)){d=B(a);e=B(h);for(f=0;d[f];++f)r(d[f],e[f])}return h},clean:function(a,b,c,d){var e,f,h,k,j,p,l=b===t&&cc,m=[];if(!b||"undefined"===typeof b.createDocumentFragment)b=t;for(e=0;null!=(h=a[e]);e++)if("number"===typeof h&&(h+=""),h){if("string"===
typeof h)if(hd.test(h)){l=l||q(b);p=b.createElement("div");l.appendChild(p);h=h.replace($b,"<$1></$2>");f=(ac.exec(h)||["",""])[1].toLowerCase();k=W[f]||W._default;j=k[0];for(p.innerHTML=k[1]+h+k[2];j--;)p=p.lastChild;if(!g.support.tbody){j=gd.test(h);k="table"===f&&!j?p.firstChild&&p.firstChild.childNodes:"<table>"===k[1]&&!j?p.childNodes:[];for(f=k.length-1;0<=f;--f)g.nodeName(k[f],"tbody")&&!k[f].childNodes.length&&k[f].parentNode.removeChild(k[f])}!g.support.leadingWhitespace&&qb.test(h)&&p.insertBefore(b.createTextNode(qb.exec(h)[0]),
p.firstChild);h=p.childNodes;p.parentNode.removeChild(p)}else h=b.createTextNode(h);h.nodeType?m.push(h):g.merge(m,h)}p&&(h=p=l=null);if(!g.support.appendChecked)for(e=0;null!=(h=m[e]);e++)g.nodeName(h,"input")?H(h):"undefined"!==typeof h.getElementsByTagName&&g.grep(h.getElementsByTagName("input"),H);if(c){a=function(a){if(!a.type||kd.test(a.type))return d?d.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a)};for(e=0;null!=(h=m[e]);e++)if(!g.nodeName(h,"script")||!a(h))c.appendChild(h),
"undefined"!==typeof h.getElementsByTagName&&(h=g.grep(g.merge([],h.getElementsByTagName("script")),a),m.splice.apply(m,[e+1,0].concat(h)),e+=h.length)}return m},cleanData:function(a,b){for(var c,d,e,f,h=0,k=g.expando,j=g.cache,p=g.support.deleteExpando,l=g.event.special;null!=(e=a[h]);h++)if(b||g.acceptData(e))if(c=(d=e[k])&&j[d]){if(c.events)for(f in c.events)l[f]?g.event.remove(e,f):g.removeEvent(e,f,c.handle);j[d]&&(delete j[d],p?delete e[k]:e.removeAttribute?e.removeAttribute(k):e[k]=null,g.deletedIds.push(d))}}});
var Ua,ea;g.uaMatch=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};Ua=g.uaMatch(Xa.userAgent);ea={};Ua.browser&&(ea[Ua.browser]=!0,ea.version=Ua.version);ea.chrome?ea.webkit=!0:ea.webkit&&(ea.safari=!0);g.browser=ea;g.sub=function(){function a(b,c){return new a.fn.init(b,
c)}g.extend(!0,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(c,d){d&&(d instanceof g&&!(d instanceof a))&&(d=a(d));return g.fn.init.call(this,c,d,b)};a.fn.init.prototype=a.fn;var b=a(t);return a};var S,na,oa,tb=/alpha\([^)]*\)/i,md=/opacity=([^)]*)/,nd=/^(top|right|bottom|left)$/,od=/^(none|table(?!-c[ea]).+)/,dc=/^margin/,yc=RegExp("^("+Ba+")(.*)$","i"),Ca=RegExp("^("+Ba+")(?!px)[a-z%]+$","i"),pd=RegExp("^([-+])=("+Ba+")","i"),$a={},qd={position:"absolute",
visibility:"hidden",display:"block"},ec={letterSpacing:0,fontWeight:400},ga=["Top","Right","Bottom","Left"],Bb=["Webkit","O","Moz","ms"],rd=g.fn.toggle;g.fn.extend({css:function(a,c){return g.access(this,function(a,c,d){return d!==b?g.style(a,c,d):g.css(a,c)},a,c,1<arguments.length)},show:function(){return s(this,!0)},hide:function(){return s(this)},toggle:function(a,b){var c="boolean"===typeof a;return g.isFunction(a)&&g.isFunction(b)?rd.apply(this,arguments):this.each(function(){(c?a:D(this))?g(this).show():
g(this).hide()})}});g.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=S(a,"opacity");return""===c?"1":c}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":g.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&!(3===a.nodeType||8===a.nodeType||!a.style)){var f,h,k,j=g.camelCase(c),p=a.style,c=g.cssProps[j]||(g.cssProps[j]=E(p,j));k=g.cssHooks[c]||g.cssHooks[j];if(d!==b){h=typeof d;if("string"===
h&&(f=pd.exec(d)))d=(f[1]+1)*f[2]+parseFloat(g.css(a,c)),h="number";if(!(null==d||"number"===h&&isNaN(d)))if("number"===h&&!g.cssNumber[j]&&(d+="px"),!k||!("set"in k)||(d=k.set(a,d,e))!==b)try{p[c]=d}catch(l){}}else return k&&"get"in k&&(f=k.get(a,!1,e))!==b?f:p[c]}},css:function(a,c,d,e){var f,h;h=g.camelCase(c);c=g.cssProps[h]||(g.cssProps[h]=E(a.style,h));(h=g.cssHooks[c]||g.cssHooks[h])&&"get"in h&&(f=h.get(a,!0,e));f===b&&(f=S(a,c));"normal"===f&&c in ec&&(f=ec[c]);return d||e!==b?(a=parseFloat(f),
d||g.isNumeric(a)?a||0:f):f},swap:function(a,b,c){var d,e={};for(d in b)e[d]=a.style[d],a.style[d]=b[d];c=c.call(a);for(d in b)a.style[d]=e[d];return c}});a.getComputedStyle?S=function(b,c){var d,e,f,h,k=a.getComputedStyle(b,null),j=b.style;k&&(d=k[c],""===d&&!g.contains(b.ownerDocument,b)&&(d=g.style(b,c)),Ca.test(d)&&dc.test(c)&&(e=j.width,f=j.minWidth,h=j.maxWidth,j.minWidth=j.maxWidth=j.width=d,d=k.width,j.width=e,j.minWidth=f,j.maxWidth=h));return d}:t.documentElement.currentStyle&&(S=function(a,
b){var c,d,e=a.currentStyle&&a.currentStyle[b],g=a.style;null==e&&(g&&g[b])&&(e=g[b]);if(Ca.test(e)&&!nd.test(b)){c=g.left;if(d=a.runtimeStyle&&a.runtimeStyle.left)a.runtimeStyle.left=a.currentStyle.left;g.left="fontSize"===b?"1em":e;e=g.pixelLeft+"px";g.left=c;d&&(a.runtimeStyle.left=d)}return""===e?"auto":e});g.each(["height","width"],function(a,b){g.cssHooks[b]={get:function(a,c,d){if(c)return 0===a.offsetWidth&&od.test(S(a,"display"))?g.swap(a,qd,function(){return k(a,b,d)}):k(a,b,d)},set:function(a,
c,d){return F(a,c,d?G(a,b,d,g.support.boxSizing&&"border-box"===g.css(a,"boxSizing")):0)}}});g.support.opacity||(g.cssHooks.opacity={get:function(a,b){return md.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=g.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1;if(1<=b&&(""===g.trim(f.replace(tb,""))&&c.removeAttribute)&&(c.removeAttribute("filter"),d&&!d.filter))return;
c.filter=tb.test(f)?f.replace(tb,e):f+" "+e}});g(function(){g.support.reliableMarginRight||(g.cssHooks.marginRight={get:function(a,b){return g.swap(a,{display:"inline-block"},function(){if(b)return S(a,"marginRight")})}});!g.support.pixelPosition&&g.fn.position&&g.each(["top","left"],function(a,b){g.cssHooks[b]={get:function(a,c){if(c){var d=S(a,b);return Ca.test(d)?g(a).position()[b]+"px":d}}}})});g.expr&&g.expr.filters&&(g.expr.filters.hidden=function(a){return 0===a.offsetWidth&&0===a.offsetHeight||
!g.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||S(a,"display"))},g.expr.filters.visible=function(a){return!g.expr.filters.hidden(a)});g.each({margin:"",padding:"",border:"Width"},function(a,b){g.cssHooks[a+b]={expand:function(c){for(var d="string"===typeof c?c.split(" "):[c],e={},c=0;4>c;c++)e[a+ga[c]+b]=d[c]||d[c-2]||d[0];return e}};dc.test(a)||(g.cssHooks[a+b].set=F)});var sd=/%20/g,zc=/\[\]$/,fc=/\r?\n/g,td=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,
ud=/^(?:select|textarea)/i;g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?g.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||ud.test(this.nodeName)||td.test(this.type))}).map(function(a,b){var c=g(this).val();return null==c?null:g.isArray(c)?g.map(c,function(a){return{name:b.name,value:a.replace(fc,"\r\n")}}):{name:b.name,value:c.replace(fc,"\r\n")}}).get()}});
g.param=function(a,c){var d,e=[],f=function(a,b){b=g.isFunction(b)?b():null==b?"":b;e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=g.ajaxSettings&&g.ajaxSettings.traditional);if(g.isArray(a)||a.jquery&&!g.isPlainObject(a))g.each(a,function(){f(this.name,this.value)});else for(d in a)h(d,a[d],c,f);return e.join("&").replace(sd,"+")};var sa,la,vd=/#.*$/,wd=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,xd=/^(?:GET|HEAD)$/,yd=/^\/\//,gc=/\?/,zd=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
Ad=/([?&])_=[^&]*/,hc=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,ic=g.fn.load,ab={},jc={},kc=["*/"]+["*"];try{la=Aa.href}catch(Jd){la=t.createElement("a"),la.href="",la=la.href}sa=hc.exec(la.toLowerCase())||[];g.fn.load=function(a,c,d){if("string"!==typeof a&&ic)return ic.apply(this,arguments);if(!this.length)return this;var e,f,h,k=this,j=a.indexOf(" ");0<=j&&(e=a.slice(j,a.length),a=a.slice(0,j));g.isFunction(c)?(d=c,c=b):c&&"object"===typeof c&&(f="POST");g.ajax({url:a,type:f,dataType:"html",
data:c,complete:function(a,b){d&&k.each(d,h||[a.responseText,b,a])}}).done(function(a){h=arguments;k.html(e?g("<div>").append(a.replace(zd,"")).find(e):a)});return this};g.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){g.fn[b]=function(a){return this.on(b,a)}});g.each(["get","post"],function(a,c){g[c]=function(a,d,e,f){g.isFunction(d)&&(f=f||e,e=d,d=b);return g.ajax({type:c,url:a,data:d,success:e,dataType:f})}});g.extend({getScript:function(a,c){return g.get(a,
b,c,"script")},getJSON:function(a,b,c){return g.get(a,b,c,"json")},ajaxSetup:function(a,b){b?N(a,g.ajaxSettings):(b=a,a=g.ajaxSettings);N(a,b);return a},ajaxSettings:{url:la,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(sa[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":kc},contents:{xml:/xml/,
html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":g.parseJSON,"text xml":g.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:n(ab),ajaxTransport:n(jc),ajax:function(a,c){function d(a,c,h,p){var y,m,A,z,w=c;if(2!==L){L=2;j&&clearTimeout(j);k=b;f=p||"";x.readyState=0<a?4:0;if(h){z=n;var p=x,O,v,B,H,E=z.contents,D=z.dataTypes,Q=z.responseFields;for(v in Q)v in h&&(p[Q[v]]=h[v]);for(;"*"===D[0];)D.shift(),O===
b&&(O=z.mimeType||p.getResponseHeader("content-type"));if(O)for(v in E)if(E[v]&&E[v].test(O)){D.unshift(v);break}if(D[0]in h)B=D[0];else{for(v in h){if(!D[0]||z.converters[v+" "+D[0]]){B=v;break}H||(H=v)}B=B||H}B?(B!==D[0]&&D.unshift(B),z=h[B]):z=void 0}if(200<=a&&300>a||304===a)if(n.ifModified&&((h=x.getResponseHeader("Last-Modified"))&&(g.lastModified[e]=h),(h=x.getResponseHeader("Etag"))&&(g.etag[e]=h)),304===a)w="notmodified",y=!0;else{a:{m=n;A=z;var C,F,w=m.dataTypes.slice();O=w[0];v={};B=0;
m.dataFilter&&(A=m.dataFilter(A,m.dataType));if(w[1])for(C in m.converters)v[C.toLowerCase()]=m.converters[C];for(;h=w[++B];)if("*"!==h){if("*"!==O&&O!==h){C=v[O+" "+h]||v["* "+h];if(!C)for(F in v)if(y=F.split(" "),y[1]===h&&(C=v[O+" "+y[0]]||v["* "+y[0]])){!0===C?C=v[F]:!0!==v[F]&&(h=y[0],w.splice(B--,0,h));break}if(!0!==C)if(C&&m["throws"])A=C(A);else try{A=C(A)}catch(G){y={state:"parsererror",error:C?G:"No conversion from "+O+" to "+h};break a}}O=h}y={state:"success",data:A}}w=y.state;m=y.data;
A=y.error;y=!A}else if(A=w,!w||a)w="error",0>a&&(a=0);x.status=a;x.statusText=(c||w)+"";y?s.resolveWith(r,[m,w,x]):s.rejectWith(r,[x,w,A]);x.statusCode(t);t=b;l&&q.trigger("ajax"+(y?"Success":"Error"),[x,n,y?m:A]);N.fireWith(r,[x,w]);l&&(q.trigger("ajaxComplete",[x,n]),--g.active||g.event.trigger("ajaxStop"))}}"object"===typeof a&&(c=a,a=b);var c=c||{},e,f,h,k,j,p,l,m,n=g.ajaxSetup({},c),r=n.context||n,q=r!==n&&(r.nodeType||r instanceof g)?g(r):g.event,s=g.Deferred(),N=g.Callbacks("once memory"),
t=n.statusCode||{},v={},B={},L=0,H="canceled",x={readyState:0,setRequestHeader:function(a,b){if(!L){var c=a.toLowerCase(),a=B[c]=B[c]||a;v[a]=b}return this},getAllResponseHeaders:function(){return 2===L?f:null},getResponseHeader:function(a){var c;if(2===L){if(!h)for(h={};c=wd.exec(f);)h[c[1].toLowerCase()]=c[2];c=h[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){L||(n.mimeType=a);return this},abort:function(a){a=a||H;k&&k.abort(a);d(0,a);return this}};s.promise(x);x.success=x.done;
x.error=x.fail;x.complete=N.add;x.statusCode=function(a){if(a){var b;if(2>L)for(b in a)t[b]=[t[b],a[b]];else b=a[x.status],x.always(b)}return this};n.url=((a||n.url)+"").replace(vd,"").replace(yd,sa[1]+"//");n.dataTypes=g.trim(n.dataType||"*").toLowerCase().split(fa);null==n.crossDomain&&(p=hc.exec(n.url.toLowerCase())||!1,n.crossDomain=p&&p.join(":")+(p[3]?"":"http:"===p[1]?80:443)!==sa.join(":")+(sa[3]?"":"http:"===sa[1]?80:443));n.data&&(n.processData&&"string"!==typeof n.data)&&(n.data=g.param(n.data,
n.traditional));z(ab,n,c,x);if(2===L)return x;l=n.global;n.type=n.type.toUpperCase();n.hasContent=!xd.test(n.type);l&&0===g.active++&&g.event.trigger("ajaxStart");if(!n.hasContent&&(n.data&&(n.url+=(gc.test(n.url)?"&":"?")+n.data,delete n.data),e=n.url,!1===n.cache)){p=g.now();var E=n.url.replace(Ad,"$1_="+p);n.url=E+(E===n.url?(gc.test(n.url)?"&":"?")+"_="+p:"")}(n.data&&n.hasContent&&!1!==n.contentType||c.contentType)&&x.setRequestHeader("Content-Type",n.contentType);n.ifModified&&(e=e||n.url,g.lastModified[e]&&
x.setRequestHeader("If-Modified-Since",g.lastModified[e]),g.etag[e]&&x.setRequestHeader("If-None-Match",g.etag[e]));x.setRequestHeader("Accept",n.dataTypes[0]&&n.accepts[n.dataTypes[0]]?n.accepts[n.dataTypes[0]]+("*"!==n.dataTypes[0]?", "+kc+"; q=0.01":""):n.accepts["*"]);for(m in n.headers)x.setRequestHeader(m,n.headers[m]);if(n.beforeSend&&(!1===n.beforeSend.call(r,x,n)||2===L))return x.abort();H="abort";for(m in{success:1,error:1,complete:1})x[m](n[m]);if(k=z(jc,n,c,x)){x.readyState=1;l&&q.trigger("ajaxSend",
[x,n]);n.async&&0<n.timeout&&(j=setTimeout(function(){x.abort("timeout")},n.timeout));try{L=1,k.send(v,d)}catch(D){if(2>L)d(-1,D);else throw D;}}else d(-1,"No Transport");return x},active:0,lastModified:{},etag:{}});var lc=[],Bd=/\?/,Va=/(=)\?(?=&|$)|\?\?/,Cd=g.now();g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=lc.pop()||g.expando+"_"+Cd++;this[a]=!0;return a}});g.ajaxPrefilter("json jsonp",function(c,d,e){var f,h,k,j=c.data,p=c.url,l=!1!==c.jsonp,n=l&&Va.test(p),m=l&&!n&&"string"===
typeof j&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Va.test(j);if("jsonp"===c.dataTypes[0]||n||m)return f=c.jsonpCallback=g.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,h=a[f],n?c.url=p.replace(Va,"$1"+f):m?c.data=j.replace(Va,"$1"+f):l&&(c.url+=(Bd.test(p)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){k||g.error(f+" was not called");return k[0]},c.dataTypes[0]="json",a[f]=function(){k=arguments},e.always(function(){a[f]=h;c[f]&&(c.jsonpCallback=
d.jsonpCallback,lc.push(f));k&&g.isFunction(h)&&h(k[0]);k=h=b}),"script"});g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){g.globalEval(a);return a}}});g.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});g.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=t.head||t.getElementsByTagName("head")[0]||
t.documentElement;return{send:function(e,f){c=t.createElement("script");c.async="async";a.scriptCharset&&(c.charset=a.scriptCharset);c.src=a.url;c.onload=c.onreadystatechange=function(a,e){if(e||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,e||f(200,"success")};d.insertBefore(c,d.firstChild)},abort:function(){if(c)c.onload(0,1)}}}});var ta,ub=a.ActiveXObject?function(){for(var a in ta)ta[a](0,1)}:!1,Dd=0;g.ajaxSettings.xhr=
a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&Q()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(c){}b=void 0}return b}:Q;var vb=g.ajaxSettings.xhr();g.extend(g.support,{ajax:!!vb,cors:!!vb&&"withCredentials"in vb});g.support.ajax&&g.ajaxTransport(function(c){if(!c.crossDomain||g.support.cors){var d;return{send:function(e,f){var h,k,j=c.xhr();c.username?j.open(c.type,c.url,c.async,c.username,c.password):j.open(c.type,c.url,c.async);if(c.xhrFields)for(k in c.xhrFields)j[k]=
c.xhrFields[k];c.mimeType&&j.overrideMimeType&&j.overrideMimeType(c.mimeType);!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(k in e)j.setRequestHeader(k,e[k])}catch(p){}j.send(c.hasContent&&c.data||null);d=function(a,e){var k,p,l,n,m;try{if(d&&(e||4===j.readyState))if(d=b,h&&(j.onreadystatechange=g.noop,ub&&delete ta[h]),e)4!==j.readyState&&j.abort();else{k=j.status;l=j.getAllResponseHeaders();n={};if((m=j.responseXML)&&m.documentElement)n.xml=m;try{n.text=
j.responseText}catch(r){}try{p=j.statusText}catch(q){p=""}!k&&c.isLocal&&!c.crossDomain?k=n.text?200:404:1223===k&&(k=204)}}catch(z){e||f(-1,z)}n&&f(k,p,n,l)};c.async?4===j.readyState?setTimeout(d,0):(h=++Dd,ub&&(ta||(ta={},g(a).unload(ub)),ta[h]=d),j.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var Da,Wa,Ed=/^(?:toggle|show|hide)$/,Fd=RegExp("^(?:([-+])=|)("+Ba+")([a-z%]*)$","i"),Gd=/queueHooks$/,Ea=[function(a,b,c){var d,e,f,h,k,j,l=this,n=a.style,m={},r=[],q=a.nodeType&&D(a);c.queue||
(k=g._queueHooks(a,"fx"),null==k.unqueued&&(k.unqueued=0,j=k.empty.fire,k.empty.fire=function(){k.unqueued||j()}),k.unqueued++,l.always(function(){l.always(function(){k.unqueued--;g.queue(a,"fx").length||k.empty.fire()})}));if(1===a.nodeType&&("height"in b||"width"in b))c.overflow=[n.overflow,n.overflowX,n.overflowY],"inline"===g.css(a,"display")&&"none"===g.css(a,"float")&&(!g.support.inlineBlockNeedsLayout||"inline"===p(a.nodeName)?n.display="inline-block":n.zoom=1);c.overflow&&(n.overflow="hidden",
g.support.shrinkWrapBlocks||l.done(function(){n.overflow=c.overflow[0];n.overflowX=c.overflow[1];n.overflowY=c.overflow[2]}));for(d in b)e=b[d],Ed.exec(e)&&(delete b[d],e!==(q?"hide":"show")&&r.push(d));if(e=r.length){f=g._data(a,"fxshow")||g._data(a,"fxshow",{});q?g(a).show():l.done(function(){g(a).hide()});l.done(function(){var b;g.removeData(a,"fxshow",!0);for(b in m)g.style(a,b,m[b])});for(d=0;d<e;d++)b=r[d],h=l.createTween(b,q?f[b]:0),m[b]=f[b]||g.style(a,b),b in f||(f[b]=h.start,q&&(h.end=h.start,
h.start="width"===b||"height"===b?1:0))}}],wa={"*":[function(a,b){var c,d,e=this.createTween(a,b),f=Fd.exec(b),h=e.cur(),k=+h||0,j=1,p=20;if(f){c=+f[2];d=f[3]||(g.cssNumber[a]?"":"px");if("px"!==d&&k){k=g.css(e.elem,a,!0)||c||1;do j=j||".5",k/=j,g.style(e.elem,a,k+d);while(j!==(j=e.cur()/h)&&1!==j&&--p)}e.unit=d;e.start=k;e.end=f[1]?k+(f[1]+1)*c:c}return e}]};g.Animation=g.extend(R,{tweener:function(a,b){g.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;d<e;d++)c=a[d],wa[c]=wa[c]||
[],wa[c].unshift(b)},prefilter:function(a,b){b?Ea.unshift(a):Ea.push(a)}});g.Tween=J;J.prototype={constructor:J,init:function(a,b,c,d,e,f){this.elem=a;this.prop=c;this.easing=e||"swing";this.options=b;this.start=this.now=this.cur();this.end=d;this.unit=f||(g.cssNumber[c]?"":"px")},cur:function(){var a=J.propHooks[this.prop];return a&&a.get?a.get(this):J.propHooks._default.get(this)},run:function(a){var b,c=J.propHooks[this.prop];this.pos=this.options.duration?b=g.easing[this.easing](a,this.options.duration*
a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);c&&c.set?c.set(this):J.propHooks._default.set(this);return this}};J.prototype.init.prototype=J.prototype;J.propHooks={_default:{get:function(a){if(null!=a.elem[a.prop]&&(!a.elem.style||null==a.elem.style[a.prop]))return a.elem[a.prop];a=g.css(a.elem,a.prop,!1,"");return!a||"auto"===a?0:a},set:function(a){if(g.fx.step[a.prop])g.fx.step[a.prop](a);else a.elem.style&&
(null!=a.elem.style[g.cssProps[a.prop]]||g.cssHooks[a.prop])?g.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};J.propHooks.scrollTop=J.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};g.each(["toggle","show","hide"],function(a,b){var c=g.fn[b];g.fn[b]=function(d,e,f){return null==d||"boolean"===typeof d||!a&&g.isFunction(d)&&g.isFunction(e)?c.apply(this,arguments):this.animate(L(b,!0),d,e,f)}});g.fn.extend({fadeTo:function(a,b,c,d){return this.filter(D).css("opacity",
0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=g.isEmptyObject(a),f=g.speed(b,c,d),b=function(){var b=R(this,g.extend({},a),f);e&&b.stop(!0)};return e||!1===f.queue?this.each(b):this.queue(f.queue,b)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop;b(d)};"string"!==typeof a&&(d=c,c=a,a=b);c&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=g.timers,h=g._data(this);if(c)h[c]&&h[c].stop&&e(h[c]);else for(c in h)h[c]&&
(h[c].stop&&Gd.test(c))&&e(h[c]);for(c=f.length;c--;)if(f[c].elem===this&&(null==a||f[c].queue===a))f[c].anim.stop(d),b=!1,f.splice(c,1);(b||!d)&&g.dequeue(this,a)})}});g.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){g.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}});g.speed=function(a,b,c){var d=a&&"object"===typeof a?g.extend({},a):{complete:c||!c&&b||g.isFunction(a)&&a,duration:a,
easing:c&&b||b&&!g.isFunction(b)&&b};d.duration=g.fx.off?0:"number"===typeof d.duration?d.duration:d.duration in g.fx.speeds?g.fx.speeds[d.duration]:g.fx.speeds._default;if(null==d.queue||!0===d.queue)d.queue="fx";d.old=d.complete;d.complete=function(){g.isFunction(d.old)&&d.old.call(this);d.queue&&g.dequeue(this,d.queue)};return d};g.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};g.timers=[];g.fx=J.prototype.init;g.fx.tick=function(){for(var a,b=g.timers,
c=0;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||g.fx.stop()};g.fx.timer=function(a){a()&&(g.timers.push(a)&&!Wa)&&(Wa=setInterval(g.fx.tick,g.fx.interval))};g.fx.interval=13;g.fx.stop=function(){clearInterval(Wa);Wa=null};g.fx.speeds={slow:600,fast:200,_default:400};g.fx.step={};g.expr&&g.expr.filters&&(g.expr.filters.animated=function(a){return g.grep(g.timers,function(b){return a===b.elem}).length});var mc=/^(?:body|html)$/i;g.fn.offset=function(a){if(arguments.length)return a===
b?this:this.each(function(b){g.offset.setOffset(this,a,b)});var c,d,e,f,h,k={top:0,left:0};if(e=(f=this[0])&&f.ownerDocument){if((d=e.body)===f)return g.offset.bodyOffset(f);c=e.documentElement;if(!g.contains(c,f))return k;"undefined"!==typeof f.getBoundingClientRect&&(k=f.getBoundingClientRect());e=ma(e);f=c.clientTop||d.clientTop||0;d=c.clientLeft||d.clientLeft||0;h=e.pageYOffset||c.scrollTop;c=e.pageXOffset||c.scrollLeft;return{top:k.top+h-f,left:k.left+c-d}}};g.offset={bodyOffset:function(a){var b=
a.offsetTop,c=a.offsetLeft;g.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(g.css(a,"marginTop"))||0,c+=parseFloat(g.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var d=g.css(a,"position");"static"===d&&(a.style.position="relative");var e=g(a),f=e.offset(),h=g.css(a,"top"),k=g.css(a,"left"),j={},p={};("absolute"===d||"fixed"===d)&&-1<g.inArray("auto",[h,k])?(p=e.position(),d=p.top,k=p.left):(d=parseFloat(h)||0,k=parseFloat(k)||0);g.isFunction(b)&&(b=b.call(a,c,
f));null!=b.top&&(j.top=b.top-f.top+d);null!=b.left&&(j.left=b.left-f.left+k);"using"in b?b.using.call(a,j):e.css(j)}};g.fn.extend({position:function(){if(this[0]){var a=this[0],b=this.offsetParent(),c=this.offset(),d=mc.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(g.css(a,"marginTop"))||0;c.left-=parseFloat(g.css(a,"marginLeft"))||0;d.top+=parseFloat(g.css(b[0],"borderTopWidth"))||0;d.left+=parseFloat(g.css(b[0],"borderLeftWidth"))||0;return{top:c.top-d.top,left:c.left-d.left}}},
offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||t.body;a&&!mc.test(a.nodeName)&&"static"===g.css(a,"position");)a=a.offsetParent;return a||t.body})}});g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);g.fn[a]=function(e){return g.access(this,function(a,e,f){var h=ma(a);if(f===b)return h?c in h?h[c]:h.document.documentElement[e]:a[e];h?h.scrollTo(!d?f:g(h).scrollLeft(),d?f:g(h).scrollTop()):a[e]=f},a,e,arguments.length,null)}});
g.each({Height:"height",Width:"width"},function(a,c){g.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){g.fn[e]=function(e,f){var h=arguments.length&&(d||"boolean"!==typeof e),k=d||(!0===e||!0===f?"margin":"border");return g.access(this,function(c,d,e){return g.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(d=c.documentElement,Math.max(c.body["scroll"+a],d["scroll"+a],c.body["offset"+a],d["offset"+a],d["client"+a])):e===b?g.css(c,d,e,k):g.style(c,d,e,k)},c,h?e:b,h,
null)}})});a.jQuery=a.$=g;"function"===typeof define&&(define.amd&&define.amd.jQuery)&&define("jquery",[],function(){return g})})(window);
(function(){function a(c,b,e){if(c===b)return 0!==c||1/c==1/b;if(null==c||null==b)return c===b;c._chain&&(c=c._wrapped);b._chain&&(b=b._wrapped);if(c.isEqual&&h.isFunction(c.isEqual))return c.isEqual(b);if(b.isEqual&&h.isFunction(b.isEqual))return b.isEqual(c);var d=m.call(c);if(d!=m.call(b))return!1;switch(d){case "[object String]":return c==String(b);case "[object Number]":return c!=+c?b!=+b:0==c?1/c==1/b:c==+b;case "[object Date]":case "[object Boolean]":return+c==+b;case "[object RegExp]":return c.source==
b.source&&c.global==b.global&&c.multiline==b.multiline&&c.ignoreCase==b.ignoreCase}if("object"!=typeof c||"object"!=typeof b)return!1;for(var f=e.length;f--;)if(e[f]==c)return!0;e.push(c);var f=0,k=!0;if("[object Array]"==d){if(f=c.length,k=f==b.length)for(;f--&&(k=f in c==f in b&&a(c[f],b[f],e)););}else{if("constructor"in c!="constructor"in b||c.constructor!=b.constructor)return!1;for(var j in c)if(h.has(c,j)&&(f++,!(k=h.has(b,j)&&a(c[j],b[j],e))))break;if(k){for(j in b)if(h.has(b,j)&&!f--)break;
k=!f}}e.pop();return k}var b=this,c=b._,e={},d=Array.prototype,f=Object.prototype,j=d.slice,l=d.unshift,m=f.toString,q=f.hasOwnProperty,r=d.forEach,v=d.map,B=d.reduce,H=d.reduceRight,E=d.filter,D=d.every,s=d.some,F=d.indexOf,G=d.lastIndexOf,f=Array.isArray,k=Object.keys,p=Function.prototype.bind,h=function(a){return new U(a)};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=h),exports._=h):b._=h;h.VERSION="1.3.3";var n=h.each=h.forEach=function(a,
c,b){if(null!=a)if(r&&a.forEach===r)a.forEach(c,b);else if(a.length===+a.length)for(var d=0,f=a.length;d<f&&!(d in a&&c.call(b,a[d],d,a)===e);d++);else for(d in a)if(h.has(a,d)&&c.call(b,a[d],d,a)===e)break};h.map=h.collect=function(a,c,b){var e=[];if(null==a)return e;if(v&&a.map===v)return a.map(c,b);n(a,function(a,d,f){e[e.length]=c.call(b,a,d,f)});a.length===+a.length&&(e.length=a.length);return e};h.reduce=h.foldl=h.inject=function(a,c,b,e){var d=2<arguments.length;null==a&&(a=[]);if(B&&a.reduce===
B)return e&&(c=h.bind(c,e)),d?a.reduce(c,b):a.reduce(c);n(a,function(a,f,h){d?b=c.call(e,b,a,f,h):(b=a,d=!0)});if(!d)throw new TypeError("Reduce of empty array with no initial value");return b};h.reduceRight=h.foldr=function(a,c,b,e){var d=2<arguments.length;null==a&&(a=[]);if(H&&a.reduceRight===H)return e&&(c=h.bind(c,e)),d?a.reduceRight(c,b):a.reduceRight(c);var f=h.toArray(a).reverse();e&&!d&&(c=h.bind(c,e));return d?h.reduce(f,c,b,e):h.reduce(f,c)};h.find=h.detect=function(a,c,b){var e;z(a,function(a,
d,f){if(c.call(b,a,d,f))return e=a,!0});return e};h.filter=h.select=function(a,c,b){var e=[];if(null==a)return e;if(E&&a.filter===E)return a.filter(c,b);n(a,function(a,d,f){c.call(b,a,d,f)&&(e[e.length]=a)});return e};h.reject=function(a,c,b){var e=[];if(null==a)return e;n(a,function(a,d,f){c.call(b,a,d,f)||(e[e.length]=a)});return e};h.every=h.all=function(a,c,b){var d=!0;if(null==a)return d;if(D&&a.every===D)return a.every(c,b);n(a,function(a,f,h){if(!(d=d&&c.call(b,a,f,h)))return e});return!!d};
var z=h.some=h.any=function(a,c,b){c||(c=h.identity);var d=!1;if(null==a)return d;if(s&&a.some===s)return a.some(c,b);n(a,function(a,f,h){if(d||(d=c.call(b,a,f,h)))return e});return!!d};h.include=h.contains=function(a,c){var b=!1;return null==a?b:F&&a.indexOf===F?-1!=a.indexOf(c):b=z(a,function(a){return a===c})};h.invoke=function(a,c){var b=j.call(arguments,2);return h.map(a,function(a){return(h.isFunction(c)?c||a:a[c]).apply(a,b)})};h.pluck=function(a,c){return h.map(a,function(a){return a[c]})};
h.max=function(a,c,b){if(!c&&h.isArray(a)&&a[0]===+a[0])return Math.max.apply(Math,a);if(!c&&h.isEmpty(a))return-Infinity;var e={computed:-Infinity};n(a,function(a,d,f){d=c?c.call(b,a,d,f):a;d>=e.computed&&(e={value:a,computed:d})});return e.value};h.min=function(a,c,b){if(!c&&h.isArray(a)&&a[0]===+a[0])return Math.min.apply(Math,a);if(!c&&h.isEmpty(a))return Infinity;var e={computed:Infinity};n(a,function(a,d,f){d=c?c.call(b,a,d,f):a;d<e.computed&&(e={value:a,computed:d})});return e.value};h.shuffle=
function(a){var c=[],b;n(a,function(a,e){b=Math.floor(Math.random()*(e+1));c[e]=c[b];c[b]=a});return c};h.sortBy=function(a,c,b){var e=h.isFunction(c)?c:function(a){return a[c]};return h.pluck(h.map(a,function(a,c,d){return{value:a,criteria:e.call(b,a,c,d)}}).sort(function(a,c){var b=a.criteria,e=c.criteria;return void 0===b?1:void 0===e?-1:b<e?-1:b>e?1:0}),"value")};h.groupBy=function(a,c){var b={},e=h.isFunction(c)?c:function(a){return a[c]};n(a,function(a,c){var d=e(a,c);(b[d]||(b[d]=[])).push(a)});
return b};h.sortedIndex=function(a,c,b){b||(b=h.identity);for(var e=0,d=a.length;e<d;){var f=e+d>>1;b(a[f])<b(c)?e=f+1:d=f}return e};h.toArray=function(a){return!a?[]:h.isArray(a)||h.isArguments(a)?j.call(a):a.toArray&&h.isFunction(a.toArray)?a.toArray():h.values(a)};h.size=function(a){return h.isArray(a)?a.length:h.keys(a).length};h.first=h.head=h.take=function(a,c,b){return null!=c&&!b?j.call(a,0,c):a[0]};h.initial=function(a,c,b){return j.call(a,0,a.length-(null==c||b?1:c))};h.last=function(a,
c,b){return null!=c&&!b?j.call(a,Math.max(a.length-c,0)):a[a.length-1]};h.rest=h.tail=function(a,c,b){return j.call(a,null==c||b?1:c)};h.compact=function(a){return h.filter(a,function(a){return!!a})};h.flatten=function(a,c){return h.reduce(a,function(a,b){if(h.isArray(b))return a.concat(c?b:h.flatten(b));a[a.length]=b;return a},[])};h.without=function(a){return h.difference(a,j.call(arguments,1))};h.uniq=h.unique=function(a,c,b){var b=b?h.map(a,b):a,e=[];3>a.length&&(c=!0);h.reduce(b,function(b,d,
f){if(c?h.last(b)!==d||!b.length:!h.include(b,d))b.push(d),e.push(a[f]);return b},[]);return e};h.union=function(){return h.uniq(h.flatten(arguments,!0))};h.intersection=h.intersect=function(a){var c=j.call(arguments,1);return h.filter(h.uniq(a),function(a){return h.every(c,function(c){return 0<=h.indexOf(c,a)})})};h.difference=function(a){var c=h.flatten(j.call(arguments,1),!0);return h.filter(a,function(a){return!h.include(c,a)})};h.zip=function(){for(var a=j.call(arguments),c=h.max(h.pluck(a,"length")),
b=Array(c),e=0;e<c;e++)b[e]=h.pluck(a,""+e);return b};h.indexOf=function(a,c,b){if(null==a)return-1;var e;if(b)return b=h.sortedIndex(a,c),a[b]===c?b:-1;if(F&&a.indexOf===F)return a.indexOf(c);b=0;for(e=a.length;b<e;b++)if(b in a&&a[b]===c)return b;return-1};h.lastIndexOf=function(a,c){if(null==a)return-1;if(G&&a.lastIndexOf===G)return a.lastIndexOf(c);for(var b=a.length;b--;)if(b in a&&a[b]===c)return b;return-1};h.range=function(a,c,b){1>=arguments.length&&(c=a||0,a=0);for(var b=arguments[2]||1,
e=Math.max(Math.ceil((c-a)/b),0),d=0,f=Array(e);d<e;)f[d++]=a,a+=b;return f};var N=function(){};h.bind=function(a,c){var b,e;if(a.bind===p&&p)return p.apply(a,j.call(arguments,1));if(!h.isFunction(a))throw new TypeError;e=j.call(arguments,2);return b=function(){if(!(this instanceof b))return a.apply(c,e.concat(j.call(arguments)));N.prototype=a.prototype;var d=new N,f=a.apply(d,e.concat(j.call(arguments)));return Object(f)===f?f:d}};h.bindAll=function(a){var c=j.call(arguments,1);0==c.length&&(c=h.functions(a));
n(c,function(c){a[c]=h.bind(a[c],a)});return a};h.memoize=function(a,c){var b={};c||(c=h.identity);return function(){var e=c.apply(this,arguments);return h.has(b,e)?b[e]:b[e]=a.apply(this,arguments)}};h.delay=function(a,c){var b=j.call(arguments,2);return setTimeout(function(){return a.apply(null,b)},c)};h.defer=function(a){return h.delay.apply(h,[a,1].concat(j.call(arguments,1)))};h.throttle=function(a,c){var b,e,d,f,k,j,l=h.debounce(function(){k=f=!1},c);return function(){b=this;e=arguments;d||
(d=setTimeout(function(){d=null;k&&a.apply(b,e);l()},c));f?k=!0:j=a.apply(b,e);l();f=!0;return j}};h.debounce=function(a,c,b){var e;return function(){var d=this,f=arguments;b&&!e&&a.apply(d,f);clearTimeout(e);e=setTimeout(function(){e=null;b||a.apply(d,f)},c)}};h.once=function(a){var c=!1,b;return function(){if(c)return b;c=!0;return b=a.apply(this,arguments)}};h.wrap=function(a,c){return function(){var b=[a].concat(j.call(arguments,0));return c.apply(this,b)}};h.compose=function(){var a=arguments;
return function(){for(var c=arguments,b=a.length-1;0<=b;b--)c=[a[b].apply(this,c)];return c[0]}};h.after=function(a,c){return 0>=a?c():function(){if(1>--a)return c.apply(this,arguments)}};h.keys=k||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var c=[],b;for(b in a)h.has(a,b)&&(c[c.length]=b);return c};h.values=function(a){return h.map(a,h.identity)};h.functions=h.methods=function(a){var c=[],b;for(b in a)h.isFunction(a[b])&&c.push(b);return c.sort()};h.extend=function(a){n(j.call(arguments,
1),function(c){for(var b in c)a[b]=c[b]});return a};h.pick=function(a){var c={};n(h.flatten(j.call(arguments,1)),function(b){b in a&&(c[b]=a[b])});return c};h.defaults=function(a){n(j.call(arguments,1),function(c){for(var b in c)null==a[b]&&(a[b]=c[b])});return a};h.clone=function(a){return!h.isObject(a)?a:h.isArray(a)?a.slice():h.extend({},a)};h.tap=function(a,c){c(a);return a};h.isEqual=function(c,b){return a(c,b,[])};h.isEmpty=function(a){if(null==a)return!0;if(h.isArray(a)||h.isString(a))return 0===
a.length;for(var c in a)if(h.has(a,c))return!1;return!0};h.isElement=function(a){return!!(a&&1==a.nodeType)};h.isArray=f||function(a){return"[object Array]"==m.call(a)};h.isObject=function(a){return a===Object(a)};h.isArguments=function(a){return"[object Arguments]"==m.call(a)};h.isArguments(arguments)||(h.isArguments=function(a){return!(!a||!h.has(a,"callee"))});h.isFunction=function(a){return"[object Function]"==m.call(a)};h.isString=function(a){return"[object String]"==m.call(a)};h.isNumber=function(a){return"[object Number]"==
m.call(a)};h.isFinite=function(a){return h.isNumber(a)&&isFinite(a)};h.isNaN=function(a){return a!==a};h.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==m.call(a)};h.isDate=function(a){return"[object Date]"==m.call(a)};h.isRegExp=function(a){return"[object RegExp]"==m.call(a)};h.isNull=function(a){return null===a};h.isUndefined=function(a){return void 0===a};h.has=function(a,c){return q.call(a,c)};h.noConflict=function(){b._=c;return this};h.identity=function(a){return a};h.times=
function(a,c,b){for(var e=0;e<a;e++)c.call(b,e)};h.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};h.result=function(a,c){if(null==a)return null;var b=a[c];return h.isFunction(b)?b.call(a):b};h.mixin=function(a){n(h.functions(a),function(c){var b=h[c]=a[c];U.prototype[c]=function(){var a=j.call(arguments);l.call(a,this._wrapped);return t(b.apply(h,a),this._chain)}})};var Q=0;h.uniqueId=
function(a){var c=Q++;return a?a+c:c};h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var x=/.^/,R={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"\u2028",u2029:"\u2029"},J;for(J in R)R[R[J]]=J;var L=/\\|'|\r|\n|\t|\u2028|\u2029/g,ma=/\\(\\|'|r|n|t|u2028|u2029)/g,aa=function(a){return a.replace(ma,function(a,c){return R[c]})};h.template=function(a,c,b){b=h.defaults(b||{},h.templateSettings);a="__p+='"+a.replace(L,function(a){return"\\"+R[a]}).replace(b.escape||
x,function(a,c){return"'+\n_.escape("+aa(c)+")+\n'"}).replace(b.interpolate||x,function(a,c){return"'+\n("+aa(c)+")+\n'"}).replace(b.evaluate||x,function(a,c){return"';\n"+aa(c)+"\n;__p+='"})+"';\n";b.variable||(a="with(obj||{}){\n"+a+"}\n");var a="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+a+"return __p;\n",e=new Function(b.variable||"obj","_",a);if(c)return e(c,h);c=function(a){return e.call(this,a,h)};c.source="function("+(b.variable||"obj")+"){\n"+a+"}";
return c};h.chain=function(a){return h(a).chain()};var U=function(a){this._wrapped=a};h.prototype=U.prototype;var t=function(a,c){return c?h(a).chain():a};h.mixin(h);n("pop push reverse shift sort splice unshift".split(" "),function(a){var c=d[a];U.prototype[a]=function(){var b=this._wrapped;c.apply(b,arguments);var e=b.length;("shift"==a||"splice"==a)&&0===e&&delete b[0];return t(b,this._chain)}});n(["concat","join","slice"],function(a){var c=d[a];U.prototype[a]=function(){return t(c.apply(this._wrapped,
arguments),this._chain)}});U.prototype.chain=function(){this._chain=!0;return this};U.prototype.value=function(){return this._wrapped}}).call(this);
(function(){var a=this,b=a.Backbone,c=Array.prototype.slice,e=Array.prototype.splice,d;d="undefined"!==typeof exports?exports:a.Backbone={};d.VERSION="0.9.0";var f=a._;!f&&"undefined"!==typeof require&&(f=require("underscore"));var j=a.jQuery||a.Zepto||a.ender;d.noConflict=function(){a.Backbone=b;return this};d.emulateHTTP=!1;d.emulateJSON=!1;d.Events={on:function(a,b,c){for(var d,a=a.split(/\s+/),e=this._callbacks||(this._callbacks={});d=a.shift();){d=e[d]||(e[d]={});var f=d.tail||(d.tail=d.next=
{});f.callback=b;f.context=c;d.tail=f.next={}}return this},off:function(a,b,c){var d,e,f;if(a){if(e=this._callbacks)for(a=a.split(/\s+/);d=a.shift();)if(f=e[d],delete e[d],b&&f)for(;(f=f.next)&&f.next;)if(!(f.callback===b&&(!c||f.context===c)))this.on(d,f.callback,f.context)}else delete this._callbacks;return this},trigger:function(a){var b,d,e,f;if(!(e=this._callbacks))return this;f=e.all;for((a=a.split(/\s+/)).push(null);b=a.shift();)f&&a.push({next:f.next,tail:f.tail,event:b}),(d=e[b])&&a.push({next:d.next,
tail:d.tail});for(f=c.call(arguments,1);d=a.pop();){b=d.tail;for(e=d.event?[d.event].concat(f):f;(d=d.next)!==b;)d.callback.apply(d.context||this,e)}return this}};d.Events.bind=d.Events.on;d.Events.unbind=d.Events.off;d.Model=function(a,b){var c;a||(a={});b&&b.parse&&(a=this.parse(a));if(c=F(this,"defaults"))a=f.extend({},c,a);b&&b.collection&&(this.collection=b.collection);this.attributes={};this._escapedAttributes={};this.cid=f.uniqueId("c");this._changed={};if(!this.set(a,{silent:!0}))throw Error("Can't create an invalid model");
this._changed={};this._previousAttributes=f.clone(this.attributes);this.initialize.apply(this,arguments)};f.extend(d.Model.prototype,d.Events,{idAttribute:"id",initialize:function(){},toJSON:function(){return f.clone(this.attributes)},get:function(a){return this.attributes[a]},escape:function(a){var b;if(b=this._escapedAttributes[a])return b;b=this.attributes[a];return this._escapedAttributes[a]=f.escape(null==b?"":""+b)},has:function(a){return null!=this.attributes[a]},set:function(a,b,c){var e,
j;f.isObject(a)||null==a?(e=a,c=b):(e={},e[a]=b);c||(c={});if(!e)return this;e instanceof d.Model&&(e=e.attributes);if(c.unset)for(j in e)e[j]=void 0;if(this.validate&&!this._performValidation(e,c))return!1;this.idAttribute in e&&(this.id=e[this.idAttribute]);var b=this.attributes,l=this._escapedAttributes,m=this._previousAttributes||{},r=this._changing;this._changing=!0;for(j in e)if(a=e[j],f.isEqual(b[j],a)||delete l[j],c.unset?delete b[j]:b[j]=a,delete this._changed[j],!f.isEqual(m[j],a)||f.has(b,
j)!=f.has(m,j))this._changed[j]=a;r||(!c.silent&&this.hasChanged()&&this.change(c),this._changing=!1);return this},unset:function(a,b){(b||(b={})).unset=!0;return this.set(a,null,b)},clear:function(a){(a||(a={})).unset=!0;return this.set(f.clone(this.attributes),a)},fetch:function(a){var a=a?f.clone(a):{},b=this,c=a.success;a.success=function(d,e,f){if(!b.set(b.parse(d,f),a))return!1;c&&c(b,d)};a.error=d.wrapError(a.error,b,a);return(this.sync||d.sync).call(this,"read",this,a)},save:function(a,b,
c){var e;f.isObject(a)||null==a?(e=a,c=b):(e={},e[a]=b);c=c?f.clone(c):{};if(e&&!this[c.wait?"_performValidation":"set"](e,c))return!1;var j=this,l=c.success;c.success=function(a,b,d){b=j.parse(a,d);c.wait&&(b=f.extend(e||{},b));if(!j.set(b,c))return!1;l?l(j,a):j.trigger("sync",j,a,c)};c.error=d.wrapError(c.error,j,c);a=this.isNew()?"create":"update";return(this.sync||d.sync).call(this,a,this,c)},destroy:function(a){var a=a?f.clone(a):{},b=this,c=a.success,e=function(){b.trigger("destroy",b,b.collection,
a)};if(this.isNew())return e();a.success=function(d){a.wait&&e();c?c(b,d):b.trigger("sync",b,d,a)};a.error=d.wrapError(a.error,b,a);var j=(this.sync||d.sync).call(this,"delete",this,a);a.wait||e();return j},url:function(){var a=F(this.collection,"url")||F(this,"urlRoot")||G();return this.isNew()?a:a+("/"==a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(a){for(var b in this._changed)this.trigger("change:"+
b,this,this._changed[b],a);this.trigger("change",this,a);this._previousAttributes=f.clone(this.attributes);this._changed={}},hasChanged:function(a){return a?f.has(this._changed,a):!f.isEmpty(this._changed)},changedAttributes:function(a){if(!a)return this.hasChanged()?f.clone(this._changed):!1;var b,c=!1,d=this._previousAttributes,e;for(e in a)if(!f.isEqual(d[e],b=a[e]))(c||(c={}))[e]=b;return c},previous:function(a){return!a||!this._previousAttributes?null:this._previousAttributes[a]},previousAttributes:function(){return f.clone(this._previousAttributes)},
_performValidation:function(a,b){var c=f.extend({},this.attributes,a);return(c=this.validate(c,b))?(b.error?b.error(this,c,b):this.trigger("error",this,c,b),!1):!0}});d.Collection=function(a,b){b||(b={});b.comparator&&(this.comparator=b.comparator);this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,{silent:!0,parse:b.parse})};f.extend(d.Collection.prototype,d.Events,{model:d.Model,initialize:function(){},toJSON:function(){return this.map(function(a){return a.toJSON()})},add:function(a,
b){var c,d,j,l,m,r={},q={};b||(b={});a=f.isArray(a)?a.slice():[a];c=0;for(d=a.length;c<d;c++){if(!(j=a[c]=this._prepareModel(a[c],b)))throw Error("Can't add an invalid model to a collection");if(r[l=j.cid]||this._byCid[l]||null!=(m=j.id)&&(q[m]||this._byId[m])){if(this.modelName)throw Error("Can't add the same model to a collection twice: "+this.modelName);throw Error("Can't add the same model to a collection twice");}r[l]=q[m]=j}for(c=0;c<d;c++)(j=a[c]).on("all",this._onModelEvent,this),this._byCid[j.cid]=
j,null!=j.id&&(this._byId[j.id]=j);this.length+=d;e.apply(this.models,[null!=b.at?b.at:this.models.length,0].concat(a));this.comparator&&this.sort({silent:!0});if(b.silent)return this;c=0;for(d=this.models.length;c<d;c++)if(r[(j=this.models[c]).cid])b.index=c,j.trigger("add",j,this,b);return this},remove:function(a,b){var c,d,e,j;b||(b={});a=f.isArray(a)?a.slice():[a];c=0;for(d=a.length;c<d;c++)if(j=this.getByCid(a[c])||this.get(a[c]))delete this._byId[j.id],delete this._byCid[j.cid],e=this.indexOf(j),
this.models.splice(e,1),this.length--,b.silent||(b.index=e,j.trigger("remove",j,this,b)),this._removeReference(j);return this},get:function(a){return null==a?null:this._byId[null!=a.id?a.id:a]},getByCid:function(a){return a&&this._byCid[a.cid||a]},at:function(a){return this.models[a]},sort:function(a){a||(a={});if(!this.comparator)throw Error("Cannot sort a set without a comparator");var b=f.bind(this.comparator,this);1==this.comparator.length?this.models=this.sortBy(b):this.models.sort(b);a.silent||
this.trigger("reset",this,a);return this},pluck:function(a){return f.map(this.models,function(b){return b.get(a)})},reset:function(a,b){a||(a=[]);b||(b={});for(var c=0,d=this.models.length;c<d;c++)this._removeReference(this.models[c]);this._reset();this.add(a,{silent:!0,parse:b.parse});b.silent||this.trigger("reset",this,b);return this},fetch:function(a){a=a?f.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=this,c=a.success;a.success=function(d,e,f){b[a.add?"add":"reset"](b.parse(d,f),a);c&&c(b,
d)};a.error=d.wrapError(a.error,b,a);return(this.sync||d.sync).call(this,"read",this,a)},create:function(a,b){var c=this,b=b?f.clone(b):{},a=this._prepareModel(a,b);if(!a)return!1;b.wait||c.add(a,b);var d=b.success;b.success=function(e,f){b.wait&&c.add(e,b);d?d(e,f):e.trigger("sync",a,f,b)};a.save(null,b);return a},parse:function(a){return a},chain:function(){return f(this.models).chain()},_reset:function(){this.length=0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(a,b){a instanceof
d.Model?a.collection||(a.collection=this):(b.collection=this,a=new this.model(a,b),a.validate&&!a._performValidation(a.attributes,b)&&(a=!1));return a},_removeReference:function(a){this==a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"==a||"remove"==a)&&c!=this||("destroy"==a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],this._byId[b.id]=b),this.trigger.apply(this,arguments))}});f.each("forEach each map reduce reduceRight find detect filter select reject every all some any include contains invoke max min sortBy sortedIndex toArray size first initial rest last without indexOf shuffle lastIndexOf isEmpty groupBy".split(" "),
function(a){d.Collection.prototype[a]=function(){return f[a].apply(f,[this.models].concat(f.toArray(arguments)))}});d.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)};var l=/:\w+/g,m=/\*\w+/g,q=/[-[\]{}()+?.,\\^$|#\s]/g;f.extend(d.Router.prototype,d.Events,{initialize:function(){},route:function(a,b,c){d.history||(d.history=new d.History);f.isRegExp(a)||(a=this._routeToRegExp(a));c||(c=this[b]);d.history.route(a,f.bind(function(e){e=
this._extractParameters(a,e);c&&c.apply(this,e);this.trigger.apply(this,["route:"+b].concat(e));d.history.trigger("route",this,b,e)},this));return this},navigate:function(a,b){d.history.navigate(a,b)},_bindRoutes:function(){if(this.routes){var a=[],b;for(b in this.routes)a.unshift([b,this.routes[b]]);b=0;for(var c=a.length;b<c;b++)this.route(a[b][0],a[b][1],this[a[b][1]])}},_routeToRegExp:function(a){a=a.replace(q,"\\$&").replace(l,"([^/]+)").replace(m,"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,
b){return a.exec(b).slice(1)}});d.History=function(){this.handlers=[];f.bindAll(this,"checkUrl")};var r=/^[#\/]/,v=/msie [\w.]+/,B=!1;f.extend(d.History.prototype,d.Events,{interval:50,getFragment:function(a,b){if(null==a)if(this._hasPushState||b){var a=window.location.pathname,c=window.location.search;c&&(a+=c)}else a=window.location.hash;a=decodeURIComponent(a.replace(r,""));a.indexOf(this.options.root)||(a=a.substr(this.options.root.length));return a},start:function(a){if(B)throw Error("Backbone.history has already been started");
this.options=f.extend({},{root:"/"},this.options,a);this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!window.history||!window.history.pushState);var a=this.getFragment(),b=document.documentMode;if(b=v.exec(navigator.userAgent.toLowerCase())&&(!b||7>=b))this.iframe=j('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a);this._hasPushState?j(window).bind("popstate",
this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!b?j(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=a;B=!0;a=window.location;b=a.pathname==this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!b)return this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0;this._wantsPushState&&(this._hasPushState&&b&&a.hash)&&
(this.fragment=a.hash.replace(r,""),window.history.replaceState({},document.title,a.protocol+"//"+a.host+this.options.root+this.fragment));if(!this.options.silent)return this.loadUrl()},stop:function(){j(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);B=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();a==this.fragment&&this.iframe&&(a=this.getFragment(this.iframe.location.hash));
if(a==this.fragment||a==decodeURIComponent(this.fragment))return!1;this.iframe&&this.navigate(a);this.loadUrl()||this.loadUrl(window.location.hash)},loadUrl:function(a){var b=this.fragment=this.getFragment(a);return f.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0})},navigate:function(a,b){if(!B)return!1;if(!b||!0===b)b={trigger:b};var c=(a||"").replace(r,"");this.fragment==c||this.fragment==decodeURIComponent(c)||(this._hasPushState?(0!=c.indexOf(this.options.root)&&(c=
this.options.root+c),this.fragment=c,window.history[b.replace?"replaceState":"pushState"]({},document.title,c)):this._wantsHashChange?(this.fragment=c,this._updateHash(window.location,c,b.replace),this.iframe&&c!=this.getFragment(this.iframe.location.hash)&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,c,b.replace))):window.location.assign(this.options.root+a),b.trigger&&this.loadUrl(a))},_updateHash:function(a,b,c){c?a.replace(a.toString().replace(/(javascript:|#).*$/,
"")+"#"+b):a.hash=b}});d.View=function(a){this.cid=f.uniqueId("view");this._configure(a||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var H=/^(\S+)\s*(.*)$/,E="model collection el id attributes className tagName".split(" ");f.extend(d.View.prototype,d.Events,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();return this},make:function(a,b,c){a=document.createElement(a);
b&&j(a).attr(b);c&&j(a).html(c);return a},setElement:function(a,b){this.$el=j(a);this.el=this.$el[0];!1!==b&&this.delegateEvents()},delegateEvents:function(a){if(a||(a=F(this,"events"))){this.undelegateEvents();for(var b in a){var c=a[b];f.isFunction(c)||(c=this[a[b]]);if(!c)throw Error('Event "'+a[b]+'" does not exist');var d=b.match(H),e=d[1],d=d[2],c=f.bind(c,this),e=e+(".delegateEvents"+this.cid);""===d?this.$el.bind(e,c):this.$el.delegate(d,e,c)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+
this.cid)},_configure:function(a){this.options&&(a=f.extend({},this.options,a));for(var b=0,c=E.length;b<c;b++){var d=E[b];a[d]&&(this[d]=a[d])}this.options=a},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var a=F(this,"attributes")||{};this.id&&(a.id=this.id);this.className&&(a["class"]=this.className);this.setElement(this.make(this.tagName,a),!1)}}});d.Model.extend=d.Collection.extend=d.Router.extend=d.View.extend=function(a,b){var c=this,d;d=a&&a.hasOwnProperty("constructor")?
a.constructor:function(){c.apply(this,arguments)};f.extend(d,c);s.prototype=c.prototype;d.prototype=new s;a&&f.extend(d.prototype,a);b&&f.extend(d,b);d.prototype.constructor=d;d.__super__=c.prototype;d.extend=this.extend;return d};var D={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};d.sync=function(a,b,c){var e=D[a],l={type:e,dataType:"json"};c.url||(l.url=F(b,"url")||G());if(!c.data&&b&&("create"==a||"update"==a))l.contentType="application/json",l.data=JSON.stringify(b.toJSON());d.emulateJSON&&
(l.contentType="application/x-www-form-urlencoded",l.data=l.data?{model:l.data}:{});if(d.emulateHTTP&&("PUT"===e||"DELETE"===e))d.emulateJSON&&(l.data._method=e),l.type="POST",l.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",e)};"GET"!==l.type&&!d.emulateJSON&&(l.processData=!1);return j.ajax(f.extend(l,c))};d.wrapError=function(a,b,c){return function(d,e){e=d===b?e:d;a?a(d,e,c):b.trigger("error",d,e,c)}};var s=function(){},F=function(a,b){return!a||!a[b]?null:f.isFunction(a[b])?
a[b]():a[b]},G=function(){throw Error('A "url" property or function must be specified');}}).call(this);
(function(){var a,b;window.toggl||(window.toggl={});(a=window.toggl).model||(a.model={});(b=window.toggl).command||(b.command={});window.toggl.debug=!1;window.toggl.log=function(a){if(window.toggl.debug)return console.log(a)};window.toggl.dir=function(a){if(window.toggl.debug)return console.dir(a)}}).call(this);
(function(){window.SOFT_TIME_FORMATS="H:m A;H:mA;H A;HA;HH:mm;HH".split(";");window.soft_to_timeofday=function(a){var b,c,e,d;if(null===a||""===""+a||void 0===a)return null;a=$.trim(a).toUpperCase();if(null!=toggl.app.currentUser&&(b=window.isIphone?moment(a,"HH:mm").toDate():moment(a,toggl.app.timeOfDayFormat()).toDate()))return b;d=window.SOFT_TIME_FORMATS;c=0;for(e=d.length;c<e;c++)if(b=d[c],b=moment(a,b).toDate())return b;return null}}).call(this);
function TimeParser(){function a(a,b){this.match=function(b){if(!b)return!1;var e=b.match(a);if(!e)return e;e[0]=b;return e};this.interpret=function(a){a=this.match(a);return!a?!1:b(a)}}var b=[new a(/^\s*0*(\d{1,10})\s*(:|h)\s*0*(\d{1,10})\s*(:|m)\s*0*(\d{1,10})\s*s?\s*$/,function(a){return 1E3*a[5]+6E4*a[3]+36E5*a[1]}),new a(/^\s*0*(\d{1,10})\s*(m|mins?|minutes?)?$/,function(a){return 6E4*a[1]}),new a(/^\s*0*(\d{1,10})\s*(h|hrs?|hours?)\s*$/,function(a){return 36E5*a[1]}),new a(/^\s*0*(\d{1,10})\s*(s|secs?|seconds?)\s*$/,
function(a){return 1E3*a[1]}),new a(/^\s*0*(\d{1,10})?\s*[.,]\s*(\d{0,9})\s*(h|hrs?|hours?)?$/,function(a){var b=a[2];return 36E5*parseFloat(a[1]||0)+36E5*parseFloat("0."+b)}),new a(/^\s*0*(\d{1,10})\s*[.,]\s*(\d{0,9})\s*(m|mins?|minutes?)?\s*$/,function(a){var b=a[2];return 6E4*parseFloat(a[1])+6E4*parseFloat("0."+b)}),new a(/^\s*0*(\d{1,10})\s*[.,]\s*(\d{0,9})\s*(s|secs?|seconds?)?\s*$/,function(a){return 1E3*parseFloat(a[1]+"."+a[2])}),new a(/^\s*0*(\d{1,10})\s*:\s*0*(\d{1,10})\s*mins?\s*$/,function(a){return 6E4*
a[1]+1E3*a[2]}),new a(/^\s*0*(\d{1,10})\s*(:|h|hrs?|hours?)\s*0*(\d{1,10})\s*(m|mins?|minutes?)?\s*$/,function(a){return 6E4*a[3]+36E5*a[1]})];this.is_valid=function(a){for(var e=0;e<b.length;++e)if(b[e].match(a))return!0;return!1};this.interpret=function(a){for(var a=a.toLowerCase(),e=0;e<b.length;++e)if(b[e].match(a))return b[e].interpret(a);return null}}var TIME_PARSERS=new TimeParser,hhmmss_to_milliseconds=window.TIME_PARSERS.interpret;
function time_check(a){return function(b){return window.TIME_PARSERS.is_valid(b)?!0:a.replace("$VALUE$",b)}};
String.leftPad=function(a,b,c){a=""+a;for(c=c||" ";a.length<b;)a=c+a;return a};
var TimeFormat={seconds_to_hhmmss:function(a,b){var c=~~a,e=String.leftPad;0>c&&(c+=(new Date).getTime()/1E3);var d=Math.floor(c/3600),f=Math.floor(c%3600/60),c=Math.floor(c%60);if(b)return!d?f+" min":[d,"h ",e(f,2,"0")," min"].join("");if(!d){if(!f)return c+" sec";c=e(c,2,"0");f=e(f,2,"0");return f+":"+c+" min"}f=e(f,2,"0");c=e(c,2,"0");d=e(d,2,"0");return d+":"+f+":"+c},seconds_to_hhmm:function(a){return Math.floor(a/3600)+":"+String.leftPad(""+Math.floor(a%3600/60),2,"0")+" h"},milliseconds_to_hhmmss:function(a){var b;
b=parseInt(a,10);if(isNaN(b))return"0 sec";0>b&&(b+=(new Date).getTime());var a=Math.floor(b/36E5),c=Math.floor(b%36E5/6E4);b=Math.floor(b%6E4/1E3);if(!a){if(!c)return b+" sec";b=String.leftPad(b,2,"0");c=String.leftPad(c,2,"0");return c+":"+b+" min"}c=String.leftPad(c,2,"0");b=String.leftPad(b,2,"0");a=String.leftPad(a,2,"0");return a+":"+c+":"+b}};
(function(){"undefined"!==typeof JSON&&null!==JSON&&(JSON.originalParse=JSON.parse,JSON.parse=function(a){return null!=a?JSON.originalParse(a):null})}).call(this);
function S4(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function guid(){return S4()+S4()+"-"+S4()+"-"+S4()+"-"+S4()+"-"+S4()+S4()+S4()}window.getBackboneStorage=function(){window.backboneMemoryStore||(window.backboneMemoryStore=window.IsLocalStorageEnabled?window.localStorage:{data:{},setItem:function(d,b){this.data[d]=b},getItem:function(d){return this.data[d]},removeItem:function(d){delete this.data[d]}});return window.backboneMemoryStore};
window.Store=function(d){this.name=d;this.records=(d=window.getBackboneStorage().getItem(this.name))&&d.split(",")||[]};
_.extend(Store.prototype,{save:function(){window.getBackboneStorage().setItem(this.name,this.records.join(","))},reset:function(){window.getBackboneStorage().setItem(this.name,this.records.join(","))},create:function(d){d.id||(d.id=d.attributes.id=guid());window.getBackboneStorage().setItem(this.name+"-"+d.id,JSON.stringify(d));this.records.push(d.id.toString());this.save();return d},update:function(d){var b=d.get("localId");d.unset("localId",{silent:!0});window.getBackboneStorage().setItem(this.name+
"-"+d.id,JSON.stringify(d));_.include(this.records,d.id.toString())||this.records.push(d.id.toString());this.save();b!==d.id&&(b=this.find({id:b}))&&this.destroy(b);return d},find:function(d){return JSON.parse(window.getBackboneStorage().getItem(this.name+"-"+d.id))},findAll:function(){var d=window.getBackboneStorage(),b=[],a=_.map(this.records,function(a){var e=d.getItem(this.name+"-"+a);e||b.push(a);return e},this);0<b.length&&(this.records=_.reject(this.records,function(a){return _.include(b,a)&&
!d.getItem(this.name+"-"+a)},this),this.save());a=_.compact(a);return _.map(a,function(a){return JSON.parse(a)})},destroy:function(d){window.getBackboneStorage().removeItem(this.name+"-"+d.id);this.records=_.reject(this.records,function(b){return b==d.id.toString()});this.save();return d}});
Backbone.sync=function(d,b,a){var c,e;try{e=b.localStorage||b.collection.localStorage}catch(f){throw d="",b&&b.modelName&&(d=b.modelName),f.toString()+", modelName = "+d;}switch(d){case "read":c=b.id?e.find(b):e.findAll();break;case "create":c=e.create(b);break;case "update":c=e.update(b);break;case "delete":c=e.destroy(b)}c?a.success(c):a.error("Record not found")};
(function(){var a=function(a,c){return function(){return a.apply(c,arguments)}},b=[].slice,c=function(){this.add=a(this.add,this);this.callQueue=a(this.callQueue,this);this.onComplete=a(this.onComplete,this);this.dumpNames=a(this.dumpNames,this);this.functorName=a(this.functorName,this);this.queueNames=a(this.queueNames,this)};c.prototype.queue=[];c.prototype.functor=null;c.prototype.queueNames=function(){return _.map(this.queue,function(a){return a.name()})};c.prototype.functorName=function(){var a;
return null!=(a=this.functor)?a.name():void 0};c.prototype.dumpNames=function(){return toggl.log("functor: "+this.functorName()+", queue: "+this.queueNames())};c.prototype.onComplete=function(){var a=this;this.queue=_.reject(this.queue,function(c){return c===a.functor});this.functor=null;return this.callQueue()};c.prototype.callQueue=function(){if(0<this.queue.length&&null==this.functor&&(this.functor=_.first(this.queue)))return toggl.log(this.functor.name()),this.functor.run(this.onComplete)};c.prototype.add=
function(){var a,c=this;a=1<=arguments.length?b.call(arguments,0):[];_.each(a,function(a){return c.queue.push(a)});return this.callQueue()};toggl.command.CommandQueue=c}).call(this);
(function(){var g=function(a,b){return function(){return a.apply(b,arguments)}},e=function(){this.pushTimeEntriesToNetwork=g(this.pushTimeEntriesToNetwork,this);this.pushProjects=g(this.pushProjects,this);this.pushClients=g(this.pushClients,this);this.pushTags=g(this.pushTags,this);this.pushFeedbackToNetwork=g(this.pushFeedbackToNetwork,this);this.requestUrlForModel=g(this.requestUrlForModel,this);this.requestTypeForModel=g(this.requestTypeForModel,this);this.prepareModelForPush=g(this.prepareModelForPush,
this);this.showError=g(this.showError,this);this.parseErrorMessage=g(this.parseErrorMessage,this);this.run=g(this.run,this)};e.prototype.name=function(){return"push"};e.prototype.run=function(a){this.onComplete=a;return toggl.model.Feedbacks?this.pushFeedbackToNetwork(toggl.model.Feedbacks.dirty()):this.pushTags(toggl.model.Tags.dirty())};e.prototype.parseErrorMessage=function(a){return null!=a&&a.responseText&&0!==a.responseText.length?a.responseText.replace("[","").replace("]",""):null};e.prototype.showError=
function(a,b){var c;c=this.parseErrorMessage(a);return null!=a&&(405===a.status||500<=a.status)?toggl.app.trigger("offline"):null!=c?toggl.app.trigger("error","Failed to save "+b+" to Toggl.com. Server response: "+c):toggl.app.trigger("offline")};e.prototype.prepareModelForPush=function(a){a=_.clone(a.attributes);null!=a.id&&(a.guid||(a.guid=a.id.toString()));null!=a.cid&&36===a.cid.size&&delete a.cid;null!=a.client_id&&(a.cid=a.client_id);delete a.id;delete a.dirty_at;delete a.server_id;delete a.server_deleted_at;
delete a.at;return a};e.prototype.requestTypeForModel=function(a){return a.has("deleted_at")?"POST":a.has("server_id")?"PUT":"POST"};e.prototype.requestUrlForModel=function(a,b){return a.has("server_id")?b+"/"+a.get("server_id"):b};e.prototype.pushFeedbackToNetwork=function(a){var b,c,d=this;toggl.log("pushFeedbackToNetwork, feedbacks.length = "+a.length);b=a.shift();if(null==b)return this.pushClients(toggl.model.Clients.dirty());c=this.prepareModelForPush(b);return $.ajax(toggl.app.getNewApiUrl("feedback"),
{type:"POST",dataType:"json",data:JSON.stringify(c),contentType:"application/json",beforeSend:toggl.app.setAuthHeader,success:function(){toggl.model.Feedbacks.remove(b);return d.pushFeedbackToNetwork(a)},error:function(b){d.showError(b,"feedback");return d.pushFeedbackToNetwork(a)}})};e.prototype.pushTags=function(a){var b,c,d,f=this;toggl.log("pushTags, Tags.length = "+a.length);c=a.shift();if(null==c)return this.pushClients(toggl.model.Clients.dirty());d=this.requestUrlForModel(c,toggl.app.getNewApiUrl("tags"));
b={tag:this.prepareModelForPush(c)};return $.ajax(d,{type:this.requestTypeForModel(c),data:JSON.stringify(b),contentType:"application/json",beforeSend:toggl.app.setAuthHeader,success:function(b){toggl.app.handleModelPush(toggl.model.Tags,b.data,"PushCommand");return f.pushTags(a)},error:function(b){try{if(f.showError(b,"tag"),b&&b.responseText&&/Name has already been taken/.exec(b.responseText))return toggl.model.Tags.remove(c)}catch(h){return toggl.app.trigger("error",h)}finally{f.pushTags(a)}}})};
e.prototype.pushClients=function(a){var b,c,d,f=this;toggl.log("pushClients, clients.length = "+a.length);c=a.shift();if(null==c)return this.pushProjects(toggl.model.Projects.dirty());d=toggl.app.getNewApiUrl("clients");b={client:this.prepareModelForPush(c)};return $.ajax(d,{type:this.requestTypeForModel(c),data:JSON.stringify(b),dataType:"json",beforeSend:toggl.app.setAuthHeader,contentType:"application/json",success:function(b){toggl.app.handleModelPush(toggl.model.Clients,b.data,"PushCommand");
toggl.model.Projects.each(function(a){if(a.has("client_id")&&a.get("client_id")===c.get("guid"))return a.set({client_id:c.id})});return f.pushClients(a)},error:function(b){try{if(f.showError(b,"client"),b&&b.responseText&&/Name has already been taken/.exec(b.responseText))return toggl.model.Projects.each(function(a){if(a.has("client_id")&&a.get("client_id")===c.id)return a.unset("client_id")}),toggl.model.Clients.remove(c)}catch(h){return toggl.app.trigger("error",h)}finally{f.pushClients(a)}}})};
e.prototype.pushProjects=function(a){var b,c,d,f=this;toggl.log("pushProjects, projects.length = "+a.length);c=a.shift();if(null==c)return this.pushTimeEntriesToNetwork(toggl.model.TimeEntries.dirty());d=toggl.app.getNewApiUrl("projects");b={project:this.prepareModelForPush(c)};return $.ajax(d,{type:this.requestTypeForModel(c),data:JSON.stringify(b),dataType:"json",beforeSend:toggl.app.setAuthHeader,contentType:"application/json",success:function(b){toggl.app.handleModelPush(toggl.model.Projects,
b.data,"PushCommand");toggl.model.TimeEntries.each(function(a){if(a.has("pid")&&a.get("pid")===c.get("guid"))return a.set({pid:c.id})});return f.pushProjects(a)},error:function(b){var d;try{if(f.showError(b,"project"),b&&b.responseText&&(d=b.responseText,/Name has already been taken/.exec(d)||/Only admins may create projects/.exec(d)||/Workspace can't be blank/.exec(d)))return toggl.model.TimeEntries.each(function(a){if(a.has("pid")&&a.get("pid")===c.id)return a.unset("pid")}),toggl.model.Projects.remove(c)}catch(e){return toggl.app.trigger("error",
e)}finally{f.pushProjects(a)}}})};e.prototype.pushTimeEntriesToNetwork=function(a){var b,c,d,f,e,g=this;toggl.log("pushTimeEntriesToNetwork, timeEntries.length = "+a.length);b=a.shift();if(null==b)return toggl.app.trigger("timeEntriesPushed"),this.onComplete();toggl.debug&&toggl.log(JSON.stringify(b.attributes));toggl.log("will push time entry, guid = "+b.get("guid")+", id = "+b.id);if(b.has("deleted_at")){if(b.has("server_id"))return e=toggl.app.getNewApiUrl("time_entries/"+b.get("server_id")),$.ajax(e,
{type:"POST",data:JSON.stringify({_method:"DELETE"}),dataType:"json",contentType:"application/json",beforeSend:toggl.app.setAuthHeader,success:function(){toggl.model.TimeEntries.remove(b);return g.pushTimeEntriesToNetwork(a)},error:function(){toggl.model.TimeEntries.remove(b);return g.pushTimeEntriesToNetwork(a)}});toggl.model.TimeEntries.remove(b);return this.pushTimeEntriesToNetwork(a)}e=this.requestUrlForModel(b,toggl.app.getNewApiUrl("time_entries"));f=this.prepareModelForPush(b);f.description||
(f.description="");null!=f.pid&&0<f.pid.toString().length&&(c=toggl.model.Projects.findByGuid(f.pid),null!=c&&(f.pid=c.id));d=this.requestTypeForModel(b);return $.ajax(e,{type:d,data:JSON.stringify({time_entry:f}),dataType:"json",contentType:"application/json",beforeSend:toggl.app.setAuthHeader,success:function(b){toggl.app.handleModelPush(toggl.model.TimeEntries,b.data,"PushCommand");g.pushTimeEntriesToNetwork(a);return toggl.app.trigger("online")},error:function(c){if(c&&404===c.status&&"PUT"===
d)toggl.model.TimeEntries.remove(b);else{if(c&&402===c.status)return toggl.app.trigger("error","Your workspace has been suspended!"),g.onComplete();g.showError(c,"time entry")}return g.pushTimeEntriesToNetwork(a)}})};toggl.command.PushCommand=e}).call(this);
(function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b=function(c){this.reason=c;this.updateCollection=a(this.updateCollection,this);this.run=a(this.run,this)};b.prototype.name=function(){return"pull"};b.prototype.run=function(a){var b,d,f,i=this;if(null==toggl.app.currentUser)return a();d=toggl.app.getNewApiUrl("me");b=0;f=_.find(toggl.model.UserSettings.models,function(a){return a.get("uid")===toggl.app.currentUser.id});null!=f&&(b=parseInt(f.get("since"),10));toggl.app.trigger("pullStarted");
return $.ajax(d,{type:"GET",dataType:"json",data:{with_related_data:!0,is_mobile:window.isMobile&&!window.isTogglDesktop,since:b,reason:this.reason,clientversion:window.toggl.TogglMobileVersion,clientid:toggl.app.createdWith},beforeSend:toggl.app.setAuthHeader,success:function(d){var j,h;toggl.app.trigger("online");j=d.data;h=toggl.app.parseUserData(j);toggl.app.currentUser.set(h);i.updateCollection(toggl.model.Workspaces,j.workspaces);i.updateCollection(toggl.model.Clients,j.clients);i.updateCollection(toggl.model.Projects,
j.projects);i.updateCollection(toggl.model.Tags,j.tags);i.updateCollection(toggl.model.Tasks,j.tasks);i.updateCollection(toggl.model.TimeEntries,j.time_entries);b=parseInt(d.since,10);f||(f=toggl.model.UserSettings.create({uid:toggl.app.currentUser.id}));f.save({since:b});a();return toggl.app.trigger("pullFinished")},error:function(b){a();null!=b&&b.responseText&&0!==b.responseText.length?toggl.app.trigger("error","Failed to fetch data from Toggl.com. Server response: "+b.responseText.replace("[",
"").replace("]","")):(toggl.app.trigger("loadOfflineTimeEntries"),toggl.app.trigger("offline"));return toggl.app.trigger("pullFinished")}})};b.prototype.updateCollection=function(a,b){var d,f,i;d=a.comparator;a.comparator=null;a.batchUpdate=!0;try{return 0===a.size()?(f=_.map(b,function(a){return toggl.app.prepareDataForImport(a)}),a.reset(f),a.each(function(a){return a.save()})):(_.each(b,function(b){return toggl.app.handleModelPush(a,b,"PullCommand")}),"TimeEntriesCollection"===a.modelName&&a.remove(a.oldTimeEntries())),
i=a.select(function(a){return a.isDeletedServerSide()}),a.remove(i)}catch(g){return toggl.app.trigger("error",g)}finally{a.batchUpdate=!1,a.comparator=d,a.comparator&&a.sort({silent:!0}),a.trigger("batchUpdateFinished")}};toggl.command.PullCommand=b}).call(this);
(function(){var e=function(d,b){return function(){return d.apply(b,arguments)}},c=function(d,b){this.run=e(this.run,this);this.offlineUsersAllowed=e(this.offlineUsersAllowed,this);this.email=d;this.password=b};c.prototype.name=function(){return"login"};c.prototype.offlineUsersAllowed=function(){return window.chrome&&window.chrome.togglDesktop||window.isMobile};c.prototype.run=function(d){var b=this;return $.ajax(toggl.app.getNewApiUrl("sessions"),{type:"POST",dataType:"json",beforeSend:function(a){return a.setRequestHeader("Authorization",
"Basic "+Base64.encode(b.email+":"+b.password))},success:function(a){a=toggl.app.parseUserData(a.data);a=b.offlineUsersAllowed()?toggl.app.saveCurrentUserInLocalStorage(a):new toggl.model.User(a);toggl.app.setCurrentUser(a);a&&b.offlineUsersAllowed()&&(a=AesCtr.encrypt(JSON.stringify(a.toJSON()),b.email+b.password,192),toggl.model.OfflineUsers.fetch(),toggl.model.OfflineUsers.each(function(a){if(a.get("email")===b.email)return a.destroy(),toggl.model.OfflineUsers.remove(a)}),toggl.model.OfflineUsers.create({email:b.email,
offlineData:a}));return d()},error:function(a){var c,e,f,g,h;d();if(403===a.status||!b.offlineUsersAllowed())toggl.app.trigger("signinError","Failed to log in. Please check your e-mail and password and make sure you're online.");else try{if(toggl.model.OfflineUsers.fetch(),f=toggl.model.OfflineUsers.detect(function(a){return a.get("email")===b.email}),null==f)toggl.app.trigger("signinError","Failed to log in offline. No previous login found with this e-mail.");else return c=f.get("offlineData"),e=
AesCtr.decrypt(c,b.email+b.password,192),h=$.parseJSON(e),g=new toggl.model.User(h),toggl.app.setCurrentUser(g)}catch(i){return toggl.app.trigger("signinError","Failed to log in offline. Please check your e-mail and password.")}}})};toggl.command.LoginCommand=c}).call(this);
(function(){var c=function(d,a){return function(){return d.apply(a,arguments)}},a=function(a){this.run=c(this.run,this);this.offlineUsersAllowed=c(this.offlineUsersAllowed,this);this.apiToken=a};a.prototype.name=function(){return"token_login"};a.prototype.offlineUsersAllowed=function(){return window.chrome&&window.chrome.togglDesktop||window.isMobile};a.prototype.run=function(a){var c=this;return $.ajax(toggl.app.getApiUrl("sessions.json"),{type:"POST",dataType:"json",beforeSend:function(a){return a.setRequestHeader("Authorization",
"Basic "+Base64.encode(c.apiToken+":api_token"))},success:function(b){b=toggl.app.parseUserData(b.data);b=c.offlineUsersAllowed()?toggl.app.saveCurrentUserInLocalStorage(b):new toggl.model.User(b);toggl.app.setCurrentUser(b);return a()},error:function(){a();return toggl.app.trigger("error","Failed to log in with API token. Sorry.")}})};toggl.command.TokenLoginCommand=a}).call(this);
(function(){toggl.LoggedInUserApiUrl="/me"}).call(this);
(function(){var a=function(){var a=this.run,c=this;this.run=function(){return a.apply(c,arguments)}};a.prototype.name=function(){return"GetLoggedInUserCommand"};a.prototype.run=function(a){return $.ajax(toggl.LoggedInUserApiUrl||toggl.app.getApiUrl("me"),{type:"GET",dataType:"json",success:function(c){c=toggl.app.parseUserData(c.data);toggl.app.setCurrentUser(new toggl.model.User(c));return a()},error:function(){toggl.app.trigger("notLoggedIn");return a()}})};toggl.command.GetLoggedInUserCommand=
a}).call(this);
(function(){var a=function(a,c){var e=this.run,d=this;this.run=function(){return e.apply(d,arguments)};this.email=a;this.password=c};a.prototype.name=function(){return"signup"};a.prototype.run=function(a){var c=this;return $.ajax(toggl.app.getApiUrl("signups.json"),{type:"POST",dataType:"json",data:{user:{email:this.email,password:this.password}},success:function(){toggl.app.commandQueue.add(new toggl.command.LoginCommand(c.email,c.password));return a()},error:function(c){var d;a();d="Failed to sign up. Please check your e-mail and password and make sure you're online.";
try{d=JSON.parse(c.responseText).error}catch(f){}return toggl.app.trigger("error",d)}})};toggl.command.SignupCommand=a}).call(this);
(function(){var e=function(d,a){var b=this.run,c=this;this.run=function(){return b.apply(c,arguments)};this.email=d;this.onSuccess=a};e.prototype.name=function(){return"forgotPassword"};e.prototype.run=function(d){var a=this;return $.ajax(toggl.app.getNewApiUrl("lost_passwords"),{type:"POST",dataType:"json",data:{email:this.email},success:function(b){d();return a.onSuccess(b.success.toString())},error:function(a){var c;d();c="Failed to reset password. Please make sure you're online.";try{c=JSON.parse(a.responseText.toString()).error}catch(e){}return toggl.app.trigger("error",
c)}})};toggl.command.ForgotPasswordCommand=e}).call(this);
(function(){var d=function(a,e){return function(){return a.apply(e,arguments)}},c=function(a){this.createdWith=a;this.hasDirtyModels=d(this.hasDirtyModels,this);this.setAuthHeader=d(this.setAuthHeader,this);this.namePresentInWorkspace=d(this.namePresentInWorkspace,this);this.formatProjectName=d(this.formatProjectName,this);this.formatDescription=d(this.formatDescription,this);this.parseUserData=d(this.parseUserData,this);this.idleSplit=d(this.idleSplit,this);this.idleDrop=d(this.idleDrop,this);this.idleNotify=
d(this.idleNotify,this);this.idleNotifySeconds=d(this.idleNotifySeconds,this);this.updateHibernationState=d(this.updateHibernationState,this);this.updateIdleState=d(this.updateIdleState,this);this.pollIdleState=d(this.pollIdleState,this);this.destroyCurrentUserInLocalStorage=d(this.destroyCurrentUserInLocalStorage,this);this.loadCurrentUserFromLocalStorage=d(this.loadCurrentUserFromLocalStorage,this);this.stopBroadcast=d(this.stopBroadcast,this);this.startBroadcast=d(this.startBroadcast,this);this.stopFetchingUpdates=
d(this.stopFetchingUpdates,this);this.startFetchingUpdates=d(this.startFetchingUpdates,this);this.hasNotBeenModifiedMeanwhileLocally=d(this.hasNotBeenModifiedMeanwhileLocally,this);this.updateTimeEntryTagNames=d(this.updateTimeEntryTagNames,this);this.handleModelUpdate=d(this.handleModelUpdate,this);this.handleModelPush=d(this.handleModelPush,this);this.prepareDataForImport=d(this.prepareDataForImport,this);this.handleCurrentUserPush=d(this.handleCurrentUserPush,this);this.handleModelDelete=d(this.handleModelDelete,
this);this.handleMessage=d(this.handleMessage,this);this.purgeWSData=d(this.purgeWSData,this);this.setCurrentUser=d(this.setCurrentUser,this);this.localStorageCookieName=d(this.localStorageCookieName,this);this.setCurrentUserInDesktop=d(this.setCurrentUserInDesktop,this);this.callQueue=d(this.callQueue,this);this.saveAndPushModelAfterAdd=d(this.saveAndPushModelAfterAdd,this);this.saveModelAfterAdd=d(this.saveModelAfterAdd,this);this.pushTimeEntryAfterChange=d(this.pushTimeEntryAfterChange,this);this.broadcastTrackingStatusAfterChange=
d(this.broadcastTrackingStatusAfterChange,this);this.destroyModelAfterRemove=d(this.destroyModelAfterRemove,this);this.sync=d(this.sync,this);this.doFullSyncAfterOnline=d(this.doFullSyncAfterOnline,this);this.getNewApiUrl=d(this.getNewApiUrl,this);this.getApiUrl=d(this.getApiUrl,this);if(!this.createdWith)throw"missing createdWith!";_.extend(this,Backbone.Events)};c.prototype.createdWith=null;c.prototype.currentUser=null;c.prototype.broadcastTimer=null;c.prototype.idleThreshold=null;c.prototype.apiHost=
null;c.prototype.socketHost=null;c.prototype.socketWasOpen=!1;c.prototype.newApiHost=null;c.prototype.ws=null;c.prototype.tryWebSocket=!0;c.prototype.idleState={name:"active",time:Date.now()};c.prototype.hibernationState={time:Date.now()};c.prototype.initialize=function(){var a,e=this;window.location&&(window.location.href&&/debug/.test(window.location.href))&&(window.toggl.debug=!0);window.chrome&&window.chrome.togglDesktop&&(window.toggl.debug=!0);this.idleThreshold=600;this.apiHost=toggl.TogglApiHost||
"";this.socketHost=toggl.TogglSocketUrl||"";this.newApiHost=toggl.TogglNewApiUrl||"";if(!window.WebSocket&&!window.MozWebSocket||window.cordova)this.tryWebSocket=!1;window.chrome&&window.chrome.togglDesktop&&(window.chrome.togglDesktop.idleDetectionInterval&&(a=parseInt(window.chrome.togglDesktop.idleDetectionInterval,10),0<a&&(this.idleThreshold=a,toggl.log("idleThreshold overwritten with "+this.idleThreshold))),window.chrome.togglDesktop.apiHost&&(a=window.chrome.togglDesktop.apiHost,0<a.length&&
(this.apiHost=a,toggl.log("apiHost overwritten with "+this.apiHost))),window.chrome.togglDesktop.socketHost&&(a=window.chrome.togglDesktop.socketHost,0<a.length&&(this.socketHost=a,toggl.log("socket URL overwritten with "+this.socketHost))));this.pushableCollections=[toggl.model.TimeEntries,toggl.model.Clients,toggl.model.Projects];this.userRelatedCollections=[toggl.model.Workspaces,toggl.model.Clients,toggl.model.Projects,toggl.model.Tasks,toggl.model.Tags,toggl.model.TimeEntries];toggl.model.Feedbacks&&
(this.pushableCollections.push(toggl.model.Feedbacks),this.userRelatedCollections.push(toggl.model.Feedbacks));toggl.model.Tags&&(this.pushableCollections.push(toggl.model.Tags),this.userRelatedCollections.push(toggl.model.Tags));toggl.model.UserSettings&&this.userRelatedCollections.push(toggl.model.UserSettings);_.each(this.userRelatedCollections,function(a){return a.bind("remove",e.destroyModelAfterRemove)});_.each([toggl.model.Projects,toggl.model.Clients,toggl.model.Workspaces,toggl.model.Tags,
toggl.model.Tasks],function(a){return a.bind("add",e.saveModelAfterAdd)});_.each(this.pushableCollections,function(a){return a.bind("add",e.saveAndPushModelAfterAdd)});toggl.model.TimeEntries.bind("change",this.pushTimeEntryAfterChange);window.chrome&&window.chrome.togglDesktop&&(toggl.model.TimeEntries.bind("change",this.broadcastTrackingStatusAfterChange),this.loadCurrentUserFromLocalStorage());window.isMobile&&this.loadCurrentUserFromLocalStorage();this.commandQueue=new toggl.command.CommandQueue;
null==this.currentUser&&null!=toggl.command.GetLoggedInUserCommand&&this.commandQueue.add(new toggl.command.GetLoggedInUserCommand);try{window.chrome&&null!=window.chrome.togglDesktop&&(window.chrome.togglDesktop.onStop=function(){if(null!=toggl.app.currentUser)return toggl.app.trigger("stopCommand")},window.chrome.togglDesktop.onNew=function(){if(null!=toggl.app.currentUser)return toggl.app.trigger("newCommand")},window.chrome.togglDesktop.onContinuePrevious=function(){if(null!=toggl.app.currentUser)return toggl.app.trigger("continuePreviousCommand")})}catch(b){toggl.log("Failed to listen to TogglDesktop commands: "+
b)}try{window.chrome&&(window.chrome.idle&&window.chrome.idle.queryState&&window.chrome.idle.onStateChanged)&&(this.idleTimer=setInterval(this.pollIdleState,5E3),chrome.idle.onStateChanged.addListener(this.updateIdleState))}catch(c){toggl.log("Failed to initialize idle detection: "+c)}window.chrome&&(window.webkitNotifications&&window.webkitNotifications.createHTMLNotification)&&(this.bind("idleDrop",this.idleDrop),this.bind("idleSplit",this.idleSplit),this.hibernationTimer=setInterval(this.updateHibernationState,
1E4));if(null!=window.addEventListener)return window.addEventListener("online",this.doFullSyncAfterOnline)};c.prototype.getApiUrl=function(a){return this.apiHost?this.apiHost+"/api/v7/"+a:"/api/v7/"+a};c.prototype.getNewApiUrl=function(a){return this.newApiHost?this.newApiHost+"/api/v8/"+a:"/api/v8/"+a};c.prototype.doFullSyncAfterOnline=function(){toggl.log("online");return setTimeout(function(){if(null!=toggl.app&&null!=toggl.app.currentUser)return toggl.app.sync("background_online")},"2000")};c.prototype.sync=
function(a){this.commandQueue||(this.commandQueue=new toggl.command.CommandQueue);return this.commandQueue.add(new toggl.command.PushCommand,new toggl.command.PullCommand(a))};c.prototype.destroyModelAfterRemove=function(a){return a.destroy()};c.prototype.broadcastTrackingStatusAfterChange=function(a){if(a.isTracking())return this.broadcastTrackingStatus(a)};c.prototype.pushTimeEntryAfterChange=function(a){if(null!=a&&a.dirty())return a.setUIModifiedAt(),this.commandQueue.add(new toggl.command.PushCommand)};
c.prototype.saveModelAfterAdd=function(a){return a.save()};c.prototype.saveAndPushModelAfterAdd=function(a){a.save();if(a.dirty())return this.commandQueue.add(new toggl.command.PushCommand)};c.prototype.callQueue=function(){return this.commandQueue.callQueue()};c.prototype.setCurrentUserInDesktop=function(){if(window.chrome&&null!=window.chrome.togglDesktop&&null!=window.chrome.togglDesktop.setCurrentUser)return null!=this.currentUser?window.chrome.togglDesktop.setCurrentUser(this.currentUser.id,
this.currentUser.get("api_token"),!0===this.currentUser.get("record_timeline")):window.chrome.togglDesktop.setCurrentUser(0,"",!1)};c.prototype.localStorageCookieName=function(a){return"is_localstorage_enabled_"+a.id};c.prototype.setCurrentUser=function(a){var e,b;window.backboneMemoryStore=null;if(!window.IsLocalStorageEnabled&&null!=a){if(null!=window.localStorage&&(e=readCookie(this.localStorageCookieName(a)),!0===e||"true"===e))window.IsLocalStorageEnabled=!0;if(window.IsLocalStorageEnabled)try{window.localStorage.setItem("safari private mode test",
!0),window.localStorage.removeItem("safari private mode test")}catch(c){window.IsLocalStorageEnabled=!1}}_.each(this.userRelatedCollections,function(b){b.localStorage=null!=a?new Store(b.modelName+"_"+a.id):null;if(null==a)return b.reset()});e=null!=(b=this.currentUser)?b.id:void 0;this.currentUser=a;toggl.app.trigger("currentUserSet");this.setCurrentUserInDesktop();null!=this.currentUser?(this.startBroadcast(),this.startFetchingUpdates()):(this.stopBroadcast(),this.stopFetchingUpdates());null!=this.currentUser&&
this.currentUser.id!==e&&_.each(this.userRelatedCollections,function(a){return a.fetch()});toggl.model.Projects.each(function(a){if(a.has("cid"))return a.set("client_id",a.get("cid")),a.unset("cid"),a.save({silent:!0})});return null!=this.currentUser?toggl.app.broadcastTrackingStatus(toggl.model.TimeEntries.tracking()):toggl.app.broadcastTrackingStatus(null)};c.prototype.purgeWSData=function(a){var e=this;_.each(toggl.model.Clients.models,function(b){if(b.get("wid"===a))return e.handleModelDelete(toggl.model.Clients,
b)});_.each(toggl.model.Projects.models,function(b){if(b.get("wid")===a)return e.handleModelDelete(toggl.model.Projects,b)});_.each(toggl.model.Tags.models,function(b){if(b.get("wid")===a)return e.handleModelDelete(toggl.model.Tags,b)});_.each(toggl.model.Tasks.models,function(b){if(b.get("wid")===a)return e.handleModelDelete(toggl.model.Tasks,b)});return _.each(toggl.model.TimeEntries.models,function(b){if(b.get("wid")===a)return e.handleModelDelete(toggl.model.TimeEntries,b)})};c.prototype.handleMessage=
function(a,e){switch(a.model){case "time_entry":return this.handleModelPush(toggl.model.TimeEntries,a.data,e);case "workspace":return this.handleModelPush(toggl.model.Workspaces,a.data,e);case "tag":return this.handleModelPush(toggl.model.Tags,a.data,e);case "client":return this.handleModelPush(toggl.model.Clients,a.data,e);case "project":return this.handleModelPush(toggl.model.Projects,a.data,e);case "task":return this.handleModelPush(toggl.model.Tasks,a.data,e);case "user":return this.handleCurrentUserPush(a.data,
e)}};c.prototype.handleModelDelete=function(a,e){var b,c;b=a.get(e.id);if(null!=b&&(toggl.log("- will remove model"),c=null,"TagsCollection"===a.modelName&&(c=b.get("name")),a.remove(b),"TagsCollection"===a.modelName))return this.updateTimeEntryTagNames(c,b,!0)};c.prototype.handleCurrentUserPush=function(a){toggl.app.trigger("online");null!=toggl.app.currentUser&&toggl.app.currentUser.id===a.id&&(toggl.log("current user data updated"),toggl.app.currentUser.set(a));return this.setCurrentUserInDesktop()};
c.prototype.prepareDataForImport=function(a){a.server_id=a.id;null!=a.cid&&(a.client_id=a.cid,delete a.cid);return a};c.prototype.handleModelPush=function(a,e,b){toggl.debug&&toggl.log("handleModelPush, source: "+b+", data: "+JSON.stringify(e));e=this.prepareDataForImport(e);if(e.server_deleted_at){if(this.handleModelDelete(a,e),"WorkspacesCollection"===a.modelName)return this.purgeWSData(e.id)}else return this.handleModelUpdate(a,e,b)};c.prototype.handleModelUpdate=function(a,e){var b,c,d;c=a.get(e.id);
null!=c&&toggl.log("- found model by id");null==c&&e.guid&&(c=a.get(e.guid),null!=c&&toggl.log("- found model by matching data.guid to model.id"));null==c&&e.guid&&(c=a.findByGuid(e.guid),null!=c&&toggl.log("- found model by matching data.guid to model.guid"));if(null==c)toggl.log("- model entry not found, will create locally"),a.create(e);else if("ProjectsCollection"===a.modelName&&null==e.client_id&&(e.client_id=null),"TimeEntriesCollection"===a.modelName&&(null==e.pid&&(e.pid=null),null==e.tid&&
(e.tid=null)),d=null,"TagsCollection"===a.modelName&&(d=c.get("name")),b=c.id,toggl.log("- localId = "+b),c.id=e.server_id,toggl.log("- model.id = "+c.id),this.hasNotBeenModifiedMeanwhileLocally(c,e)?(toggl.log("- overwriting local model with server data"),c.save(_.extend(e,{id:e.server_id,dirty_at:null,localId:b,ui_modified_at:null})),toggl.app.trigger("timeEntryOverwrittenByServerData",{id:e.server_id}),toggl.log("- overwritten")):(toggl.log("- local model has been modified meanwhile, will not overwrite local model with server data!"),
c.save({id:e.server_id,server_id:e.server_id,guid:e.guid,localId:b},{silent:!0})),b!==c.id&&toggl.app.trigger("modelCreatedServerSide",c),toggl.debug&&(toggl.log("Resulting model after applying updates:"),toggl.log(JSON.stringify(c.attributes))),"TagsCollection"===a.modelName)return this.updateTimeEntryTagNames(d,c,!1)};c.prototype.updateTimeEntryTagNames=function(a,e,b){var c,d;d=e.get("wid");c=e.get("name");return toggl.model.TimeEntries.each(function(e){var h;if(e.get("wid")===d&&_.include(e.get("tags"),
a))return h=_.without(e.get("tags"),a),b||h.push(c),e.save("tags",h)})};c.prototype.hasNotBeenModifiedMeanwhileLocally=function(a,e){if(!a.has("ui_modified_at")||!a.get("ui_modified_at"))return toggl.log("- model has no ui_modified_at, may overwrite"),!0;if(a.has("ui_modified_at")&&a.get("ui_modified_at")&&!e.ui_modified_at)return toggl.log("- model has ui_modified_at but server data doesn't, may not overwrite"),!1;if(!e.ui_modified_at)return toggl.log("- server data has no ui_modified_at, may overwrite"),
!0;if(parseInt(a.get("ui_modified_at"),10)===parseInt(e.ui_modified_at,10))return toggl.log("- server data is our own latest change, may overwrite"),!0;toggl.debug&&(toggl.log("local ui_modified_at = "+parseInt(a.get("ui_modified_at"),10)),toggl.log("server ui_modified_at = "+parseInt(e.ui_modified_at,10)));toggl.log("- may not overwrite");return!1};c.prototype.startFetchingUpdates=function(){var a,e,b=this;toggl.log("startFetchingUpdates");if("undefined"!==typeof toggl&&null!==toggl&&!(null==toggl.app||
null==toggl.app.currentUser)){a={type:"authenticate",api_token:this.currentUser.get("api_token")};e=JSON.stringify({type:"pong"});if(this.tryWebSocket)return toggl.log("websocket starting, socketHost: "+this.socketHost),this.ws=window.WebSocket?new WebSocket(toggl.app.socketHost):window.MozWebSocket?new MozWebSocket(toggl.app.socketHost):void 0,this.ws.onopen=function(){var e;b.socketWasOpen=!0;toggl.log("websocket connected to "+b.socketHost);e=JSON.stringify(a);toggl.debug&&toggl.log("sending via websocket: "+
e);try{return b.ws.send(e)}catch(c){return toggl.log("Websocket error: "+c)}},this.ws.onerror=function(){return toggl.log("websocket error")},this.ws.onclose=function(){var a;if(null!=toggl.app.currentUser)return b.tryWebSocket&&!b.socketWasOpen&&(b.tryWebSocket=!1,toggl.log("websocket not available")),a=Math.floor(30*Math.random()),toggl.log("websocket closed, will retry in "+a+" seconds"),setTimeout(b.startFetchingUpdates,1E3*a)},this.ws.onmessage=function(a){toggl.debug&&toggl.log("websocket message: "+
a.data);a=JSON.parse(a.data);if(null!=a.session_id)return toggl.log("websocket session authenticated, session ID: "+a.session_id);if(null!=a.model)return b.handleMessage(a,"websocket");if(null!=b.ws)try{return b.ws.send(e)}catch(c){return toggl.log("Websocket error: "+c)}};toggl.log("websocket not available");toggl.log("starting sync, will retry in 60 seconds");toggl.app.silent=!0;return toggl.app.sync("nowebsocket")}};c.prototype.stopFetchingUpdates=function(){var a;try{return null!=(a=this.ws)?
a.close():void 0}catch(e){return toggl.log(e)}finally{this.ws=null}};c.prototype.startBroadcast=function(){if(!toggl.app.broadcastTimer&&window.chrome&&window.chrome.togglDesktop&&window.chrome.togglDesktop.broadcastTimeSpent)return toggl.app.broadcastTimer=setInterval(this.broadcastTimeSpent,5E3)};c.prototype.stopBroadcast=function(){null!=toggl.app.broadcastTimer&&clearInterval(this.broadcastTimer);return toggl.app.broadcastTimer=null};c.prototype.broadcastTrackingStatus=function(a){var e,b,c,d;
if(window.chrome&&window.chrome.togglDesktop&&window.chrome.togglDesktop.setTrackingStatus)return b=!1,e=c="",null!=a?(b=!0,c=this.formatProjectName({taskId:a.get("tid"),projectId:a.get("pid"),"default":""}),d=a.formattedDurationHHMM(),e=a.get("description")||"(no description)"):d=toggl.model.TimeEntries.formattedDurationTodayHHMM(),window.chrome.togglDesktop.setTrackingStatus(b,d,e,c)};c.prototype.broadcastTimeSpent=function(){if(null!=toggl.app.currentUser)return toggl.app.broadcastTrackingStatus(toggl.model.TimeEntries.tracking())};
c.prototype.saveCurrentUserInLocalStorage=function(a){var e;e=toggl.model.Users.get(a.id);null!=e?e.save(a):e=toggl.model.Users.create(a);toggl.model.UserSettings.destroyAllModels();toggl.model.Sessions.destroyAllModels();toggl.model.Sessions.create({user_id:e.id});return e};c.prototype.loadCurrentUserFromLocalStorage=function(){var a;toggl.model.Sessions.fetch();toggl.model.Users.fetch();if(0===toggl.model.Sessions.length)return this.setCurrentUser(null);a=toggl.model.Sessions.at(0);a=toggl.model.Users.get(a.get("user_id"));
return this.setCurrentUser(a)};c.prototype.destroyCurrentUserInLocalStorage=function(){toggl.model.UserSettings.destroyAllModels();toggl.model.Sessions.destroyAllModels();toggl.model.Users.destroyAllModels();return this.setCurrentUser(null)};c.prototype.pollIdleState=function(){return window.chrome.idle.queryState(this.idleThreshold,this.updateIdleState)};c.prototype.updateIdleState=function(a){var e,b,c;if(this.idleState.name!==a&&(c=this.idleState.time,b=this.idleState.name,e=Date.now(),this.idleState.time=
e,this.idleState.name=a,"idle"===b&&"active"===a))return this.idleNotify((this.idleState.time-c)/1E3,c-1E3*this.idleThreshold),setTimeout(function(){if(window.chrome&&window.chrome.togglDesktop&&window.chrome.togglDesktop.registerIdleEvent)return window.chrome.togglDesktop.registerIdleEvent(c,e)},"100")};c.prototype.updateHibernationState=function(){var a,c;a=this.hibernationState.time;this.hibernationState.time=Date.now();if(6E4<this.hibernationState.time-a)return c=this.hibernationState.time,this.idleNotify((c-
a)/1E3,a),setTimeout(function(){if(window.chrome&&window.chrome.togglDesktop&&window.chrome.togglDesktop.registerIdleEvent)return window.chrome.togglDesktop.registerIdleEvent(a,c)},"100")};c.prototype.idleNotifySeconds=function(a){return this.idleNotify(a,(new Date(Date.now()-1E3*(a+this.idleThreshold))).getTime())};c.prototype.idleNotify=function(a,c){var b,d,f;b=!0;window.chrome&&window.chrome.togglDesktop&&(b=!!chrome.togglDesktop.idleNotificationEnabled);if(b&&(f=toggl.model.TimeEntries.tracking(),
null!=f&&null!=f.id&&0===window.webkitNotifications.checkPermission()&&0<a))return b=TimeFormat.seconds_to_hhmmss(a+this.idleThreshold,!0),b="idle_notification.html?idleText="+encodeURIComponent(b)+"&timeEntryID="+encodeURIComponent(f.id)+"&idleSeconds="+encodeURIComponent(a)+"&idleAt="+encodeURIComponent(c),d=webkitNotifications.createHTMLNotification(b),d.show(),setTimeout(function(){return d.cancel()},"30000"),!1};c.prototype.idleDrop=function(a){var c,b;if(null!=this.currentUser)return b=toggl.model.TimeEntries.get(a.timeEntryID),
c=a.idleSeconds+this.idleThreshold,null!=b&&b.stopAt(c,a.idleAt),toggl.app.trigger("timeEntryOverwrittenByServerData",{id:a.timeEntryID,render:!0})};c.prototype.idleSplit=function(a){var c,b;if(null!=this.currentUser)return b=toggl.model.TimeEntries.get(a.timeEntryID),c=a.idleSeconds+this.idleThreshold,a=null!=b?b.splitAt(c,a.idleAt):void 0,toggl.app.trigger("timeEntryOverwrittenByServerData",{te:a})};c.prototype.parseUserData=function(a){return{api_token:a.api_token,email:a.email,fullname:a.fullname,
date_format:a.date_format,timeofday_format:a.timeofday_format,jquery_date_format:a.jquery_date_format,jquery_timeofday_format:a.jquery_timeofday_format,store_start_and_stop_time:a.store_start_and_stop_time,id:a.id,image_url:a.image_url,sidebar_piechart:a.sidebar_piechart,default_wid:a.default_wid,beginning_of_week:a.beginning_of_week,language:a.language,retention:a.retention||9,record_timeline:a.record_timeline,render_timeline:a.render_timeline,timeline_enabled:a.timeline_enabled,timeline_experiment:null!=
a.timeline_experiment?a.timeline_experiment:null!=a.timeline_enabled,manual_mode:a.manual_mode,new_blog_post:a.new_blog_post,should_upgrade:a.should_upgrade,first_time:a.first_time,created_at:a.created_at}};c.prototype.formatDescription=function(a){var c;c=a.get("description")||"(no description)";a.has("pid")&&(c+=" - "+this.formatProjectName({projectId:a.get("pid")}));a.has("tid")&&(a=toggl.model.Tasks.get(a.get("tid")))&&(c+=" - "+a.get("name"));return c};c.prototype.formatProjectName=function(a){var c,
b,d;d=b=c=null;null!=a.taskId&&(d=toggl.model.Tasks.get(a.taskId),null!=d&&(b=toggl.model.Projects.get(d.get("pid"))));null!=a.projectId&&(b=toggl.model.Projects.get(a.projectId));null!=b&&b.has("client_id")&&(c=toggl.model.Clients.get(b.get("client_id")));c=_.map([c,b,d],function(a){if(null!=a)return a.get("name")});c=_.compact(c);return 0===c.length?a["default"]||"":c.join(". ")};c.prototype.namePresentInWorkspace=function(a,c,b,d){var f;f=$.trim(c.toLowerCase());return a.detect(function(a){return a.get("name").toLowerCase()===
f&&a.get("wid")===b&&a.get("client_id")===d})};c.prototype.setAuthHeader=function(a){if(null!=this.currentUser)return a.setRequestHeader("Authorization","Basic "+Base64.encode(this.currentUser.get("api_token")+":api_token"))};c.prototype.hasDirtyModels=function(){return _.any(this.pushableCollections,function(a){return 0<a.countDirty()})};c.prototype.autocompleteSourceForTasks=function(){var a,c;a={};c=[];toggl.model.TimeEntries.each(function(b){var d;d=toggl.app.formatDescription(b);if(!a[d])return b=
{description:b.get("description"),pid:b.get("pid"),tid:b.get("tid"),billable:b.get("billable"),wid:b.get("wid"),modeltype:"time_entry"},c.push([d,b]),a[d]=!0});toggl.model.Tasks.each(function(b){var d,f;d=toggl.app.formatProjectName({taskId:b.id});if(!a[d]&&b.get("active")&&!b.has("server_deleted_at"))return f=toggl.model.Projects.get(b.get("pid")),b={description:b.get("name"),pid:b.get("pid"),tid:b.get("id"),billable:null!=f?f.get("billable"):void 0,wid:b.get("wid"),modeltype:"task"},c.push([d,b]),
a[d]=!0});toggl.model.Projects.each(function(b){var d;d=toggl.app.formatProjectName({projectId:b.id});if(!a[d]&&b.get("active")&&!b.has("server_deleted_at"))return b={description:"",pid:b.id,billable:b.get("billable"),wid:b.get("wid"),modeltype:"project"},c.push([d,b]),a[d]=!0});return c};c.prototype.timeOfDayFormat=function(){if(toggl.app.currentUser.has("timeofday_format")&&null!=toggl.app.currentUser.get("timeofday_format")&&toggl.app.currentUser.get("timeofday_format").length)return toggl.app.currentUser.get("timeofday_format");
toggl.app.currentUser.set("timeofday_format","H:mm");return"H:mm"};window.TogglBackgroundApp=c}).call(this);
(function(){window.IsLocalStorageEnabled=!0;try{window.localStorage.setItem("safari private mode test",!0),window.localStorage.removeItem("safari private mode test")}catch(a){window.IsLocalStorageEnabled=!1}}).call(this);
(function(){toggl.model.BaseModel=Backbone.Model.extend({dirty:function(){return this.has("dirty_at")&&this.get("dirty_at")?!0:this.has("deleted_at")&&this.get("deleted_at")?!0:!this.has("server_id")&&!this.get("server_id")?!0:!1},isDeletedLocally:function(){var a;return 0<(null!=(a=this.get("deleted_at"))?a.length:void 0)},isDeletedServerSide:function(){var a;return 0<(null!=(a=this.get("server_deleted_at"))?a.length:void 0)},isDeleted:function(){return this.isDeletedLocally()||this.isDeletedServerSide()}});
toggl.model.BaseCollection=Backbone.Collection.extend({dirty:function(){return this.select(function(a){return a.dirty()})},countDirty:function(){return this.dirty().length},findByGuid:function(a){return null!=a&&0<a.length?this.detect(function(b){return b.get("guid")===a}):null},destroyAllModels:function(){var a,b;for(b=[];0<this.length;)a=this.at(0),a.destroy(),b.push(this.remove(a));return b}})}).call(this);
(function(){toggl.model.Feedback=toggl.model.BaseModel.extend({defaults:{mobile:!0},modelName:"Feedback"});toggl.model.FeedbacksCollection=toggl.model.BaseCollection.extend({model:toggl.model.Feedback,modelName:"FeedbacksCollection"});toggl.model.Feedbacks=new toggl.model.FeedbacksCollection}).call(this);
(function(){toggl.model.Sessions=toggl.model.BaseModel.extend({modelName:"Session"});toggl.model.SessionsCollection=toggl.model.BaseCollection.extend({localStorage:new Store("sessions"),modelName:"SessionsCollection"});toggl.model.Sessions=new toggl.model.SessionsCollection}).call(this);
(function(){toggl.model.OfflineUser=toggl.model.BaseModel.extend({modelName:"OfflineUser"});toggl.model.OfflineUsersCollection=toggl.model.BaseCollection.extend({model:toggl.model.OfflineUser,localStorage:new Store("offline_users"),modelName:"OfflineUsersCollection"});toggl.model.OfflineUsers=new toggl.model.OfflineUsersCollection}).call(this);
(function(){toggl.model.UserSetting=toggl.model.BaseModel.extend({modelName:"UserSetting"});toggl.model.UserSettingsCollection=toggl.model.BaseCollection.extend({model:toggl.model.UserSetting,modelName:"UserSettingsCollection"});toggl.model.UserSettings=new toggl.model.UserSettingsCollection}).call(this);
(function(){toggl.model.User=toggl.model.BaseModel.extend({modelName:"User"});toggl.model.UsersCollection=toggl.model.BaseCollection.extend({model:toggl.model.User,localStorage:new Store("users"),modelName:"UsersCollection"});toggl.model.Users=new toggl.model.UsersCollection}).call(this);
(function(){toggl.model.Client=toggl.model.BaseModel.extend({modelName:"Client"});toggl.model.ClientsCollection=toggl.model.BaseCollection.extend({model:toggl.model.Client,modelName:"ClientsCollection",comparator:function(a){return a.get("name")}});toggl.model.Clients=new toggl.model.ClientsCollection}).call(this);
(function(){toggl.model.Project=toggl.model.BaseModel.extend({modelName:"Project"});toggl.model.ProjectsCollection=toggl.model.BaseCollection.extend({model:toggl.model.Project,modelName:"ProjectsCollection",comparator:function(a){var b;return(null!=(b=a.get("name"))?b.toLowerCase():void 0)||""}});toggl.model.Projects=new toggl.model.ProjectsCollection}).call(this);
(function(){toggl.model.Tag=toggl.model.BaseModel.extend({modelName:"Tag"});toggl.model.TagsCollection=toggl.model.BaseCollection.extend({model:toggl.model.Tag,comparator:function(a){return a.get("name")},modelName:"TagsCollection"});toggl.model.Tags=new toggl.model.TagsCollection}).call(this);
(function(){toggl.model.Task=toggl.model.BaseModel.extend({modelName:"Task"});toggl.model.TasksCollection=toggl.model.BaseCollection.extend({model:toggl.model.Task,modelName:"TasksCollection",comparator:function(a){var b;return(null!=(b=a.get("name"))?b.toLowerCase():void 0)||""}});toggl.model.Tasks=new toggl.model.TasksCollection}).call(this);
(function(){toggl.model.Workspace=toggl.model.BaseModel.extend({modelName:"Workspace"});toggl.model.WorkspacesCollection=toggl.model.BaseCollection.extend({model:toggl.model.Workspace,modelName:"WorkspacesCollection"});toggl.model.Workspaces=new toggl.model.WorkspacesCollection}).call(this);
(function(){toggl.model.TimeEntry=toggl.model.BaseModel.extend({defaults:{description:""},initialize:function(){return _.bindAll(this,"startDate","setStartDate","isTracking","formattedDuration","duration","stopTracking","formattedStartTime","formattedStopTime","deleteEntry","isToday")},modelName:"TimeEntry",isToday:function(){var b,a;b=moment(this.startDate()).format("YYYY-MM-DD");a=moment(new Date).format("YYYY-MM-DD");return b===a},setUIModifiedAt:function(){return this.set({ui_modified_at:Date.now()})},
deleteEntry:function(){this.isTracking()&&this.stopTracking();return this.has("server_id")?this.save({deleted_at:new Date}):toggl.model.TimeEntries.remove(this)},startTime:function(){return this.startDate().getTime()},startDate:function(){return moment(this.get("start")).toDate()},atTime:function(){var b;b=this.get("at");return null==b?0:moment(b).toDate().getTime()},stopDate:function(){if(this.has("stop"))return moment(this.get("stop")).toDate()},setStartDate:function(b){return this.set({start:moment(b).format()})},
formattedStartTime:function(){return moment(this.startDate()).format(toggl.app.timeOfDayFormat())},formattedStopTime:function(){return this.has("stop")?moment(this.stopDate()).format(toggl.app.timeOfDayFormat()):""},formattedDuration:function(b){null==b&&(b=!1);return TimeFormat.seconds_to_hhmmss(this.duration(),b)},formattedDurationHHMM:function(){return TimeFormat.seconds_to_hhmm(this.duration())},tagNames:function(){return _.reject(this.get("tags"),function(b){return""===b})},duration:function(){return this.isTracking()?
Math.abs(Date.now()/1E3+this.get("duration")):this.get("duration")||0},isTracking:function(){return 0>this.get("duration")},stopAt:function(b,a){var c,e,d;c=this.duration()-b;return this.isTracking()&&0<c?(e=moment(new Date(a)).format(),this.save({dirty_at:new Date,duration:c,stop:e}),null!=(d=toggl.app)&&d.broadcastTrackingStatus(null),!0):!1},splitAt:function(b,a){var c,e;if(toggl.app.currentUser&&this.stopAt(b,a))return c=new Date(a),c={created_with:toggl.app.createdWith,description:this.get(""),
start:moment(c).format(),duration:-(c.getTime()/1E3),duronly:!toggl.app.currentUser.get("store_start_and_stop_time")},c=toggl.model.TimeEntries.create(c),null!=(e=toggl.app)&&e.broadcastTrackingStatus(c),c},stopTracking:function(b){var a,c;a=moment(new Date).format();a={duration:this.duration(),dirty_at:new Date,stop:a};null!=b&&b.silent?this.set(a,{silent:!0}):this.save(a);return null!=(c=toggl.app)?c.broadcastTrackingStatus(null):void 0},toString:function(){return"Time entry "+this.id+' "'+this.get("description")+
'"'},"continue":function(){var b,a;if(toggl.app.currentUser){a=new Date;if(this.isToday()){if(toggl.app.currentUser.get("store_start_and_stop_time"))return b=this.toJSON(),b.id=null,b.guid=null,b.stop=null,b.start=moment(a).format(),b.server_id=null,b.duration=-(a.getTime()/1E3),b.created_with=toggl.app.createdWith,toggl.model.TimeEntries.stopTracking({silent:!0}),toggl.model.TimeEntries.create(b);toggl.model.TimeEntries.stopTracking({silent:!0});b=-(a.getTime()/1E3-this.get("duration"));return this.set({duration:b,
dirty_at:a})}b=this.toJSON();b.id=null;b.guid=null;b.stop=null;b.start=moment(a).format();b.server_id=null;b.duration=-(a.getTime()/1E3);b.created_with=toggl.app.createdWith;toggl.model.TimeEntries.stopTracking({silent:!0});return toggl.model.TimeEntries.create(b)}}});toggl.model.TimeEntriesCollection=toggl.model.BaseCollection.extend({model:toggl.model.TimeEntry,modelName:"TimeEntriesCollection",comparator:function(b){return b.startTime()},tracking:function(){var b,a,c;c=this.select(function(a){return a.isTracking()});
a=1<c.length?(c=_.sortBy(c,function(a){return a.atTime()}),b=c.pop(),_.each(c,function(a){return a.stopTracking()}),b):1===c.length?c[0]:null;return null!=a&&a.isDeleted()?(a.stopTracking(),null):a},stopTracking:function(b){return this.each(function(a){if(a.isTracking())return a.stopTracking(b)})},lastUpdatedEntry:function(){var b;b=null;this.each(function(a){if(!a.isTracking()&&(null==b||a.startTime()>b.startTime()))return b=a});return b},formattedDurationTodayHHMM:function(){var b,a;b=moment(new Date).format("DDMMYYYY");
a=this.filter(function(a){return moment(a.startDate()).format("DDMMYYYY")===b});return TimeFormat.seconds_to_hhmm(a.reduce(function(a,b){return a+b.duration()},0))},oldTimeEntries:function(){var b,a,c;a=parseInt(null!=(c=toggl.app.currentUser)?c.get("retention"):void 0,10);1>a&&(a=9);b=Date.now();return this.select(function(c){return parseInt((b-c.startTime())/1E3/60/60/24,10)>a})}});toggl.model.TimeEntries=new toggl.model.TimeEntriesCollection}).call(this);
var Aes={Cipher:function(a,b){for(var c=b.length/4-1,e=[[],[],[],[]],d=0;16>d;d++)e[d%4][Math.floor(d/4)]=a[d];e=Aes.AddRoundKey(e,b,0,4);for(d=1;d<c;d++)e=Aes.SubBytes(e,4),e=Aes.ShiftRows(e,4),e=Aes.MixColumns(e,4),e=Aes.AddRoundKey(e,b,d,4);e=Aes.SubBytes(e,4);e=Aes.ShiftRows(e,4);e=Aes.AddRoundKey(e,b,c,4);c=Array(16);for(d=0;16>d;d++)c[d]=e[d%4][Math.floor(d/4)];return c},KeyExpansion:function(a){for(var b=a.length/4,c=b+6,e=Array(4*(c+1)),d=Array(4),f=0;f<b;f++)e[f]=[a[4*f],a[4*f+1],a[4*f+2],
a[4*f+3]];for(f=b;f<4*(c+1);f++){e[f]=Array(4);for(a=0;4>a;a++)d[a]=e[f-1][a];if(0==f%b){d=Aes.SubWord(Aes.RotWord(d));for(a=0;4>a;a++)d[a]^=Aes.Rcon[f/b][a]}else 6<b&&4==f%b&&(d=Aes.SubWord(d));for(a=0;4>a;a++)e[f][a]=e[f-b][a]^d[a]}return e},SubBytes:function(a,b){for(var c=0;4>c;c++)for(var e=0;e<b;e++)a[c][e]=Aes.Sbox[a[c][e]];return a},ShiftRows:function(a,b){for(var c=Array(4),e=1;4>e;e++){for(var d=0;4>d;d++)c[d]=a[e][(d+e)%b];for(d=0;4>d;d++)a[e][d]=c[d]}return a},MixColumns:function(a){for(var b=
0;4>b;b++){for(var c=Array(4),e=Array(4),d=0;4>d;d++)c[d]=a[d][b],e[d]=a[d][b]&128?a[d][b]<<1^283:a[d][b]<<1;a[0][b]=e[0]^c[1]^e[1]^c[2]^c[3];a[1][b]=c[0]^e[1]^c[2]^e[2]^c[3];a[2][b]=c[0]^c[1]^e[2]^c[3]^e[3];a[3][b]=c[0]^e[0]^c[1]^c[2]^e[3]}return a},AddRoundKey:function(a,b,c,e){for(var d=0;4>d;d++)for(var f=0;f<e;f++)a[d][f]^=b[4*c+f][d];return a},SubWord:function(a){for(var b=0;4>b;b++)a[b]=Aes.Sbox[a[b]];return a},RotWord:function(a){for(var b=a[0],c=0;3>c;c++)a[c]=a[c+1];a[3]=b;return a},Sbox:[99,
124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,
25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Rcon:[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,
0,0,0],[27,0,0,0],[54,0,0,0]]},AesCtr={encrypt:function(a,b,c){if(!(128==c||192==c||256==c))return"";for(var a=Utf8.encode(a),b=Utf8.encode(b),e=c/8,d=Array(e),c=0;c<e;c++)d[c]=isNaN(b.charCodeAt(c))?0:b.charCodeAt(c);for(var d=Aes.Cipher(d,Aes.KeyExpansion(d)),d=d.concat(d.slice(0,e-16)),b=Array(16),c=(new Date).getTime(),e=Math.floor(c/1E3),f=c%1E3,c=0;4>c;c++)b[c]=e>>>8*c&255;for(c=0;4>c;c++)b[c+4]=f&255;e="";for(c=0;8>c;c++)e+=String.fromCharCode(b[c]);for(var d=Aes.KeyExpansion(d),f=Math.ceil(a.length/
16),j=Array(f),l=0;l<f;l++){for(c=0;4>c;c++)b[15-c]=l>>>8*c&255;for(c=0;4>c;c++)b[15-c-4]=l/4294967296>>>8*c;for(var m=Aes.Cipher(b,d),q=l<f-1?16:(a.length-1)%16+1,r=Array(q),c=0;c<q;c++)r[c]=m[c]^a.charCodeAt(16*l+c),r[c]=String.fromCharCode(r[c]);j[l]=r.join("")}a=e+j.join("");return a=Base64.encode(a)},decrypt:function(a,b,c){if(!(128==c||192==c||256==c))return"";for(var a=Base64.decode(a),b=Utf8.encode(b),e=c/8,d=Array(e),c=0;c<e;c++)d[c]=isNaN(b.charCodeAt(c))?0:b.charCodeAt(c);d=Aes.Cipher(d,
Aes.KeyExpansion(d));d=d.concat(d.slice(0,e-16));b=Array(8);ctrTxt=a.slice(0,8);for(c=0;8>c;c++)b[c]=ctrTxt.charCodeAt(c);for(var e=Aes.KeyExpansion(d),d=Math.ceil((a.length-8)/16),c=Array(d),f=0;f<d;f++)c[f]=a.slice(8+16*f,16*f+24);for(var a=c,j=Array(a.length),f=0;f<d;f++){for(c=0;4>c;c++)b[15-c]=f>>>8*c&255;for(c=0;4>c;c++)b[15-c-4]=(f+1)/4294967296-1>>>8*c&255;for(var l=Aes.Cipher(b,e),m=Array(a[f].length),c=0;c<a[f].length;c++)m[c]=l[c]^a[f].charCodeAt(c),m[c]=String.fromCharCode(m[c]);j[f]=
m.join("")}a=j.join("");return a=Utf8.decode(a)}},Base64={code:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a,b){var c,e,d,f,j=[],l="",m,q,r=Base64.code;q=("undefined"==typeof b?0:b)?a.encodeUTF8():a;m=q.length%3;if(0<m)for(;3>m++;)l+="=",q+="\x00";for(m=0;m<q.length;m+=3)c=q.charCodeAt(m),e=q.charCodeAt(m+1),d=q.charCodeAt(m+2),f=c<<16|e<<8|d,c=f>>18&63,e=f>>12&63,d=f>>6&63,f&=63,j[m/3]=r.charAt(c)+r.charAt(e)+r.charAt(d)+r.charAt(f);j=j.join("");return j=j.slice(0,
j.length-l.length)+l},decode:function(a,b){var b="undefined"==typeof b?!1:b,c,e,d,f,j,l=[],m,q=Base64.code;m=b?a.decodeUTF8():a;for(var r=0;r<m.length;r+=4)c=q.indexOf(m.charAt(r)),e=q.indexOf(m.charAt(r+1)),f=q.indexOf(m.charAt(r+2)),j=q.indexOf(m.charAt(r+3)),d=c<<18|e<<12|f<<6|j,c=d>>>16&255,e=d>>>8&255,d&=255,l[r/4]=String.fromCharCode(c,e,d),64==j&&(l[r/4]=String.fromCharCode(c,e)),64==f&&(l[r/4]=String.fromCharCode(c));f=l.join("");return b?f.decodeUTF8():f}},Utf8={encode:function(a){a=a.replace(/[\u0080-\u07ff]/g,
function(a){a=a.charCodeAt(0);return String.fromCharCode(192|a>>6,128|a&63)});return a=a.replace(/[\u0800-\uffff]/g,function(a){a=a.charCodeAt(0);return String.fromCharCode(224|a>>12,128|a>>6&63,128|a&63)})},decode:function(a){a=a.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(a){a=(a.charCodeAt(0)&31)<<6|a.charCodeAt(1)&63;return String.fromCharCode(a)});return a=a.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(a){a=(a.charCodeAt(0)&15)<<12|(a.charCodeAt(1)&63)<<6|a.charCodeAt(2)&
63;return String.fromCharCode(a)})}};
function createCookie(a,b,c,e){if(c){var d=new Date;d.setTime(d.getTime()+864E5*c);c="; expires="+d.toGMTString()}else c="";document.cookie=e?a+"="+b+c+"; path=/; domain="+e:a+"="+b+c+"; path=/"}function readCookie(a){for(var a=a+"=",b=document.cookie.split(";"),c=0;c<b.length;c++){for(var e=b[c];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(a))return e.substring(a.length,e.length)}return null}function eraseCookie(a){createCookie(a,"",-1)};
(function(a){function b(a,b){for(var c=a.length;c--;)if(a[c]===b)return c;return-1}function c(a,b,c){var d,e,j,l;void 0===c&&(c=b,b="all");a=a.replace(/\s/g,"");d=a.split(",");""==d[d.length-1]&&(d[d.length-2]+=",");for(j=0;j<d.length;j++){e=[];a=d[j].split("+");if(1<a.length){e=a.slice(0,a.length-1);for(l=0;l<e.length;l++)e[l]=m[e[l]];a=[a[a.length-1]]}a=a[0];a=q[a]||a.toUpperCase().charCodeAt(0);a in f||(f[a]=[]);f[a].push({shortcut:d[j],scope:b,method:c,key:d[j],mods:e})}}function e(a,b,c){a.addEventListener?
a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,function(){c(window.event)})}var d,f={},j={16:!1,18:!1,17:!1,91:!1},l="all",m={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},q={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,"delete":46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220};
for(d=1;20>d;d++)m["f"+d]=111+d;for(d in m)c[d]=!1;e(document,"keydown",function(a){var d,e,q,E,D;e=(a.target||a.srcElement).tagName;d=a.keyCode;if(93==d||224==d)d=91;if(d in j)for(q in j[d]=!0,m)m[q]==d&&(c[q]=!0);else if(!("INPUT"==e||"SELECT"==e||"TEXTAREA"==e)&&d in f)for(E=0;E<f[d].length;E++)if(e=f[d][E],e.scope==l||"all"==e.scope){D=0<e.mods.length;for(q in j)if(!j[q]&&-1<b(e.mods,+q)||j[q]&&-1==b(e.mods,+q))D=!1;if((0==e.mods.length&&!j[16]&&!j[18]&&!j[17]&&!j[91]||D)&&!1===e.method(a,e))a.preventDefault?
a.preventDefault():a.returnValue=!1,a.stopPropagation&&a.stopPropagation(),a.cancelBubble&&(a.cancelBubble=!0)}});e(document,"keyup",function(a){var a=a.keyCode,b;if(93==a||224==a)a=91;if(a in j)for(b in j[a]=!1,m)m[b]==a&&(c[b]=!1)});e(window,"focus",function(){for(d in j)j[d]=!1;for(d in m)c[d]=!1});a.key=c;a.key.setScope=function(a){l=a||"all"};a.key.getScope=function(){return l||"all"};"undefined"!==typeof module&&(module.exports=key)})(this);
!function(a){function b(b){var c=b.attr("data-target");c||(c=(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]*$)/,""));c=a(c);c.length||(c=b.parent());return c}var c=function(b){var c=this,f=a(b).fastClick(function(){return c.toggle(b)});a("#time_entries").fastClick(function(){f.parent().removeClass("open");a("#edit_cover_dropdown").hide()})};c.prototype={constructor:c,toggle:function(c){var c=a(c),d;if(!c.is(".disabled, :disabled"))return d=b(c),d.toggleClass("open"),a("#edit_cover_dropdown").show(),c.focus(),
!1},keydown:function(c){var d,f,j;if(/(38|40|27)/.test(c.keyCode)&&(d=a(this),c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled"))){f=b(d);j=f.hasClass("open");if(!j||j&&27==c.keyCode)return d.click();d=a("[role=menu] li:not(.divider) a",f);d.length&&(f=d.index(d.filter(":focus")),38==c.keyCode&&0<f&&f--,40==c.keyCode&&f<d.length-1&&f++,~f||(f=0),d.eq(f).focus())}}};a.fn.dropdown=function(b){return this.each(function(){var d=a(this),f=d.data("dropdown");f||d.data("dropdown",f=new c(this));
"string"==typeof b&&f[b].call(d)})};a.fn.dropdown.Constructor=c;a(function(){})}(window.jQuery);
(function(c){var j={inputClass:"acInput",loadingClass:"acLoading",resultsClass:"acResults",selectClass:"acSelect",queryParamName:"q",limitParamName:"limit",extraParams:{},remoteDataType:!1,lineSeparator:"\n",cellSeparator:"|",minChars:1,maxItemsToShow:10,delay:100,useCache:!0,maxCacheLength:10,matchSubset:!0,matchCase:!1,matchInside:!0,mustMatch:!1,selectFirst:!1,selectOnly:!1,showResult:null,preventDefaultReturn:!0,preventDefaultTab:!1,autoFill:!1,filterResults:!0,sortResults:!0,sortFunction:null,
onItemSelect:null,onNoMatch:null,onFinish:null,matchStringConverter:null,beforeUseConverter:null,autoWidth:"min-width"};c.Autocompleter=function(a,d){if(!a||!(a instanceof jQuery)||1!==a.length||"INPUT"!==a.get(0).tagName.toUpperCase())throw Error("Invalid parameter for jquery.Autocompleter, jQuery object with one element with INPUT tag expected.");this.options=d;var b=this;this.cacheData_={};this.cacheLength_=0;this.selectClass_="jquery-autocomplete-selected-item";this.lastSelectedValue_=this.lastProcessedValue_=
this.lastKeyPressed_=this.keyTimeout_=null;this.active_=!1;this.finishOnBlur_=!0;this.options.minChars=parseInt(this.options.minChars,10);if(isNaN(this.options.minChars)||1>this.options.minChars)this.options.minChars=j.minChars;this.options.maxItemsToShow=parseInt(this.options.maxItemsToShow,10);if(isNaN(this.options.maxItemsToShow)||1>this.options.maxItemsToShow)this.options.maxItemsToShow=j.maxItemsToShow;this.options.maxCacheLength=parseInt(this.options.maxCacheLength,10);if(isNaN(this.options.maxCacheLength)||
1>this.options.maxCacheLength)this.options.maxCacheLength=j.maxCacheLength;this.dom={};this.dom.$elem=a;this.dom.$elem.attr("autocomplete","off").addClass(this.options.inputClass);this.dom.$results=c("<div></div>").hide().addClass(this.options.resultsClass).css({position:"absolute"});c("body").append(this.dom.$results);a.keydown(function(a){b.lastKeyPressed_=a.keyCode;switch(b.lastKeyPressed_){case 38:return a.preventDefault(),b.active_?b.focusPrev():b.activate(),!1;case 40:return a.preventDefault(),
b.active_?b.focusNext():b.activate(),!1;case 9:if(b.active_&&(b.selectCurrent(),b.options.preventDefaultTab))return a.preventDefault(),!1;break;case 13:if(b.active_&&(b.selectCurrent(),b.options.preventDefaultReturn))return a.preventDefault(),!1;break;case 27:if(b.active_)return a.preventDefault(),b.finish(),!1;break;default:b.activate()}});a.blur(function(){b.finishOnBlur_&&setTimeout(function(){b.finish()},200)})};c.Autocompleter.prototype.position=function(){var a=this.dom.$elem.offset();this.dom.$results.css({top:a.top+
this.dom.$elem.outerHeight(),left:a.left})};c.Autocompleter.prototype.cacheRead=function(a){var d,b,c,f,h;if(this.options.useCache){a=String(a);d=a.length;for(b=this.options.matchSubset?1:d;b<=d;){f=this.options.matchInside?d-b:0;for(h=0;h<=f;){c=a.substr(0,b);if(void 0!==this.cacheData_[c])return this.cacheData_[c];h++}b++}}return!1};c.Autocompleter.prototype.cacheWrite=function(a,d){return this.options.useCache?(this.cacheLength_>=this.options.maxCacheLength&&this.cacheFlush(),a=String(a),void 0!==
this.cacheData_[a]&&this.cacheLength_++,this.cacheData_[a]=d,this.cacheData_[a]):!1};c.Autocompleter.prototype.cacheFlush=function(){this.cacheData_={};this.cacheLength_=0};c.Autocompleter.prototype.callHook=function(a,d){var b=this.options[a];return b&&c.isFunction(b)?b(d,this):!1};c.Autocompleter.prototype.activate=function(){var a=this,d=parseInt(this.options.delay,10);if(isNaN(d)||0>=d)d=250;this.keyTimeout_&&clearTimeout(this.keyTimeout_);this.keyTimeout_=setTimeout(function(){a.activateNow()},
d)};c.Autocompleter.prototype.activateNow=function(){var a=this.beforeUseConverter(this.dom.$elem.val());a!==this.lastProcessedValue_&&a!==this.lastSelectedValue_&&a.length>=this.options.minChars&&(this.lastProcessedValue_=a,this.fetchData(a))};c.Autocompleter.prototype.fetchData=function(a){if(this.options.data)this.filterAndShowResults(this.options.data,a);else{var d=this;this.fetchRemoteData(a,function(b){d.filterAndShowResults(b,a)})}};c.Autocompleter.prototype.fetchRemoteData=function(a,d){var b=
this.cacheRead(a);if(b)d(b);else{var e=this;this.dom.$elem.addClass(this.options.loadingClass);var f=function(b){var c=!1;!1!==b&&(c=e.parseRemoteData(b),e.cacheWrite(a,c));e.dom.$elem.removeClass(e.options.loadingClass);d(c)};c.ajax({url:this.makeUrl(a),success:f,error:function(){f(!1)},dataType:"text"})}};c.Autocompleter.prototype.setExtraParam=function(a,d){var b=c.trim(String(a));b&&(this.options.extraParams||(this.options.extraParams={}),this.options.extraParams[b]!==d&&(this.options.extraParams[b]=
d,this.cacheFlush()))};c.Autocompleter.prototype.makeUrl=function(a){var d=this,b=this.options.url,e=c.extend({},this.options.extraParams);!1===this.options.queryParamName?b+=encodeURIComponent(a):e[this.options.queryParamName]=a;this.options.limitParamName&&this.options.maxItemsToShow&&(e[this.options.limitParamName]=this.options.maxItemsToShow);var f=[];c.each(e,function(a,b){f.push(d.makeUrlParam(a,b))});f.length&&(b+=-1===b.indexOf("?")?"?":"&",b+=f.join("&"));return b};c.Autocompleter.prototype.makeUrlParam=
function(a,d){return[a,encodeURIComponent(d)].join("=")};c.Autocompleter.prototype.parseRemoteData=function(a){return"json"===this.options.remoteDataType?this.parseRemoteJSON(a):this.parseRemoteText(a)};c.Autocompleter.prototype.parseRemoteText=function(a){for(var d=[],b,c,f,h=String(a).replace("\r\n",this.options.lineSeparator).split(this.options.lineSeparator),a=0;a<h.length;a++){f=h[a].split(this.options.cellSeparator);c=[];for(b=0;b<f.length;b++)c.push(decodeURIComponent(f[b]));b=c.shift();d.push({value:b,
data:c})}return d};c.Autocompleter.prototype.parseRemoteJSON=function(a){return c.parseJSON(a)};c.Autocompleter.prototype.filterAndShowResults=function(a,c){this.showResults(this.filterResults(a,c),c)};c.Autocompleter.prototype.filterResults=function(a,d){var b=[],e,f,h,g,i;for(h=0;h<a.length;h++)g=a[h],i=typeof g,"string"===i?(e=g,f={}):c.isArray(g)?(e=g[0],f=g.slice(1)):"object"===i&&(e=g.value,f=g.data),e=String(e),""<e&&("object"!==typeof f&&(f={}),this.options.filterResults?(g=this.matchStringConverter(d),
i=this.matchStringConverter(e),this.options.matchCase||(g=g.toLowerCase(),i=i.toLowerCase()),g=i.indexOf(g),g=this.options.matchInside?-1<g:0===g):g=!0,g&&b.push({value:e,data:f}));this.options.sortResults&&(b=this.sortResults(b,d));0<this.options.maxItemsToShow&&this.options.maxItemsToShow<b.length&&(b.length=this.options.maxItemsToShow);return b};c.Autocompleter.prototype.sortResults=function(a,d){var b=this,e=this.options.sortFunction;c.isFunction(e)||(e=function(a,c,d){return b.sortValueAlpha(a,
c,d)});a.sort(function(a,b){return e(a,b,d)});return a};c.Autocompleter.prototype.sortValueAlpha=function(a,c){a=String(a.value);c=String(c.value);this.options.matchCase||(a=a.toLowerCase(),c=c.toLowerCase());return a>c?1:a<c?-1:0};c.Autocompleter.prototype.matchStringConverter=function(a,d,b){var e=this.options.matchStringConverter;c.isFunction(e)&&(a=e(a,d,b));return a};c.Autocompleter.prototype.beforeUseConverter=function(a,d,b){var e=this.options.beforeUseConverter;c.isFunction(e)&&(a=e(a,d,b));
return a};c.Autocompleter.prototype.enableFinishOnBlur=function(){this.finishOnBlur_=!0};c.Autocompleter.prototype.disableFinishOnBlur=function(){this.finishOnBlur_=!1};c.Autocompleter.prototype.createItemFromResult=function(a){var d=this,b=c("<li>"+this.showResult(a.value,a.data)+"</li>");b.data({value:a.value,data:a.data}).fastClick(function(){d.selectItem(b)}).mousedown(d.disableFinishOnBlur).mouseup(d.enableFinishOnBlur);return b};c.Autocompleter.prototype.showResults=function(a,d){var b=a.length;
if(0===b)return this.finish();var e=this,f=c("<ul></ul>"),h,g,i,j=!1,k=!1;for(h=0;h<b;h++)g=a[h],i=this.createItemFromResult(g),f.append(i),!1===j&&(j=String(g.value),k=i,i.addClass(this.options.firstItemClass)),h===b-1&&i.addClass(this.options.lastItemClass);this.position();this.dom.$results.html(f).show();this.options.autoWidth&&(f=this.dom.$elem.outerWidth()-this.dom.$results.outerWidth()+this.dom.$results.width(),this.dom.$results.css(this.options.autoWidth,f));c("li",this.dom.$results).hover(function(){e.focusItem(this)},
function(){});(this.autoFill(j,d)||this.options.selectFirst||this.options.selectOnly&&1===b)&&this.focusItem(k);this.active_=!0};c.Autocompleter.prototype.showResult=function(a,d){return c.isFunction(this.options.showResult)?this.options.showResult(a,d):a};c.Autocompleter.prototype.autoFill=function(a,c){var b,e,f,h;return this.options.autoFill&&8!==this.lastKeyPressed_&&(b=String(a).toLowerCase(),e=String(c).toLowerCase(),f=a.length,h=c.length,b.substr(0,h)===e)?(this.dom.$elem.val(a),this.selectRange(h,
f),!0):!1};c.Autocompleter.prototype.focusNext=function(){this.focusMove(1)};c.Autocompleter.prototype.focusPrev=function(){this.focusMove(-1)};c.Autocompleter.prototype.focusMove=function(a){for(var d=c("li",this.dom.$results),a=parseInt(a,10),b=0;b<d.length;b++)if(c(d[b]).hasClass(this.selectClass_)){this.focusItem(b+a);return}this.focusItem(0)};c.Autocompleter.prototype.focusItem=function(a){var d=c("li",this.dom.$results);d.length&&(d.removeClass(this.selectClass_).removeClass(this.options.selectClass),
"number"===typeof a?(a=parseInt(a,10),0>a?a=0:a>=d.length&&(a=d.length-1),a=c(d[a])):a=c(a),a&&a.addClass(this.selectClass_).addClass(this.options.selectClass))};c.Autocompleter.prototype.selectCurrent=function(){var a=c("li."+this.selectClass_,this.dom.$results);1===a.length?this.selectItem(a):this.finish()};c.Autocompleter.prototype.selectItem=function(a){var c=a.data("value"),a=a.data("data"),b=this.displayValue(c,a),e=this.beforeUseConverter(b);this.lastSelectedValue_=this.lastProcessedValue_=
e;this.dom.$elem.val(b).focus();this.setCaret(b.length);this.callHook("onItemSelect",{value:c,data:a});this.finish()};c.Autocompleter.prototype.displayValue=function(a,d){return c.isFunction(this.options.displayValue)?this.options.displayValue(a,d):a};c.Autocompleter.prototype.finish=function(){this.keyTimeout_&&clearTimeout(this.keyTimeout_);this.beforeUseConverter(this.dom.$elem.val())!==this.lastSelectedValue_&&(this.options.mustMatch&&this.dom.$elem.val(""),this.callHook("onNoMatch"));this.dom.$results.hide();
this.lastProcessedValue_=this.lastKeyPressed_=null;this.active_&&this.callHook("onFinish");this.active_=!1};c.Autocompleter.prototype.selectRange=function(a,c){var b=this.dom.$elem.get(0);b.setSelectionRange?(b.focus(),b.setSelectionRange(a,c)):this.createTextRange&&(b=this.createTextRange(),b.collapse(!0),b.moveEnd("character",c),b.moveStart("character",a),b.select())};c.Autocompleter.prototype.setCaret=function(a){this.selectRange(a,a)};c.fn.autocomplete=function(a){var d;1<arguments.length?(d=
a,a=arguments[1],a.url=d):"string"===typeof a&&(a={url:a});var b=c.extend({},c.fn.autocomplete.defaults,a);return this.each(function(){var a=c(this);a.data("autocompleter",new c.Autocompleter(a,c.meta?c.extend({},b,a.data()):b))})};c.fn.autocomplete.defaults=j})(jQuery);
jQuery.easing.jswing=jQuery.easing.swing;
jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,e,d){return jQuery.easing[jQuery.easing.def](a,b,c,e,d)},easeInQuad:function(a,b,c,e,d){return e*(b/=d)*b+c},easeOutQuad:function(a,b,c,e,d){return-e*(b/=d)*(b-2)+c},easeInOutQuad:function(a,b,c,e,d){return 1>(b/=d/2)?e/2*b*b+c:-e/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,e,d){return e*(b/=d)*b*b+c},easeOutCubic:function(a,b,c,e,d){return e*((b=b/d-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,e,d){return 1>(b/=d/2)?e/2*b*b*b+c:
e/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,e,d){return e*(b/=d)*b*b*b+c},easeOutQuart:function(a,b,c,e,d){return-e*((b=b/d-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,e,d){return 1>(b/=d/2)?e/2*b*b*b*b+c:-e/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,e,d){return e*(b/=d)*b*b*b*b+c},easeOutQuint:function(a,b,c,e,d){return e*((b=b/d-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,e,d){return 1>(b/=d/2)?e/2*b*b*b*b*b+c:e/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,e,d){return-e*Math.cos(b/
d*(Math.PI/2))+e+c},easeOutSine:function(a,b,c,e,d){return e*Math.sin(b/d*(Math.PI/2))+c},easeInOutSine:function(a,b,c,e,d){return-e/2*(Math.cos(Math.PI*b/d)-1)+c},easeInExpo:function(a,b,c,e,d){return 0==b?c:e*Math.pow(2,10*(b/d-1))+c},easeOutExpo:function(a,b,c,e,d){return b==d?c+e:e*(-Math.pow(2,-10*b/d)+1)+c},easeInOutExpo:function(a,b,c,e,d){return 0==b?c:b==d?c+e:1>(b/=d/2)?e/2*Math.pow(2,10*(b-1))+c:e/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,e,d){return-e*(Math.sqrt(1-(b/=d)*
b)-1)+c},easeOutCirc:function(a,b,c,e,d){return e*Math.sqrt(1-(b=b/d-1)*b)+c},easeInOutCirc:function(a,b,c,e,d){return 1>(b/=d/2)?-e/2*(Math.sqrt(1-b*b)-1)+c:e/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,e,d){var a=1.70158,f=0,j=e;if(0==b)return c;if(1==(b/=d))return c+e;f||(f=0.3*d);j<Math.abs(e)?(j=e,a=f/4):a=f/(2*Math.PI)*Math.asin(e/j);return-(j*Math.pow(2,10*(b-=1))*Math.sin((b*d-a)*2*Math.PI/f))+c},easeOutElastic:function(a,b,c,e,d){var a=1.70158,f=0,j=e;if(0==b)return c;if(1==
(b/=d))return c+e;f||(f=0.3*d);j<Math.abs(e)?(j=e,a=f/4):a=f/(2*Math.PI)*Math.asin(e/j);return j*Math.pow(2,-10*b)*Math.sin((b*d-a)*2*Math.PI/f)+e+c},easeInOutElastic:function(a,b,c,e,d){var a=1.70158,f=0,j=e;if(0==b)return c;if(2==(b/=d/2))return c+e;f||(f=d*0.3*1.5);j<Math.abs(e)?(j=e,a=f/4):a=f/(2*Math.PI)*Math.asin(e/j);return 1>b?-0.5*j*Math.pow(2,10*(b-=1))*Math.sin((b*d-a)*2*Math.PI/f)+c:0.5*j*Math.pow(2,-10*(b-=1))*Math.sin((b*d-a)*2*Math.PI/f)+e+c},easeInBack:function(a,b,c,e,d,f){void 0==
f&&(f=1.70158);return e*(b/=d)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,e,d,f){void 0==f&&(f=1.70158);return e*((b=b/d-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,e,d,f){void 0==f&&(f=1.70158);return 1>(b/=d/2)?e/2*b*b*(((f*=1.525)+1)*b-f)+c:e/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,e,d){return e-jQuery.easing.easeOutBounce(a,d-b,0,e,d)+c},easeOutBounce:function(a,b,c,e,d){return(b/=d)<1/2.75?e*7.5625*b*b+c:b<2/2.75?e*(7.5625*(b-=1.5/2.75)*b+0.75)+c:b<2.5/2.75?
e*(7.5625*(b-=2.25/2.75)*b+0.9375)+c:e*(7.5625*(b-=2.625/2.75)*b+0.984375)+c},easeInOutBounce:function(a,b,c,e,d){return b<d/2?0.5*jQuery.easing.easeInBounce(a,2*b,0,e,d)+c:0.5*jQuery.easing.easeOutBounce(a,2*b-d,0,e,d)+0.5*e+c}});
(function(a){a.iButton={version:"1.0.03",setDefaults:function(c){a.extend(e,c)}};a.fn.iButton=function(b){var e="string"==typeof arguments[0]&&arguments[0],d=e&&Array.prototype.slice.call(arguments,1)||arguments,f=0==this.length?null:a.data(this[0],"iButton");if(f&&e&&this.length){if("object"==e.toLowerCase())return f;if(f[e]){var k;this.each(function(c){var b=a.data(this,"iButton")[e].apply(f,d);if(0==c&&b)if(b.jquery)k=a([]).add(b);else return k=b,!1;else b&&b.jquery&&(k=k.add(b))});return k||this}return this}return this.each(function(){new c(this,
b)})};var b=0;a.browser.iphone=-1<navigator.userAgent.toLowerCase().indexOf("iphone");var c=function(c,g){var j=this,h=a(c),k=++b,r=!1,p,y,q,z=!1,s=null,B=null,t=null,C=null,g=a.extend({},e,g,a.metadata?h.metadata():{});q=g.labelOn==d&&g.labelOff==f;if(h.is(":checkbox, :radio")){if(a.data(h[0],"iButton"))return}else return h.find(":checkbox, :radio").iButton(g);a.data(h[0],"iButton",j);"auto"==g.resizeHandle&&(g.resizeHandle=!q);"auto"==g.resizeContainer&&(g.resizeContainer=!q);this.toggle=function(a){h.attr("checked",
0<arguments.length?a:!h[0].checked).trigger("change")};this.disable=function(c){var b=0<arguments.length?c:!r;r=b;h.attr("disabled",b);l[b?"addClass":"removeClass"](g.classDisabled);a.isFunction(g.disable)&&g.disable.apply(j,[r,h,g])};this.repaint=function(){u()};this.destroy=function(){a([h[0],l[0]]).unbind(".iButton");a(document).unbind(".iButton_"+k);l.after(h).remove();a.data(h[0],"iButton",null);a.isFunction(g.destroy)&&g.destroy.apply(j,[h,g])};h.wrap('<div class="'+a.trim(g.classContainer+
" "+g.className)+'" />').after('<div class="'+g.classHandle+'"><div class="'+g.classHandleRight+'"><div class="'+g.classHandleMiddle+'" /></div></div><div class="'+g.classLabelOff+'"><span><label>'+g.labelOff+'</label></span></div><div class="'+g.classLabelOn+'"><span><label>'+g.labelOn+'</label></span></div><div class="'+g.classPaddingLeft+'"></div><div class="'+g.classPaddingRight+'"></div>');var l=h.parent(),m=h.siblings("."+g.classHandle),D=h.siblings("."+g.classLabelOff),v=D.children("span"),
w=h.siblings("."+g.classLabelOn),x=w.children("span");if(g.resizeHandle||g.resizeContainer)p=x.outerWidth(),y=v.outerWidth();g.resizeHandle?(q=Math.min(p,y),m.css("width",q)):q=m.width();g.resizeContainer?(p=Math.max(p,y)+q+20,l.css("width",p),D.css("width",p-5)):p=l.width();var n=p-q-6,u=function(a){var c=h[0].checked?n:0;(a=0<arguments.length?arguments[0]:!0)&&g.enableFx?(m.stop().animate({left:c},g.duration,g.easing),w.stop().animate({width:c+4},g.duration,g.easing),x.stop().animate({marginLeft:c-
n},g.duration,g.easing),v.stop().animate({marginRight:-c},g.duration,g.easing)):(m.css("left",c),w.css("width",c+4),x.css("marginLeft",c-n),v.css("marginRight",-c))};u(!1);var A=function(a){return a.pageX||(a.originalEvent.changedTouches?a.originalEvent.changedTouches[0].pageX:0)};l.bind("mousedown.iButton touchstart.iButton",function(c){if(!a(c.target).is(":checkbox, :radio")&&!(r||!g.allowRadioUncheck&&h.is(":radio:checked")))return c.preventDefault(),s=m,B=A(c),t=B-(parseInt(m.css("left"),10)||
0),C=(new Date).getTime(),!1});g.enableDrag&&a(document).bind("mousemove.iButton_"+k+" touchmove.iButton_"+k,function(a){if(s==m)return a.preventDefault(),a=A(a),a!=t&&(z=!0,l.addClass(g.classHandleActive)),a=Math.min(1,Math.max(0,(a-t)/n)),m.css("left",a*n),w.css("width",a*n+4),v.css("marginRight",-a*n),x.css("marginLeft",-(1-a)*n),!1});a(document).delegate(".ibutton-container","mouseup.iButton_"+k+" touchend.iButton_"+k,function(c){if(s!=m)return!1;c.preventDefault();var b=!0;!z||(new Date).getTime()-
C<g.clickOffset?(c=h[0].checked,h.attr("checked",!c),a.isFunction(g.click)&&g.click.apply(j,[!c,h,g])):(c=0.5<=(A(c)-t)/n,h[0].checked==c&&(b=!1),h.attr("checked",c));l.removeClass(g.classHandleActive);z=s=null;b?h.trigger("change"):u();return!1});h.bind("change.iButton",function(){u();if(h.is(":radio")){var c=h[0];a(c.form?c.form[c.name]:":radio[name="+c.name+"]").filter(":not(:checked)").iButton("repaint")}a.isFunction(g.change)&&g.change.apply(j,[h,g])}).bind("focus.iButton",function(){l.addClass(g.classFocus)}).bind("blur.iButton",
function(){l.removeClass(g.classFocus)});a.isFunction(g.click)&&h.bind("click.iButton",function(){g.click.apply(j,[h[0].checked,h,g])});h.is(":disabled")&&this.disable(!0);a.browser.msie&&(l.find("*").andSelf().attr("unselectable","on"),h.bind("click.iButton",function(){h.triggerHandler("change.iButton")}));a.isFunction(g.init)&&g.init.apply(j,[h,g])},e={duration:200,easing:"swing",labelOn:"ON",labelOff:"OFF",resizeHandle:"auto",resizeContainer:"auto",enableDrag:!0,enableFx:!0,allowRadioUncheck:!1,
clickOffset:120,className:"",classContainer:"ibutton-container",classDisabled:"ibutton-disabled",classFocus:"ibutton-focus",classLabelOn:"ibutton-label-on",classLabelOff:"ibutton-label-off",classHandle:"ibutton-handle",classHandleMiddle:"ibutton-handle-middle",classHandleRight:"ibutton-handle-right",classHandleActive:"ibutton-active-handle",classPaddingLeft:"ibutton-padding-left",classPaddingRight:"ibutton-padding-right",init:null,change:null,click:null,disable:null,destroy:null},d=e.labelOn,f=e.labelOff})(jQuery);
(function(){var d,c,a,e,b=function(a,b){return function(){return a.apply(b,arguments)}};$("#main").css({display:"block"});window.mobileAlert=function(a){return navigator&&navigator.notification&&navigator.notification.alert?navigator.notification.alert(a):alert(a)};window.mobileConfirm=function(a,b){var e;if(navigator&&navigator.notification&&navigator.notification.confirm)return e=function(a){if(1===a)return b()},navigator.notification.confirm(a,e,"Confirm","OK,Cancel");if(confirm(a))return b()};
window.currentPage=null;window.slideIn=function(a){null!=window.currentPage&&$(window.currentPage).hide();$(a).show();window.currentPage=a;return toggl.app.trigger("initPage",a)};window.tryAgain=!0;window.isDesktop=function(a){return/android.+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||
/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(a.substr(0,
4))?!1:!0};window.isMobile=window.cordova||!isDesktop(navigator.userAgent||navigator.vendor||window.opera);window.isTogglDesktop=/TogglDesktop/i.test(navigator.userAgent)||!isMobile;c=function(){var g;null!=window.applicationCache&&applicationCache.addEventListener("updateready",function(){if(window.applicationCache.status===window.applicationCache.UPDATEREADY){try{window.applicationCache.swapCache()}catch(a){toggl.log("Failed to swap app cache. Check if manifest is correct. Exception: "+a)}if(confirm("A new version of this site is available. Load it?"))return window.location.reload()}},
!1);window.$pageContainer=$("#main");if(!window.localStorage||!window.IsLocalStorageEnabled)slideIn("#localstorage_requirement");else{window.isRunningAsChromeExtension=!0;try{window.isRunningAsChromeExtension=null!=window.chrome&&null!=window.chrome.extension&&null!=window.chrome.extension.getBackgroundPage}catch(b){window.isRunningAsChromeExtension=!1}window.isRunningAsChromeExtension?(g=function(){var a;a=window.chrome.extension.getBackgroundPage();toggl.app=a.toggl.app;if(null==toggl.app)return setTimeout(g,
500);toggl.model=a.toggl.model;toggl.command=a.toggl.command;window.chrome&&(window.chrome.togglDesktop&&a.chrome&&a.chrome.togglDesktop)&&(window.chrome.togglDesktop.onStop=a.chrome.togglDesktop.onStop,window.chrome.togglDesktop.onNew=a.chrome.togglDesktop.onNew,window.chrome.togglDesktop.onContinuePrevious=a.chrome.togglDesktop.onContinuePrevious);return toggl.ui=new d},chrome.tabs.getSelected(null,function(a){var b;b=function(b){b=_.detect(b,function(b){return b.id!==a.id});return null!=b?(chrome.tabs.remove(a.id),
chrome.tabs.highlight({windowId:b.windowId,tabs:[b]},function(){})):g()};return chrome.tabs.query?chrome.tabs.query({url:a.url},b):chrome.windows.getAll({populate:!0},function(g){var e;e=[];_.each(g,function(b){return _.each(b.tabs,function(b){if(b.url===a.url)return e.push(b)})});return b(e)})})):(toggl.app=new TogglBackgroundApp("m.toggl.com"),toggl.app.initialize(),toggl.ui=new d)}$(".ibutton").iButton();$(".dropdown-toggle").dropdown();if(window.cordova)return document.addEventListener("backbutton",
a,!1),document.addEventListener("menubutton",e,!1)};e=function(){if(null!=window.currentPage&&"#time_entries"===window.currentPage)return $(".dropdown-toggle").fastClick()};a=function(){var a;if(null!=window.currentPage&&"#time_entries"===window.currentPage||"#login"===window.currentPage)return $("#email, #password").is(":focus")?$("#email, #password").blur():navigator.app.exitApp();a=$(window.currentPage);return a.find("input, textarea").is(":focus")?a.find("input, textarea").blur():a.find("header a.left").fastClick()};
window.cordova?document.addEventListener("deviceready",c,!1):$(document).ready(c);window.toggl||(window.toggl={});window.toggl.mobileui={};window.toggl.mobileui.spinner=$(".spinner");c=function(){this.stopSpinner=b(this.stopSpinner,this);this.startSpinner=b(this.startSpinner,this);this.pullEnd=b(this.pullEnd,this);this.overwriteTimeEntryForm=b(this.overwriteTimeEntryForm,this);this.renderOfflineText=b(this.renderOfflineText,this);this.offlineMessage=b(this.offlineMessage,this);this.enableOfflineMessage=
b(this.enableOfflineMessage,this);this.resume=b(this.resume,this);this.pause=b(this.pause,this);this.editTimeEntry=b(this.editTimeEntry,this);this.sanitizeHTML=b(this.sanitizeHTML,this);this.sanitizeScripts=b(this.sanitizeScripts,this);this.selectViewForUser=b(this.selectViewForUser,this);this.initPage=b(this.initPage,this);this.bindToBackgroundApp=b(this.bindToBackgroundApp,this);this.currentUserSet=b(this.currentUserSet,this);var a=this;window.cordova&&$("a.google-login").fastClick(function(){!window.childBrowserInstalled&&
ChildBrowser.install&&(ChildBrowser.install(),window.childBrowserInstalled=!0);window.plugins.childBrowser.onLocationChange=function(a,b){if(!a.match(/openid/)&&a.match(/phonegap_auth_success/)&&b)return toggl.app.commandQueue.add(new toggl.command.TokenLoginCommand(b)),window.plugins.childBrowser.close()};return window.plugins.childBrowser.showWebPage("https://mobile.toggl.com/user/google_login?redir_succ=/user/phonegap_auth_success&redir_fail=/user/phonegap_auth_fail")});window.cordova&&(document.addEventListener("pause",
this.pause,!1),document.addEventListener("resume",this.resume,!1));key("r",function(){return toggl.app.sync("refresh_shortcut")});$("ul.dropdown-menu a.refresh-button").fastClick(function(){$(".dropdown").removeClass("open");toggl.app.sync("refresh_button");return!1});$("ul.dropdown-menu a.logout-button").fastClick(function(){mobileConfirm("Are you sure?",function(){toggl.app.destroyCurrentUserInLocalStorage();if(!window.isRunningAsChromeExtension&&!window.cordova)return window.location.href="/logout";
$(".dropdown").removeClass("open");return $("#time-entries-list, #tag-list, #project-list").empty()});return!1});$("ul.dropdown-menu a.feedback-button").fastClick(function(){slideIn("#feedback");$(".dropdown").removeClass("open");return!1});window.chrome&&(window.chrome.tabs&&window.chrome.tabs.getSelected)&&chrome.tabs.getSelected(null,function(b){a.tabId=b.id;return chrome.tabs.onRemoved.addListener(function(b){if(a.tabId===b)return a.tabId=null,a.bindToBackgroundApp(!1)})});$(window).unload(function(){return a.bindToBackgroundApp(!1)});
this.bindToBackgroundApp(!0);this.currentUserSet()};c.prototype.timeEntryForm=null;c.prototype.showOfflineMessage=!0;c.prototype.tabId=null;c.prototype.currentUserSet=function(){this.selectViewForUser();if(toggl.app.currentUser)return this.timeEntriesView.currentUserSetName(),window.navigator&&window.navigator.onLine?(toggl.log("navigator onLine, doing a full sync"),setTimeout(function(){return toggl.app.sync("ui_online")},0)):toggl.log("navigator not online"),moment.calendar={lastDay:"[yesterday at] LT",
sameDay:"[today at] LT",nextDay:"[tomorrow at] LT",lastWeek:toggl.app.currentUser.get("date_format")+" [at] LT",nextWeek:"dddd [at] LT",sameElse:toggl.app.currentUser.get("date_format")+" [at] LT"}};c.prototype.bindToBackgroundApp=function(a){var b,e,c;if(a)return toggl.app.bind("initPage",this.initPage),toggl.app.bind("currentUserSet",this.currentUserSet),toggl.app.bind("error",this.errorDialog),toggl.app.bind("signinError",this.signinErrorDialog),toggl.app.bind("info",this.infoDialog),toggl.app.bind("offline",
this.offlineMessage),toggl.app.bind("online",this.enableOfflineMessage),toggl.app.bind("pullStarted",this.startSpinner),toggl.app.bind("pullFinished",this.pullEnd),toggl.app.bind("timeEntryOverwrittenByServerData",this.overwriteTimeEntryForm);toggl.app.unbind("initPage",this.initPage);toggl.app.unbind("currentUserSet",this.currentUserSet);toggl.app.unbind("error",this.errorDialog);toggl.app.unbind("signinError",this.signinErrorDialog);toggl.app.unbind("info",this.infoDialog);toggl.app.unbind("offline",
this.offlineMessage);toggl.app.unbind("online",this.enableOfflineMessage);toggl.app.unbind("pullStarted",this.startSpinner);toggl.app.unbind("pullFinished",this.pullEnd);toggl.app.unbind("timeEntryOverwrittenByServerData",this.overwriteTimeEntryForm);null!=(b=this.addProjectView)&&b.bindToBackgroundApp(!1);null!=(e=this.timeEntriesView)&&e.bindToBackgroundApp(!1);return null!=(c=this.timeEntryForm)?c.bindToBackgroundApp(!1):void 0};c.prototype.initPage=function(a){if("#time_entries"===a)return null==
this.timeEntriesView?this.timeEntriesView=new toggl.mobileui.TimeEntriesView:this.timeEntriesView.afterPageInit();if("#feedback"===a&&null==this.feedbackView)return this.feedbackView=new toggl.mobileui.FeedbackView;if("#add_project"===a)return null==this.addProjectView?this.addProjectView=new toggl.mobileui.AddProjectView:this.addProjectView.beforeShow();if("#login"===a&&null==this.loginView)return this.loginView=new toggl.mobileui.LoginView;if("#forgot_password"===a)return null==this.forgotPasswordView?
this.forgotPasswordView=new toggl.mobileui.ForgotPasswordView:this.forgotPasswordView.beforeShow();if("#signup"===a)return null==this.signupView?this.signupView=new toggl.mobileui.SignupView:this.signupView.beforeShow();if("#select_project"===a)return this.timeEntriesView.projectsView.needsRender()};c.prototype.selectViewForUser=function(){return null!=toggl.app.currentUser?slideIn("#time_entries"):slideIn("#login")};c.prototype.sanitizeScripts=function(a,b){var e;null==b&&(b=!0);return b?(e=a.val().replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
""),a.val(e),e):a.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")};c.prototype.sanitizeHTML=function(a){return a.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<\S[^><]*>/g,"")};c.prototype.editTimeEntry=function(a,b){null==b&&(b=0);slideIn("#edit");this.timeEntryForm||(this.timeEntryForm=new toggl.mobileui.TimeEntryForm({el:"#edit"}));this.timeEntryForm.setModel(a);if(a&&!a.isTracking()){if(2>b)return this.timeEntryForm.$el.find(".task input:eq("+b+")").focus()}else if(window.cordova)return $("body").focus()};
c.prototype.pause=function(){if(null!=this.timeEntriesView)return this.timeEntriesView.startOrStopTimerDisplay(!0)};c.prototype.resume=function(){if(null!=this.timeEntriesView)return this.timeEntriesView.startOrStopTimerDisplay()};c.prototype.enableOfflineMessage=function(){this.showOfflineMessage=!0;$("#top-notice").removeClass("activate");$("#main>div").removeClass("p40");return $("header").removeClass("moved")};c.prototype.offlineMessage=function(){if(this.showOfflineMessage)return $("#top-notice").addClass("activate"),
$("#top-notice span").html(this.renderOfflineText()),$("#main>div").addClass("p40"),$("header").addClass("moved"),this.showOfflineMessage=!1};c.prototype.renderOfflineText=function(){var a;a=toggl.model.TimeEntries.countDirty();return 0===a?"":1===a?a+" entry not synced.":a+" entries not synced"};c.prototype.errorDialog=function(a,b){null==b&&(b=5E3);return $("<div id='header-notice' class='error'><p>"+a+"</p></div>").appendTo($pageContainer).show(this).delay(b).fadeOut(800,function(){return $(this).remove()}).fastClick(function(){$(this).remove();
return!1})};c.prototype.signinErrorDialog=function(a,b){null==b&&(b=5E3);return $("<div class='alert'>"+a+"</div>").prependTo($pageContainer.find("#login .ui-content")).delay(b).fadeOut(800,function(){return $(this).remove()}).fastClick(function(){$(this).remove();return!1})};c.prototype.infoDialog=function(a,b){null==b&&(b=5E3);return this.errorDialog(a,b)};c.prototype.setButtonTitle=function(a,b){if(a.attr("href"))return a.find(".ui-btn-text").text(b);a.val(b);return a.parent().find(".ui-btn-text").text(b)};
c.prototype.overwriteTimeEntryForm=function(a){if(null!=window.currentPage&&"#edit"===window.currentPage){if(null!=a.te)return this.timeEntryForm.model=a.te,this.timeEntryForm.render();if(a.id===toggl.ui.timeEntryForm.model.get("id")||null!=a.render)return this.timeEntryForm.render()}};c.prototype.pullEnd=function(){null!=window.trayEvent&&((new Function(window.trayEvent))(),window.trayEvent=null);return this.stopSpinner()};c.prototype.startSpinner=function(){if(null==toggl.app.silent)return window.toggl.mobileui.spinner.css("visibility",
"visible")};c.prototype.stopSpinner=function(){window.toggl.mobileui.spinner.css("visibility","hidden");return toggl.app.silent=null};d=c}).call(this);
(function(){toggl.mobileui.LoginView=Backbone.View.extend({el:"#login",initialize:function(){var d=this;_.bindAll(this,"forgotPassword","signup");this.emailField=this.$("#email");this.passwordField=this.$("#password");$(".forgot-password-button").fastClick(function(){return d.forgotPassword()});$(".signup-button").fastClick(function(){return d.signup()});window.isRunningAsChromeExtension||window.isMobile?($("#login-form").prop("action",""),$(".login-button").fastClick(function(){var e,k;e=d.emailField.val();
if(null==e||0===e.length)d.emailField.focus();else if(k=d.passwordField.val(),null==k||0===k.length)d.passwordField.focus();else return toggl.app.commandQueue.add(new toggl.command.LoginCommand(e,k)),window.cordova&&(d.passwordField.blur(),d.emailField.blur()),!1})):$(".login-button").fastClick(function(){return $("#login-form").submit()});if(2<window.location.hash.length)return toggl.app.trigger("signinError","Failed to log in. Please check your e-mail and password."),window.location.hash=""},forgotPassword:function(){slideIn("#forgot_password");
return!1},signup:function(){slideIn("#signup");return!1}})}).call(this);
(function(){toggl.mobileui.ForgotPasswordView=Backbone.View.extend({el:"#forgot_password",initialize:function(){var a=this;_.bindAll(this,"back","submit","onSuccess");this.emailField=this.$("#lost_password_email");$(".lost-password-back-button").fastClick(function(b){return a.back(b)});return $(".submit-lost-password-button").fastClick(function(){return a.submit()})},submit:function(){var a;a=this.emailField.val();if(null==a||0===a.length)this.emailField.focus();else return toggl.app.commandQueue.add(new toggl.command.ForgotPasswordCommand(a,
this.onSuccess))},onSuccess:function(a){slideIn("#login");return toggl.ui.infoDialog(a.toString())},beforeShow:function(){return this.emailField.val("")},back:function(a){a.preventDefault();return slideIn("#login")}})}).call(this);
(function(){toggl.mobileui.SignupView=Backbone.View.extend({el:"#signup",initialize:function(){var a=this;_.bindAll(this,"submitSignup","back");this.emailField=this.$("#signup_email");this.passwordField=this.$("#signup_password");$(".submit-signup-button").fastClick(function(){return a.submitSignup()});return $(".signup-back-button").fastClick(function(b){return a.back(b)})},submitSignup:function(){var a,b;a=this.emailField.val();if(null==a||0===a.length)this.emailField.focus();else if(b=this.passwordField.val(),
null==b||0===b.length)this.passwordField.focus();else return toggl.app.commandQueue.add(new toggl.command.SignupCommand(a,b))},beforeShow:function(){this.emailField.val("");return this.passwordField.val("")},back:function(a){a.preventDefault();return slideIn("#login")}})}).call(this);
(function(){toggl.mobileui.FeedbackView=Backbone.View.extend({el:"#feedback",initialize:function(){var a=this;_.bindAll(this,"saveFeedback","feedbackFinished");this.feedbackContentsField=this.$("#feedback-contents");$(".feedback-back-button").fastClick(function(b){return a.feedbackFinished(b)});$("#submit-feedback-button").fastClick(function(){return a.saveFeedback()});return this.feedbackContentsField.focus()},saveFeedback:function(){var a;a=this.feedbackContentsField.val();if(null==a||0===a.length)this.feedbackContentsField.focus();
else return toggl.model.Feedbacks.create({details:a,toggl_version:window.toggl.TogglMobileVersion}),toggl.ui.infoDialog("Thanks!"),this.feedbackFinished()},feedbackFinished:function(a){null!=a&&a.preventDefault();this.feedbackContentsField.val("");return slideIn("#time_entries")}})}).call(this);
(function(){toggl.mobileui.AddProjectView=Backbone.View.extend({el:"#add_project",events:{"change #new-project-workspace":"workspaceChanged"},initialize:function(){var a=this;_.bindAll(this,"goBack","addClient","addProject","render","modelCreatedServerSide","renderClients","workspaceChanged","selectedWorkspaceId","bindToBackgroundApp");this.clients=this.$("#new-project-client");this.templates=this.$("#new-project-template");this.workspaces=this.$("#new-project-workspace");this.nameField=this.$("#new-project-name");
this.shareWithTeam=this.$("#share-with-team");this.addClientButton=this.$(".new-project-add-client-button");this.templateSelect=this.$(".template-select");this.addClientButton.fastClick(function(){return a.addClient()});this.$("a.add-project-button").fastClick(function(){return a.addProject()});this.$(".add-project-back-button").fastClick(function(b){return a.goBack(b)});this.bindToBackgroundApp(!0);return this.beforeShow()},optionTemplate:function(a){return'<option value="'+a.id+'">'+a.name+"</option>"},
bindToBackgroundApp:function(a){if(a)return toggl.app.bind("modelCreatedServerSide",this.modelCreatedServerSide),toggl.app.bind("currentUserSet",this.render);toggl.app.unbind("modelCreatedServerSide",this.modelCreatedServerSide);return toggl.app.unbind("currentUserSet",this.render)},beforeShow:function(){this.nameField.val("");return this.render()},modelCreatedServerSide:function(a){var b;if("Client"===a.modelName&&(b=this.clients.find('option[value="'+a.guid+'"]')))return b.val(a.id)},addProject:function(){var a,
b,c,d;this.nameField.val($.trim(toggl.ui.sanitizeHTML(this.nameField.val())));b=this.nameField.val();d=this.selectedWorkspaceId();a=parseInt(this.clients.find("option:selected").val(),10);c=parseInt(this.templates.find("option:selected").val(),10);if(b.length){if(toggl.app.namePresentInWorkspace(toggl.model.Projects,b,d,a))return toggl.ui.errorDialog("Project with same name already present!");b={name:this.nameField.val(),wid:d};isNaN(c)?b.is_private=!this.shareWithTeam.is(":checked"):b.template_id=
c;isNaN(a)||(b.client_id=a);a=toggl.model.Projects.create(b);return toggl.ui.timeEntriesView.projectsView.selected({projectId:a.id})}return this.nameField.focus()},goBack:function(a){a.preventDefault();return slideIn("#select_project")},selectedWorkspaceId:function(){return parseInt(this.workspaces.find("option:selected:first").val(),10)},addClient:function(){var a,b,c,d,e,f=this;b=$.trim(prompt("Enter a client name"));a=this.selectedWorkspaceId();e=this.clients.find("option");b.length&&((c=toggl.app.namePresentInWorkspace(toggl.model.Clients,
b,a))?(d=0,_.each(e,function(){parseInt($(e[d]).val(),10)===c.id&&f.clients.find("option:eq("+d+")").attr("selected","selected");return d+=1})):(a=toggl.model.Clients.create({name:b,wid:a}),b=toggl.model.Clients.indexOf(a),a=this.optionTemplate({name:toggl.ui.sanitizeHTML(a.get("name"),!1),id:a.get("server_id")}),this.clients.find("option:eq("+b+")").after(a),this.clients.find("option:eq("+(b+1)+")").attr("selected","selected")));return!1},workspaceChanged:function(){this.renderClients();this.clients[0].selectedIndex=
0;this.renderTemplates();return this.templates[0].selectedIndex=0},renderClients:function(){var a,b,c=this;b=this.selectedWorkspaceId();a=this.optionTemplate({name:"(select client)",id:""});_.each(toggl.model.Clients.models,function(d){if(d.get("wid")===b)return a+=c.optionTemplate({name:d.get("name"),id:d.id})});return this.clients.empty().append(a)},renderTemplates:function(){var a,b,c,d=this;c=this.selectedWorkspaceId();b=toggl.model.Workspaces.get(c);a=this.optionTemplate({name:"(select template)",
id:""});b&&b.get("premium")?(_.each(toggl.model.Projects.models,function(b){if(b.get("wid")===c&&!0===b.get("template"))return a+=d.optionTemplate({name:b.get("name"),id:b.id})}),this.templateSelect.toggleClass("hidden",0===this.templates.find("option").length)):this.templateSelect.addClass("hidden");return this.templates.empty().append(a)},renderWorkspaces:function(){var a,b=this;this.workspaces&&this.workspaces.empty();a="";0===toggl.mobileui.TimeEntriesView.editableWs.length&&(toggl.mobileui.TimeEntriesView.editableWs=
_.filter(toggl.model.Workspaces.models,function(a){return!a.get("premium")||!0===a.get("admin")||!1===a.get("only_admins_may_create_projects")}));_.each(toggl.mobileui.TimeEntriesView.editableWs,function(c){return a+=b.optionTemplate({name:c.get("name"),id:c.id})});return this.workspaces.append(a)},render:function(){this.renderWorkspaces();this.renderClients();return this.renderTemplates()}})}).call(this);
(function(){toggl.mobileui.ProjectsView=Backbone.View.extend({el:"#select_project",listViewNeedsRefresh:!0,pageCreated:!0,pageRenderedAtLeastOnce:0,emptyProjects:$(".empty-projects-list"),initialize:function(){var a=this;_.bindAll(this,"dataSort","bindList","render","addProject","triggerFilter","dataChanged","batchUpdateFinished","bindToBackgroundApp","filterList","updateIcon","deleteInputText","filterEditableWs");this.filtered=this.filterVal="";this.filterTrigger=null;this.content=this.$("div.d_r_content");
this.projectList=this.content.find("#project-list");this.filterInput=this.$(".single-input input");this.filterInput.bind("keyup change",this.triggerFilter);this.projectListHolder=this.content.find("#project-list-holder");this.deleteButton=this.$(".input-delete");this.loupeIcon=this.$(".input-loupe");this.bindToBackgroundApp(!0);this.$(".projects-back-button").fastClick(function(){a.canceled();a.deleteInputText();return!1});this.bindList();this.$(".projects-add-button").fastClick(function(b){return a.addProject(b)});
this.emptyProjects.fastClick(function(b){return a.addProject(b)});this.deleteButton.fastClick(function(){return a.deleteInputText()});if(window.chrome&&window.chrome.togglDesktop)return this.render()},bindToBackgroundApp:function(a){if(a)return toggl.model.Clients.bind("all",this.dataChanged),toggl.model.Clients.bind("batchUpdateFinished",this.batchUpdateFinished),toggl.model.Projects.bind("all",this.dataChanged),toggl.model.Projects.bind("batchUpdateFinished",this.batchUpdateFinished),toggl.model.Tasks.bind("all",
this.dataChanged),toggl.model.Tasks.bind("batchUpdateFinished",this.batchUpdateFinished),toggl.model.Workspaces.bind("batchUpdateFinished",this.filterEditableWs);toggl.model.Clients.unbind("all",this.dataChanged);toggl.model.Clients.unbind("batchUpdateFinished",this.batchUpdateFinished);toggl.model.Projects.unbind("all",this.dataChanged);toggl.model.Projects.unbind("batchUpdateFinished",this.batchUpdateFinished);toggl.model.Tasks.unbind("all",this.dataChanged);toggl.model.Tasks.unbind("batchUpdateFinished",
this.batchUpdateFinished);return toggl.model.Workspaces.unbind("batchUpdateFinished",this.filterEditableWs)},projectTemplate:function(a){return'<li class="project-row" class="list-divider" data-divider-level="2" data-project-id="'+a.id+'" data-client-id="'+a.cid+'"><a class="project-selected-button content" data-project-id="'+a.id+'" href="#">'+a.title+"</a></li>"},taskTemplate:function(a){return'<li class="project-task-row" data-project-id="'+a.project_id+'" data-task-id="'+a.id+'"><a class="task-selected-button" data-task-id="'+
a.id+'" data-project-id="'+a.project_id+'" href="#"><h2>\u2014 '+a.title+"</h2></a></li>"},workspaceTemplate:function(a){return'<li class="ui-li-divider" class="list-divider" data-divider-level="1" data-wid="'+a.wid+'">'+a.title+"</li>"},dataChanged:function(){if(this.pageCreated)return this.listViewNeedsRefresh=!0},batchUpdateFinished:function(){return this.listViewNeedsRefresh=!0},needsRender:function(){if(this.listViewNeedsRefresh)return this.render()},addProject:function(a){a.preventDefault();
slideIn("#add_project");$("#new-project-workspace").trigger("change");if(isTogglDesktop)return $("#new-project-name").focus()},triggerFilter:function(){clearTimeout(this.filterTrigger);this.filterVal=this.filterInput.val();return 0===this.filterVal.length?(this.updateIcon(!1),this.projectList.removeClass("filtered")):this.filterTrigger=setTimeout(this.filterList,200)},filterList:function(){var a,b,c,d=this;a=this.filterInput.val();c=window.isIphone?2<a.length:0<a.length;this.updateIcon(c);this.projectList.toggleClass("filtered",
c);if(c&&a===this.filterVal&&a!==this.filtered)return this.filtered=a,b=a.toLowerCase(),this.projectList.find("li").removeClass("visible"),-1!=="(no project)".indexOf(b)&&this.projectList.find("li:eq(0)").addClass("visible"),_.each(this.wsProjects,function(a,c){var i;if(-1===c.indexOf("notactive"))return isNaN(parseInt(c,10))||(i=_.find(toggl.model.Clients.models,function(a){return parseInt(a.get("id"),10)===parseInt(c,10)}),null!=i&&-1!==i.get("name").toLowerCase().indexOf(b)&&d.projectList.find('li[data-client-id="'+
i.get("id")+'"],li[data-wid="'+i.get("wid")+'"]').addClass("visible")),_.each(a,function(a){var c;a.get("active")&&-1!==a.get("name").toLowerCase().indexOf(b)&&d.projectList.find('li[data-project-id="'+a.get("id")+'"],li[data-wid="'+a.get("wid")+'"]').addClass("visible");c=a.get("id");if(null!=d.wsTasks[c]&&a.get("active"))return _.each(d.wsTasks[c],function(a){if(a.get("active")&&-1!==a.get("name").toLowerCase().indexOf(b))return d.projectList.find('li.project-row[data-project-id="'+c+'"],li.project-task-row[data-task-id="'+
a.get("id")+'"],li[data-wid="'+a.get("wid")+'"]').addClass("visible")})})})},dataSort:function(){this.wsTasks=_.groupBy(toggl.model.Tasks.models,function(a){return!0===a.get("active")&&!a.has("server_deleted_at")?a.get("pid"):"not-active"});this.wsClients=_.groupBy(toggl.model.Clients.models,function(a){return a.has("server_deleted_at")?"deleted":a.get("wid")});return this.wsProjects=_.groupBy(toggl.model.Projects.models,function(a){return!0===a.get("active")&&!a.has("server_deleted_at")?a.has("client_id")?
a.get("client_id"):"noclient-"+a.get("wid"):"notactive-"+a.get("wid")})},bindList:function(){var a;a=this;return this.projectListHolder.fastClick(function(b){var c,d,e,f;c=$(b.target).closest("li:not(.ui-li-divider)");if(0===c.length)return!1;window.cordova&&c.focus();d=c.attr("data-project-id");b=!1;null!=d&&0<d.length?(e=toggl.model.Projects.get(d),null!=e&&(f=toggl.model.Workspaces.get(e.get("wid")),null!=f&&!0===f.get("premium")&&(b=e.get("billable"))),f=f.get("id")):f=toggl.app.currentUser.get("default_wid");
a.selected({projectId:d,taskId:c.attr("data-task-id"),billable:b,wid:f});a.deleteInputText();return!1})},render:function(){var a,b,c,d=this;c=0;this.emptyProjects.addClass("hidden");this.projectList.addClass("hidden");a="";try{a=[];b=-1;a[++b]='<ul id="project-list" class="main-list listview">';try{return a[++b]=this.projectTemplate({id:"",cid:"",title:"<h2>(no project)</h2>"}),this.dataSort(),_.each(toggl.model.Workspaces.models,function(e){var f;f=!1;_.each(d.wsClients[e.id],function(g){return _.each(d.wsProjects[g.id],
function(h){var j;f||(a[++b]=d.workspaceTemplate({title:e.get("name"),wid:e.get("id")}),f=!0);j="<p>"+g.get("name")+"</p><h2>"+h.get("name")+"</h2>";c++;a[++b]=d.projectTemplate({id:h.id,title:j,cid:g.id});return _.each(d.wsTasks[h.id],function(c){return a[++b]=d.taskTemplate({id:c.id,project_id:h.id,title:c.get("name")})})})});return _.each(d.wsProjects["noclient-"+e.id],function(g){var h;f||(a[++b]=d.workspaceTemplate({title:e.get("name"),wid:e.get("id")}),f=!0);h="<h2>"+g.get("name")+"</h2>";c++;
a[++b]=d.projectTemplate({id:g.id,title:h,cid:null});return _.each(d.wsTasks[g.id],function(c){return a[++b]=d.taskTemplate({id:c.id,project_id:g.id,title:c.get("name")})})})})}catch(e){return mobileAlert(e)}finally{a[++b]="</ul>",this.projectListHolder.html(a.join("")),this.projectList=this.projectListHolder.find("#project-list")}}catch(f){return mobileAlert(f)}finally{this.projectList.removeClass("hidden"),this.listViewNeedsRefresh=!1,0===c&&this.emptyProjects.removeClass("hidden")}},filterEditableWs:function(){var a;
if(0<toggl.model.Workspaces.size()&&this.pageRenderedAtLeastOnce!==(a=toggl.app.currentUser.get("id")))return toggl.mobileui.TimeEntriesView.editableWs=_.filter(toggl.model.Workspaces.models,function(a){return!a.get("premium")||!0===a.get("admin")||!0!==a.get("only_admins_may_create_projects")}),this.$(".projects-add-button").toggleClass("hidden",0===toggl.mobileui.TimeEntriesView.editableWs.length),this.pageRenderedAtLeastOnce=a},updateIcon:function(a){this.deleteButton.toggle(a);return this.loupeIcon.toggle(!a)},
deleteInputText:function(){this.filterInput.val("");this.triggerFilter();return this.filterInput.focus()}})}).call(this);
(function(){toggl.mobileui.TagsView=Backbone.View.extend({el:"#assign_tags",listViewNeedsRefresh:!0,selectedTagNames:[],pageCreated:!0,pageRenderedAtLeastOnce:!1,emptyTags:$(".empty-tags-list"),wid:null,initialize:function(){var a=this;_.bindAll(this,"bindList","render","updateSelectedTagNames","addTag","tagsUpdated","batchUpdateFinished","bindToBackgroundApp","filterTags","updateIcon","deleteInputText","beforeShow");this.tagList=this.$("#tag-list");this.tagListHolder=this.$("#tags-list-holder");
this.content=this.$(".container");this.deleteButton=this.$(".input-delete");this.loupeIcon=this.$(".input-loupe");this.bindToBackgroundApp(!0);this.backButton=$(".tags-back-button");this.backButton.fastClick(function(){a.assigned(a.selectedTagNames);return a.deleteInputText()});this.filterInput=this.$(".single-input input");this.filterInput.bind("keyup change",this.filterTags);this.addButton=$(".tags-add-button");this.addButton.fastClick(function(){return a.addTag()});this.emptyTags.fastClick(function(){return a.addTag()});
this.deleteButton.fastClick(function(){return a.deleteInputText()});return this.bindList()},tagTemplate:function(a){return'<li data-selected="'+a.selected+'" data-tag-id="'+a.id+'"><a class="tag-selected-button" href="#">'+a.name+"</a></li>"},filterTags:function(){var a,b,c=this;a=this.filterInput.val();b=0<a.length;this.updateIcon(a.length);this.tagListHolder.toggleClass("filtered",b);if(b)return this.tagListHolder.find("li").removeClass("visible"),_.each(toggl.model.Tags.models,function(b){if(-1!==
b.get("name").toLowerCase().indexOf(a.toLowerCase()))return c.tagListHolder.find('li[data-tag-id="'+b.id+'"]').addClass("visible")})},bindToBackgroundApp:function(a){if(a)return toggl.model.Tags.bind("all",this.tagsUpdated),toggl.model.Tags.bind("batchUpdateFinished",this.batchUpdateFinished);toggl.model.Tags.unbind("all",this.tagsUpdated);return toggl.model.Tags.unbind("batchUpdateFinished",this.batchUpdateFinished)},tagsUpdated:function(){if(this.pageCreated)return this.listViewNeedsRefresh=!0},
beforeShow:function(){if(this.listViewNeedsRefresh)return this.render()},batchUpdateFinished:function(){return this.listViewNeedsRefresh=!0},updateSelectedTagNames:function(a){var b=this;this.selectedTagNames=_.clone(a);return _.each(this.tagList.find("li"),function(a){var d,a=$(a);d=a.find("a").text();return a.attr("data-selected",_.include(b.selectedTagNames,d))})},bindList:function(){var a;a=this;return this.tagListHolder.fastClick(function(b){var c,d;c=parseInt(Date.now(),10);if(a.date+50>c)return!1;
a.date=c;c=$(b.target);b=c.closest("li");d=c.text();"true"===b.attr("data-selected")?(b.attr("data-selected","false"),a.selectedTagNames=_.select(a.selectedTagNames,function(a){return a!==d})):(b.attr("data-selected","true"),_.include(a.selectedTagNames,d)||a.selectedTagNames.push(d));return!1})},render:function(){var a,b,c,d,e=this;if(toggl.model.Tags.length)try{return b=[],c=-1,b[++c]='<ul id="tag-list" class="main-list listview">',this.emptyTags.addClass("hidden"),d={},null==this.wid&&(this.wid=
toggl.app.currentUser.get("default_wid")),a=_.filter(toggl.model.Tags.models,function(a){return a.get("wid")===e.wid}),a=_.sortBy(a,function(a){return a.get("name").toLowerCase()}),_.each(a,function(a){var f;f=a.get("name");if(!d[f])return b[++c]=e.tagTemplate({name:f,selected:_.include(e.selectedTagNames,f),id:a.id}),d[f]=!0})}catch(f){return mobileAlert(f)}finally{b[++c]="</ul>",this.tagListHolder.html(b.join("")),this.listViewNeedsRefresh=!1,this.pageRenderedAtLeastOnce=!0}else return this.emptyTags.removeClass("hidden")},
addTag:function(){var a,b,c;c=$.trim(prompt("Enter a tag name"));0<c.length&&(a=c.toLowerCase(),(b=toggl.model.Tags.detect(function(b){return b.get("name").toLowerCase()===a}))||(b=toggl.model.Tags.create({name:c,wid:this.wid})),this.selectedTagNames.push(b.get("name")),this.render());return!1},updateIcon:function(a){if(0<a)return this.deleteButton.show(),this.loupeIcon.hide();this.deleteButton.hide();return this.loupeIcon.show()},deleteInputText:function(){this.filterInput.val("");return this.filterTags()}})}).call(this);
(function(){toggl.mobileui.TimeEntriesView=Backbone.View.extend({el:"#time_entries",events:{"submit .time-entry-form":"startOrStop","change .start-duration":"durationChanged"},initialize:function(){var d,c=this;_.bindAll(this,"updateDirtyCounter","currentUserSetName","render","startOrStopTimerDisplay","renderRunningDuration","setModelIfTracking","edit","afterPageInit","startOrStop","renderOnChange","renderStartButton","renderDescription","isTracking","addEntry","attachKeys","stopRunningEntry","createEntryAndStartTimer",
"createEntryWithoutStarting","continueLastlyUpdatedEntry","durationChanged");this.editableWS=null;window.toggl.mobileui.spinner.css("visibility","visible");this.timeEntriesList=new toggl.mobileui.TimeEntriesList;this.refreshButton=$(".refresh-button");this.currentUserName=$("#time_entries a.button span");this.currentUserAvatar=$("#time_entries a.button img");this.tagsView=new toggl.mobileui.TagsView;this.projectsView=new toggl.mobileui.ProjectsView;this.taskDiv=this.$(".task");this.description=this.$(".description");
this.descriptionBoxText=this.taskDiv.find("a h2");this.descriptionBoxProject=this.taskDiv.find("a p");this.startButton=this.taskDiv.find("input.button");this.$("a.time-entry-add-button").fastClick(function(){return c.addEntry()});this.$(".empty-entries-list, .task").fastClick(function(a){return"button"===a.target.className?c.startOrStop():c.edit(a)});this.timeField=this.taskDiv.find("input.time");this.body=$("body");this.bindToBackgroundApp(!0);d=$("#logo");isTogglDesktop&&window.chrome&&window.chrome.togglDesktop&&
window.chrome.togglDesktop.openExternalURL?d.fastClick(function(){window.chrome.togglDesktop.openExternalURL(window.toggl.TogglReportUrl);return!1}):d.attr("href",window.toggl.TogglReportUrl);isTogglDesktop&&this.attachKeys();return this.afterPageInit()},bindToBackgroundApp:function(d){d?(toggl.app.bind("currentUserSet",this.currentUserSetName),toggl.app.bind("currentUserSet",this.startOrStopTimerDisplay),toggl.app.bind("currentUserSet",this.render),toggl.model.TimeEntries.bind("all",this.updateDirtyCounter),
toggl.model.TimeEntries.bind("all",this.setModelIfTracking),toggl.model.TimeEntries.bind("change",this.renderOnChange),isTogglDesktop&&(toggl.app.bind("stopCommand",this.stopRunningEntry),toggl.app.bind("newCommand",this.createEntryAndStartTimer),toggl.app.bind("continuePreviousCommand",this.continueLastlyUpdatedEntry))):(toggl.app.unbind("currentUserSet",this.currentUserSet),toggl.app.unbind("currentUserSet",this.startOrStopTimerDisplay),toggl.app.unbind("currentUserSet",this.render),toggl.model.TimeEntries.unbind("all",
this.updateDirtyCounter),toggl.model.TimeEntries.unbind("all",this.setModelIfTracking),toggl.model.TimeEntries.unbind("change",this.renderOnChange),toggl.app.unbind("stopCommand",this.stopRunningEntry),toggl.app.unbind("newCommand",this.createEntryAndStartTimer),toggl.app.unbind("continuePreviousCommand",this.continueLastlyUpdatedEntry),this.projectsView.bindToBackgroundApp(!1),this.tagsView.bindToBackgroundApp(!1),this.timeEntriesList.bindToBackgroundApp(!1));return this.currentUserSetName()},afterPageInit:function(){var d=
this;return setTimeout(function(){d.setModelIfTracking();return d.updateDirtyCounter()},1)},stopRunningEntry:function(){null!=this.model&&(this.model.stopTracking(),null!=window.currentPage&&"#edit"===window.currentPage&&toggl.ui.timeEntryForm.render());return!1},createEntryAndStartTimer:function(){null!=this.model&&(this.model.stopTracking(),this.model=null);null==this.model&&this.startNewTimeEntry(!0);return!1},createEntryWithoutStarting:function(){this.addEntry();return!1},continueLastlyUpdatedEntry:function(){var d;
if(!(d=toggl.model.TimeEntries.lastUpdatedEntry()))return!1;d["continue"]();slideIn("#time_entries");return!1},attachKeys:function(){key("s",this.stopRunningEntry);key("n",this.createEntryAndStartTimer);key("m",this.createEntryWithoutStarting);return key("c",this.continueLastlyUpdatedEntry)},renderOnChange:function(d){var c;if((null!=(c=this.model)?c.id:void 0)===(null!=d?d.id:void 0))return this.render()},edit:function(d){d=$(d.target).hasClass("time")?1:0;null!=this.model?toggl.ui.editTimeEntry(this.model,
d):this.startNewTimeEntry(!1,d);return!1},addEntry:function(){null!=this.model&&this.model.stopTracking();this.startNewTimeEntry(!1);return!1},startOrStop:function(){null!=this.model?(this.model.stopTracking(),this.description.val("")):this.startNewTimeEntry(!0);return!1},setModelIfTracking:function(){var d,c;d=toggl.model.TimeEntries.tracking();if((null!=(c=this.model)?c.id:void 0)!==(null!=d?d.id:void 0))return this.model=d,this.startOrStopTimerDisplay(),this.render(),toggl.app.broadcastTrackingStatus(this.model)},
renderStartButton:function(){if(this.isTracking())return this.startButton.val("Stop"),this.taskDiv.addClass("running"),this.timeField.attr("readonly",!0);this.startButton.val("Start");this.taskDiv.removeClass("running");return this.timeField.val("").attr("readonly",!1)},renderDescription:function(){var d;return this.isTracking()?(this.descriptionBoxText.text(null!=this.model.get("description")&&0<this.model.get("description").length?this.model.get("description"):"(no description)"),d=toggl.app.formatProjectName({projectId:this.model.get("pid"),
taskId:this.model.get("tid"),"default":""}),this.descriptionBoxProject.html(d),this.model.has("pid")?this.descriptionBoxProject.removeClass("default-project-text"):this.descriptionBoxProject.addClass("default-project-text")):this.description.val("")},isTracking:function(){return null!=this.model&&this.model.isTracking()},render:function(){this.body.toggleClass("timer-is-tracking",this.isTracking());this.body.toggleClass("timer-is-stopped",!this.isTracking());this.renderStartButton();return this.renderDescription()},
startNewTimeEntry:function(d,c){var a,e,b;if(toggl.app.currentUser)return b=new Date,a=hhmmss_to_milliseconds(this.timeField.val()),a=!a?0:a,e=d?-((b.getTime()-a)/1E3):0,b=new Date(b.getTime()-a),a={description:0<this.description.val().length?this.description.val():"",start:moment(b).format(),duration:e,duronly:!toggl.app.currentUser.get("store_start_and_stop_time"),created_with:toggl.app.createdWith},a=d?toggl.model.TimeEntries.create(a):new toggl.model.TimeEntry(a),toggl.ui.editTimeEntry(a,c),$(".time-entry-description").focus()},
updateDirtyCounter:function(){var d;d=toggl.model.TimeEntries.countDirty();d=0===d?"Refresh":(this.updateOfflineText(),"Refresh ("+d+")");return this.refreshButton.text(d)},updateOfflineText:function(){if($("#top-notice").hasClass("activate"))return $("#top-notice span").html(this.renderOfflineText())},renderOfflineText:function(){var d;d=toggl.model.TimeEntries.countDirty();return 0===d?"":1===d?d+" entry not synced.":d+" entries not synced"},currentUserSetName:function(){return null!=toggl.app.currentUser?
(this.currentUserName.html(toggl.app.currentUser.get("fullname")),this.currentUserAvatar.attr("src",toggl.app.currentUser.get("image_url"))):this.currentUserName.html("")},renderRunningDuration:function(){var d,c,a;if(this.isTracking()&&(d=this.model.formattedDuration(),this.timeField.val(d),toggl.ui.timeEntryForm&&(null!=(c=toggl.ui.timeEntryForm.model)?c.id:void 0)===(null!=(a=this.model)?a.id:void 0)))return toggl.ui.timeEntryForm.renderRunningDuration(d)},startOrStopTimerDisplay:function(d){if(!d&&
null!=toggl.app.currentUser&&this.isTracking())return d=this.renderRunningDuration,null==this.timer&&(this.timer=setInterval(d,500)),this.render();null!=this.timer&&clearInterval(this.timer);return this.timer=null},durationChanged:function(){var d;d=hhmmss_to_milliseconds(this.timeField.val());return this.timeField.val(TimeFormat.seconds_to_hhmmss(!d?0:d/1E3,!1))}})}).call(this);
(function(){toggl.mobileui.TimeEntryForm=Backbone.View.extend({events:{"change #billable-flag input":"billableChanged","change .time-entry-start-time":"startedChanged","change .time-entry-stop-time":"stoppedChanged","change .entry-duration":"durationChanged","blur .time-entry-description":"descriptionBlur","focus .time-entry-description":"descriptionFocus","submit .time-entry-form":"startOrStop","keypress input":"disableClick","keypress .time-entry-description":"keypressDescriptionField"},initialize:function(){var a=
this;_.bindAll(this,"startOrStop","deleteTimeEntry","descriptionBlur","render","editStop","renderProject","renderDate","renderTags","selectProject","projectSelected","finishedWithSelection","billableChanged","assignTags","tagsAssigned","parseTagNames","closeFormIfTaskRemoved","getDates","autocompleteSelected","initDescriptionAutocomplete","modelCreatedServerSide","setModel","renderRunningDuration","dateChanged","saveBillable","stoppedChanged","durationChanged","continueTimeEntry","createTimeEntry",
"startedChanged","getDuration","renderTitle","renderStartButton","renderBillableButton","setInlineEditValue","disableClick","bindToBackgroundApp","renderSaved","renderTimeValues","updateTagsByWid","descriptionFocus","scrollTo","keypressDescriptionField");this.rendering=!1;this.isDeleted=null;this.autocompleteNeedsRefresh=!1;this.body=$("body");this.title=this.$(".edit-h1");this.list=this.$(".edit-list");this.$(".time-entry-select-project").fastClick(function(){return a.selectProject()});this.$(".time-entry-delete-button").fastClick(function(){return a.deleteTimeEntry()});
this.$(".time-entry-tags-button").fastClick(function(){return a.assignTags()});this.$("header a.right").fastClick(function(){return a.newTimeEntry()});this.descriptionField=this.$(".time-entry-description");this.projectField=this.$(".time-entry-project-value");this.tagsField=this.$(".time-entry-tags-value");this.dateInputField=this.$(".time-entry-date-value");this.dateButton=this.$(".time-entry-date-button");this.dateContainer=this.$(".time-entry-date-container");this.startRow=this.$(".time-entry-start-time-button");
this.startInputField=this.startRow.find(".time-entry-start-time");this.startInputField.fastClick(function(b){return window.isIphone?a.scrollTo(b):!0});this.stopRow=this.$(".time-entry-stop-time-button");this.stopInputField=this.stopRow.find(".time-entry-stop-time");this.stopInputField.fastClick(function(b){return window.isIphone?a.scrollTo(b):!0});this.billableSlider=this.$("#billable-flag .ibutton");this.billableButton=this.$(".time-entry-billable-button");this.billableSliderHandle=this.$(".ui-slider-handle");
this.billableStatuses=["Billable off","Billable on"];this.startButton=this.$(".time-entry-start-button");this.startButton.fastClick(function(){return a.startOrStop()});this.backButton=this.$(".edit-back");this.backButton.fastClick(function(){a.editStop();return a.body.focus()});this.deleteButton=this.$(".time-entry-delete-button");this.taskDiv=this.$(".task");this.timeField=this.taskDiv.find("input.entry-duration");key("b",function(){return a.backButton.fastClick()});this.bindToBackgroundApp(!0);
if(window.isIphone)return this.nativeDateInputField=this.$(".time-entry-native-date-value"),this.dateButton.fastClick(function(b){a.nativeDateInputField.focus();b.stopPropagation();return!1}),this.startInputField.blur(function(){return a.startedChanged()}),this.stopInputField.blur(function(){return a.stoppedChanged()}),this.nativeDateInputField.blur(function(){if(a.nativeDateInputField.attr("data-date")!==a.nativeDateInputField.val()&&0<a.nativeDateInputField.val().length)return a.dateChanged(null,
a.nativeDateInputField.val())})},descriptionFocus:function(a){return a.stopPropagation()},scrollTo:function(a,b){null==b&&(b=null);a.stopPropagation();b||(b=$(a.target));b.focus();$("body").scrollTop($(".time-entry-select-project").offset().top);return!1},bindToBackgroundApp:function(a){if(a)return toggl.model.TimeEntries.bind("all",this.closeFormIfTaskRemoved),toggl.app.bind("modelCreatedServerSide",this.modelCreatedServerSide),toggl.model.Projects.bind("all",this.autocompleteDataChanged),toggl.model.Projects.bind("batchUpdateFinished",
this.autocompleteBatchUpdateFinished),toggl.model.Tasks.bind("all",this.autocompleteDataChanged),toggl.model.Tasks.bind("batchUpdateFinished",this.autocompleteBatchUpdateFinished);toggl.model.TimeEntries.unbind("all",this.closeFormIfTaskRemoved);toggl.app.unbind("modelCreatedServerSide",this.modelCreatedServerSide);toggl.model.Projects.unbind("all",this.autocompleteDataChanged);toggl.model.Projects.unbind("batchUpdateFinished",this.autocompleteBatchUpdateFinished);toggl.model.Tasks.unbind("all",this.autocompleteDataChanged);
return toggl.model.Tasks.unbind("batchUpdateFinished",this.autocompleteBatchUpdateFinished)},tagTemplate:function(a){return'<span class="tag-text">'+a.tag+"</span>"},disableClick:function(a){this.model.set({ui_modified_at:Date.now()},{silent:!0});if(13===a.keyCode)return this.$("input").blur(),!1},keypressDescriptionField:function(a){if(13===a.keyCode)return this.model.isTracking()?this.descriptionField.blur():this.startButton.fastClick()},autocompleteDataChanged:function(){return toggl.model.Projects.batchUpdate||
toggl.model.Tasks.batchUpdate?toggl.ui.timeEntryForm.autocompleteNeedsRefresh=!0:setTimeout(toggl.ui.timeEntryForm.initDescriptionAutocomplete,1)},autocompleteBatchUpdateFinished:function(){if(toggl.ui.timeEntryForm.autocompleteNeedsRefresh)return setTimeout(toggl.ui.timeEntryForm.initDescriptionAutocomplete,1)},newTimeEntry:function(){var a;if(toggl.app.currentUser)return this.model.isTracking()&&this.startOrStop(),this.editStop(),a=moment(new Date).format(),a={description:"",start:a,stop:a,duration:0,
duronly:!toggl.app.currentUser.get("store_start_and_stop_time")},toggl.ui.editTimeEntry(new toggl.model.TimeEntry(a))},dateChanged:function(a,b){var c,d;if(!this.rendering){c=moment(b).format(toggl.app.currentUser.get("date_format"));this.dateInputField.val(c);c=this.dateInputField.attr("data-date");if(c===this.dateInputField.val())return!1;c=this.getDates();c=moment(c.start).format();d=hhmmss_to_milliseconds(this.timeField.val());d=moment(this.getDates().start).add("seconds",!d?0:d/1E3).toDate();
d=moment(d).format();return toggl.model.TimeEntries.include(this.model)?this.model.save({dirty_at:new Date,start:c,stop:d}):this.model.set({start:c,stop:d})}},startedChanged:function(){var a;if(!this.rendering)return a=this.getDates(),a=moment(a.start).format(),toggl.model.TimeEntries.include(this.model)?this.model.save({dirty_at:new Date,start:a,duration:this.getDuration()}):this.model.set({start:a,duration:this.getDuration()}),this.renderTimeValues()},stoppedChanged:function(){var a;if(!this.rendering)return a=
this.getDates(),a=moment(a.stop).format(),toggl.model.TimeEntries.include(this.model)?this.model.save({dirty_at:new Date,stop:a,duration:this.getDuration()}):this.model.set({stop:a,duration:this.getDuration()}),this.renderTimeValues()},durationChanged:function(){var a,b,c,d,e;if(!this.rendering)return b=hhmmss_to_milliseconds(this.timeField.val()),b=!b?0:b/1E3,a=this.getDates(),e=moment(a.stop).subtract("seconds",b).toDate(),a=this.getDates().stop,c=Math.floor(b/3600),d=Math.floor((b-3600*c)/60),
10>d&&(d="0"+d),10>c&&(c="0"+c),this.setInlineEditValue(this.startRow,c+":"+d),c=moment(e).format(),a=moment(a).format(),this.model.isTracking()&&(b=-(Date.now()/1E3-b)),toggl.model.TimeEntries.include(this.model)?this.model.save({dirty_at:new Date,duration:b,start:c,stop:a}):this.model.set({duration:b,start:c,stop:a}),this.renderTimeValues()},getDuration:function(){var a,b;b=this.hourCalculation(this.startInputField.val().toUpperCase());a=this.hourCalculation(this.stopInputField.val().toUpperCase());
a=Math.abs((a>b?a:86400+a)-b);this.model.isTracking()&&(a=-(Date.now()/1E3-a));return a},hourCalculation:function(a){a||(a=moment(new Date).format("H:m A"));0<a.indexOf("P")?(a=hhmmss_to_milliseconds(this.parseTime($.trim(a.replace("PM","").replace("P",""))))/1E3,43200>a&&(a+=43200)):0<a.indexOf("A")?(a=hhmmss_to_milliseconds(this.parseTime($.trim(a.replace("AM","").replace("A",""))))/1E3,43200<=a&&(a-=43200)):a=hhmmss_to_milliseconds(this.parseTime($.trim(a)))/1E3;return a},parseTime:function(a){return 0<
a.indexOf(":")?a:3>a.length?a+":00":3<a.length?a.substr(0,2)+":"+a.substr(-2):"0"+a.substr(0,1)+":"+a.substr(-2)},renderRunningDuration:function(a){if(!this.timeField.is(":focus"))return this.timeField.val(a)},initDescriptionAutocomplete:function(){var a,b;this.body.find(".acResults").empty();b=toggl.app.autocompleteSourceForTasks();(a=this.descriptionField.data("autocompleter"))?a.options.data=b:(a=isTogglDesktop?8:3,this.descriptionField.autocomplete({data:b,onItemSelect:this.autocompleteSelected,
maxItemsToShow:a}));return this.autocompleteNeedsRefresh=!1},autocompleteSelected:function(a){a=a.data[0];if(this.model.get("description")!==a.description||this.model.get("pid")!==a.pid||this.model.get("tid")!==a.tid)this.descriptionField.val(a.description),toggl.model.TimeEntries.include(this.model)?this.model.save({dirty_at:new Date,description:a.description,pid:a.pid,tid:a.tid,billable:a.billable,wid:a.wid}):this.model.set({description:a.description,pid:a.pid,tid:a.tid,billable:a.billable,wid:a.wid});
return this.render()},setModel:function(a){this.model=a;return this.render()},closeFormIfTaskRemoved:function(){var a;if(this.model.has("deleted_at")||this.model.has("server_id")&&!("function"===typeof(a=toggl.model.TimeEntries).include&&a.include(this.model)))return this.editStop(!1)},modelCreatedServerSide:function(a){if("Project"===a.modelName&&a.get("guid")&&this.model.get("pid")===a.get("guid"))return this.model.set({pid:a.id})},descriptionBlur:function(){var a,b;b=toggl.ui.sanitizeScripts(this.descriptionField);
a=this.model.get("description")||"";if(b!==a)return toggl.model.TimeEntries.include(this.model)?this.model.save({dirty_at:new Date,description:b}):this.model.set({description:b})},assignTags:function(){var a;a=this.model.get("tags")||[];toggl.ui.timeEntriesView.tagsView.updateSelectedTagNames(a);toggl.ui.timeEntriesView.tagsView.assigned=this.tagsAssigned;toggl.ui.timeEntriesView.tagsView.beforeShow();slideIn("#assign_tags");isTogglDesktop&&this.body.find("#assign_tags .find").focus();return!1},tagsAssigned:function(a){if((this.model.get("tags")||
[]).join()!==a.join())toggl.model.TimeEntries.include(this.model)?this.model.save({dirty_at:new Date,tags:a}):this.model.set({tags:a}),this.renderTags(a);return this.finishedWithSelection()},billableChanged:function(a){a.preventDefault();return setTimeout(this.saveBillable,10)},saveBillable:function(){var a;a=this.billableSlider.is(":checked");if(!this.rendering&&this.model.get("billable")!==a)return toggl.model.TimeEntries.include(this.model)?this.model.save({dirty_at:new Date,billable:a}):this.model.set({billable:a})},
deleteTimeEntry:function(){var a=this;this.isDeleted!==this.model&&mobileConfirm("Delete this time entry?",function(){a.isDeleted=a.model;a.model.deleteEntry();return a.editStop(!1)});return!1},selectProject:function(){toggl.ui.timeEntriesView.projectsView.selected=this.projectSelected;toggl.ui.timeEntriesView.projectsView.canceled=this.finishedWithSelection;slideIn("#select_project");isTogglDesktop&&this.body.find("#select_project .find").focus();return!1},updateTagsByWid:function(a){null==a&&(a=
!0);if(toggl.ui.timeEntriesView.tagsView.wid!==this.model.get("wid"))return toggl.ui.timeEntriesView.tagsView.wid=this.model.get("wid"),toggl.ui.timeEntriesView.tagsView.listViewNeedsRefresh=!0,a||!this.model.has("tags")?(this.model.set("tags",""),this.renderTags("")):this.renderTags(this.model.get("tags"))},projectSelected:function(a){toggl.model.TimeEntries.include(this.model)?this.model.save({tid:a.taskId,pid:a.projectId,dirty_at:new Date,billable:a.billable,wid:a.wid}):this.model.set({tid:a.taskId,
pid:a.projectId,billable:a.billable,wid:a.wid});this.finishedWithSelection();this.renderProject(a);this.updateTagsByWid();return this.renderBillableButton()},finishedWithSelection:function(){return slideIn("#edit")},renderDate:function(a){var b,c;a||(a=new Date);c=this;b=moment(a).format(toggl.app.currentUser.get("date_format"));this.dateInputField.attr("data-date",b).val(b);return window.isIphone?(a=moment(a).format("YYYY-MM-DD"),this.nativeDateInputField.attr("data-date",a).val(a)):this.dateButton.glDatePicker({selectedDate:moment(c.dateInputField.val(),
toggl.app.currentUser.get("date_format")),cssName:"toggl",calId:"datebox",onChange:function(a,b){return c.dateChanged(a,b)}})},renderTags:function(a){var b,c=this;try{return this.tagsField.attr("data-tag-names",JSON.stringify(a).replace(/"/g,"'")),null!=a&&0<a.length?(b="",_.each(a,function(a){return b+=c.tagTemplate({tag:a})}),this.tagsField.html(b)):this.tagsField.html("")}catch(d){return mobileAlert(d)}},renderProject:function(a){var b;try{return this.projectField.attr({"data-project-id":a.projectId||
"","data-task-id":a.taskId||""}),b=toggl.app.formatProjectName(_.extend(a,{"default":"Project (optional)"})),this.projectField.html(b).toggleClass("default-color","Project (optional)"===b)}catch(c){return mobileAlert(c)}},renderSaved:function(){var a,b,c;a=new Date(this.model.get("at"));c=this.model.get("at");this.model.has("ui_modified_at")&&(b=new Date(this.model.get("ui_modified_at")),b.getTime()>a.getTime()&&(c=this.model.get("ui_modified_at")));return this.$(".last_saved").text(moment(c).calendar())},
startOrStop:function(){this.model.isTracking()?(this.model.stopTracking(),this.editStop(!1)):toggl.model.TimeEntries.include(this.model)?(this.continueTimeEntry(),this.editStop(!1)):this.model.isToday()?0<this.model.get("duration")?(this.createTimeEntry(!0,!1),this.editStop()):this.createTimeEntry():this.editStop();return this.renderStartButton()},continueTimeEntry:function(){return this.model["continue"]()},createTimeEntry:function(a,b){var c,d;null==a&&(a=!1);null==b&&(b=!0);d=!this.model.get("duronly")&&
0<this.model.get("duration")||!this.model.isToday()?this.model.startDate():new Date;c=!this.model.get("duration")?0:this.model.get("duration");this.model.get("duronly")&&(d=moment(d).subtract("seconds",c).toDate());if(this.model.isToday&&!a||b)c=-(d.getTime()/1E3);this.model.set({duration:c,dirty_at:new Date,start:moment(d).format()});return toggl.model.TimeEntries.add(this.model)},getDates:function(){var a,b,c,d,e;(c=moment(this.dateInputField.val(),toggl.app.currentUser.get("date_format")))||(c=
new Date);e=new Date;b=soft_to_timeofday(this.convertAMPM(this.startInputField.val()));null!=b?(a=moment(c),this.startInputField.val().length?(a.hours(b.getHours()),a.minutes(b.getMinutes())):(a.hours(e.getHours()),a.minutes(e.getMinutes())),b=a.toDate().getTime()):b=c;d=soft_to_timeofday(this.convertAMPM(this.stopInputField.val()));null!=d?(a=moment(c),this.stopInputField.val().length?(a.hours(d.getHours()),a.minutes(d.getMinutes())):(a.hours(e.getHours()),a.minutes(e.getMinutes())),d=a.toDate().getTime()):
d=c;b>d&&(d=moment(d).add("days",1).toDate());return{start:b,stop:d}},convertAMPM:function(a){var b,a=a.toUpperCase();b=this.parseTime($.trim(a.replace("PM","").replace("P","").replace("AM","").replace("A","")));if("h:mm A"===toggl.app.currentUser.get("timeofday_format")){if(0<a.indexOf("P"))return b+" PM";if(0<a.indexOf("A"))return b+" AM"}return b},parseTagNames:function(){return this.tagsField.attr("data-tag-names")?JSON.parse(this.tagsField.attr("data-tag-names")):[]},setInlineEditValue:function(a,
b,c){null==c&&(c=!1);a.find(".value").text(b);return c?a.find("input").val(b).attr("disabled",null!=this.model&&this.model.isTracking()):a.find("input").val(b)},renderTimeValues:function(){var a,b;this.timeField.val(this.model.formattedDuration());b="HH:mm";a=toggl.app.currentUser.get("jquery_timeofday_format");"A"===a.substr(a.length-1)&&(b="hh:mm A");this.startInputField.is(":focus")||(window.isIphone?this.setInlineEditValue(this.startRow,moment(this.model.startDate()).format("HH:mm")):this.setInlineEditValue(this.startRow,
moment(this.model.startDate()).format(b)));return window.isIphone?this.setInlineEditValue(this.stopRow,moment(this.model.stopDate()).format("HH:mm",!0)):this.setInlineEditValue(this.stopRow,moment(this.model.stopDate()).format(b,!0))},render:function(){var a;this.rendering=!0;try{if(!this.descriptionField.is(":focus")||!this.model.get("description"))this.descriptionField.val(""),this.model.has("description")&&this.model.get("description").length&&this.descriptionField.val(this.model.get("description"));
this.renderTimeValues();this.projectField.attr("data-project-id")!==this.model.get("pid")&&this.renderProject({projectId:this.model.get("pid"),taskId:this.model.get("tid")});this.renderDate(this.model.startDate());this.renderTags(this.model.get("tags")||[]);this.renderStartButton();this.renderBillableButton();this.renderTitle();this.renderSaved();this.list.toggleClass("ignore-start-and-stop",this.model.has("duronly")&&this.model.get("duronly"));a=this.model.isTracking();this.body.toggleClass("editable-is-tracking",
a);this.body.toggleClass("editable-is-stopped",!a);window.cordova&&this.stopInputField.toggleClass("hidden",a)}catch(b){mobileAlert(b)}finally{this.rendering=!1,this.updateTagsByWid(!1)}return setTimeout(this.initDescriptionAutocomplete,1)},renderStartButton:function(){if(this.model.isTracking())return this.startButton.addClass("red").removeClass("green").val("Stop"),this.taskDiv.addClass("running"),this.timeField.val(this.model.formattedDuration());toggl.model.TimeEntries.include(this.model)?(this.timeField.val(this.model.formattedDuration()),
this.startButton.addClass("green").removeClass("red").val("Continue")):(0===this.model.get("duration")&&this.timeField.val(""),this.startButton.addClass("green").removeClass("red").val("Start"));return this.taskDiv.removeClass("running")},renderBillableButton:function(){var a,b;this.billableSlider.attr("checked",this.model.get("billable"));b=null;1===toggl.model.Workspaces.length?b=toggl.model.Workspaces.first():this.model.has("pid")&&(a=toggl.model.Projects.get(this.model.get("pid")))&&(b=toggl.model.Workspaces.get(a.get("wid")));
b&&!b.get("premium")?this.billableSlider.is(":disabled")||(this.billableSlider.attr("checked",!0),this.billableSlider.iButton("disable")):this.billableSlider.is(":disabled")&&this.billableSlider.iButton("disable");return this.billableSlider.iButton("repaint")},renderTitle:function(){var a;a=toggl.model.TimeEntries.include(this.model)?"Edit":"New time entry";return this.title.text(a)},editStop:function(a){null==a&&(a=!0);a&&((this.model.get("duration")||this.model.get("description"))&&!toggl.model.TimeEntries.include(this.model))&&
this.createTimeEntry(!0,!1);slideIn("#time_entries");return!1}})}).call(this);
(function(){toggl.mobileui.TimeEntriesList=Backbone.View.extend({el:".main-list",weights:[],lastAt:null,loaded:!1,listBinded:!1,initialize:function(){_.bindAll(this,"addAll","addOne","removeOne","renderOne","updateHeaderByWeight","describeGroup","renderGroupTotal","findListByFormattedDate","updateHeadersIfNeeded","formatHeaderDate","showListLoader","hideListLoader","findTimeEntryRow","findTimeEntry","bindList","batchUpdateFinished","bindToBackgroundApp","currentUserSet","getDayBefore","findDayByWeight");
this.bindToBackgroundApp(!0);this.listLoader=$(".history-placeholder");this.$el=$(this.el);this.$timeEntriesList=$("#time-entries-list");this.content=$("#time_entries .container");if(window.chrome&&window.chrome.togglDesktop)return this.addAll()},bindToBackgroundApp:function(a){if(a)return toggl.model.TimeEntries.bind("reset",this.addAll),toggl.model.TimeEntries.bind("add",this.addOne),toggl.model.TimeEntries.bind("remove",this.removeOne),toggl.model.TimeEntries.bind("change",this.renderOne),toggl.model.TimeEntries.bind("batchUpdateFinished",
this.batchUpdateFinished),toggl.app.bind("currentUserSet",this.currentUserSet),toggl.app.bind("loadOfflineTimeEntries",this.addAll);toggl.model.TimeEntries.unbind("reset",this.addAll);toggl.model.TimeEntries.unbind("add",this.addOne);toggl.model.TimeEntries.unbind("remove",this.removeOne);toggl.model.TimeEntries.unbind("change",this.renderOne);toggl.model.TimeEntries.unbind("batchUpdateFinished",this.batchUpdateFinished);toggl.app.unbind("currentUserSet",this.currentUserSet);return toggl.app.unbind("loadOfflineTimeEntries",
this.addAll)},batchUpdateFinished:function(){this.loaded||this.addAll();return this.loaded=!1},currentUserSet:function(){if(0===toggl.model.TimeEntries.length)return this.showListLoader()},headerTemplate:function(a){return'<div class="one-day" data-weight="'+a.weight+'" data-title="'+a.title+'"><h2 data-weight="'+a.weight+'" data-date="'+a.formatted_date+'" class="day-title">'+a.title+'  <span class="total-duration">'+a.totaltime+'</span></h2><ul class="main-list" data-weight="'+a.weight+'" data-date="'+
a.formatted_date+'">'+a.current_list+"</ul></div>"},rowTemplate:function(a){return'<a href="#" class="content"><span class="tag-icon-wrapper '+a.icons+'"><span class="tag-icon money '+a.billableMarker+'"></span><span class="tag-icon price '+a.hasTags+'"></span></span><span class="input right te-duration">'+a.formattedDuration+"</span><h2>"+a.description+a.tags+"</h2><p>"+a.projectName+'</p></a><div class="action"><a href="#" class="arrow"><span></span></a></div>'},tagTemplate:function(a){return'<span class="tag-text">'+
a.tag+"</span>"},showListLoader:function(){return this.listLoader.removeClass("hidden")},hideListLoader:function(){return this.listLoader.addClass("hidden")},addAll:function(){var a,b,c=this;if(null==toggl.app.currentUser||null==toggl.model.TimeEntries||0===toggl.model.TimeEntries.size())this.showListLoader(),this.listBinded||this.bindList();else{b="";try{return this.$timeEntriesList.detach().empty(),a=_.groupBy(toggl.model.TimeEntries.models,function(a){return moment(a.startDate()).format("MM/DD/YYYY")}),
_.each(a,function(a,e){var i,g,j;i="";j=0;_.each(a,function(a){i=c.addOneFirstLoading(a)+i;return j+=a.duration()});g=TimeFormat.seconds_to_hhmm(j);if(i.length)return b=c.createHeader(e,i,g)+b})}catch(e){return mobileAlert(e)}finally{toggl.model.TimeEntries.size()?this.hideListLoader():this.showListLoader(),this.$timeEntriesList.html(b).appendTo(this.content),this.loaded=!0,this.listBinded||this.bindList(),window.toggl.mobileui.spinner.css("visibility","hidden")}}},bindList:function(){var a=this;
this.listBinded=!0;return this.$timeEntriesList.fastClick(function(b){var c;c=$(b.target);b=a.findTimeEntry(c.parents("li.time-entry-row"));null!=b&&(0===c.parents(".action").length?(c=window.isTogglDesktop?0:2,b.isTracking()||toggl.ui.editTimeEntry(b,c)):(b["continue"](),$("body").scrollTop(0)));return!1})},createHeader:function(a,b,c){var e;e=this.findListByFormattedDate(a);if(0<e.length)return e;a=this.describeGroupHeader(a);this.weights.push(parseInt(a.weight,10));this.weights.sort();return this.headerTemplate(_.extend(a,
{current_list:b,totaltime:c}))},findTimeEntryRow:function(a){var b,c;c=this.$timeEntriesList.find('li[data-time-entry-id="'+a.id.toString()+'"]');return 0===c.length&&(b=a.get("guid"))?$('li[data-time-entry-id="'+b.toString()+'"]'):c},findTimeEntry:function(a){a=a.attr("data-time-entry-id");return toggl.model.TimeEntries.get(a)},htmlEntities:function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},renderListTimeEntryRow:function(a,b,c){var e,
d,f,i=this;null==c&&(c=null);d=e=null;null!=toggl.model.Projects.get(a.get("pid"))?e=a.get("pid"):a.unset("pid");null!=toggl.model.Tasks.get(a.get("tid"))?d=a.get("tid"):a.unset("tid");d=toggl.app.formatProjectName({projectId:e,taskId:d,"default":""});f=_.extend(a.toJSON(),{formattedDuration:a.formattedDuration(),projectName:d});f.description=null==f.description||0===f.description.length?"(no description)":this.htmlEntities(f.description);f.billableMarker=a.get("billable")?"":"hidden";f.tags="";a.has("tags")&&
_.each(a.get("tags"),function(a){if(0<a.length)return f.tags+=i.tagTemplate({tag:a})});f.hasTags=0<f.tags.length?"":"hidden";f.icons=0<f.tags.length||0===f.billableMarker.length?"":"hidden";e="";""!==d&&(e+=" high-li");a.isTracking()&&(e+=" running");if(null!=c)return c.addClass(e).attr({"data-time-entry-guid":f.guid,"data-time-entry-id":f.id}).html(this.rowTemplate(f));a='data-time-entry-id="'+f.id+'"';null!=f.guid&&(a+=' data-time-entry-guid="'+f.guid+'"');return'<li class="time-entry-row'+e+'" '+
(a+(' data-group-date="'+b+'"'))+">"+this.rowTemplate(f)+"</li>"},addOneFirstLoading:function(a){var b;if(a.isTracking()||0<this.findTimeEntryRow(a).length)return"";b=this.describeGroup(a);return this.renderListTimeEntryRow(a,b.formatted_date)},addOne:function(a){var b;if(!a.isTracking()&&!(0<this.findTimeEntryRow(a).length)&&(b=this.describeGroup(a),a=this.renderListTimeEntryRow(a,b.formatted_date),this.updateHeadersIfNeeded(),this.addToOrCreateHeader(b,a),this.renderGroupTotal(this.findDayByWeight(b.weight)),
0!==toggl.model.TimeEntries.size()))return this.hideListLoader()},removeOne:function(a){var b;b=this.findTimeEntryRow(a);0<b.length&&b.remove();this.updateHeadersIfNeeded();a=this.describeGroup(a);this.updateHeaderByWeight(a.weight);if(0===toggl.model.TimeEntries.length)return this.showListLoader()},renderOne:function(a){var b,c,e;if(null==a)return!1;if(a.has("deleted_at"))this.removeOne(a);else if(a.isTracking())this.removeOne(a),toggl.ui.timeEntriesView.render();else if(b=this.findTimeEntryRow(a),
0<!b.length)this.addOne(a);else{e=b.closest(".one-day").attr("data-weight");c=this.describeGroup(a);if(e!==c.weight)return a=this.renderListTimeEntryRow(a,c.formatted_date),b.remove(),this.updateHeaderByWeight(e),this.addToOrCreateHeader(c,a),this.updateHeaderByWeight(c.weight),this.weights.push(parseInt(c.weight,10)),this.weights.sort();this.renderListTimeEntryRow(a,c.formatted_date,b);return this.updateHeaderByWeight(e)}},updateHeaderByWeight:function(a){var b,c;b=this.findDayByWeight(a);if(0===
b.length)return!1;c=b.find("li");if(0===c.length){if(b.remove(),a=this.weights.indexOf(parseInt(a,10)),0<=a)return this.weights.splice(a,1)}else return this.renderGroupTotal(b,c)},updateHeadersIfNeeded:function(){var a,b=this;a=new Date;a=this.$timeEntriesList.find('.one-day[data-title="Today"][data-weight!="'+moment(a).format("YYYYMMDD")+'"], .one-day[data-title="Yesterday"][data-weight!="'+moment(a).subtract("days",1).format("YYYYMMDD")+'"]');return _.each(a,function(a){var e,a=$(a);e=moment(a.attr("data-weight"),
"YYYYMMDD").toDate();e=b.formatHeaderDate(e);a.attr("data-title",e);return a.find(".day-title").text(e)})},renderGroupTotal:function(a,b){var c,e,d=this;null==b&&(b=null);null==b&&(b=a.find("li"));c=0;_.each(b,function(a){a=d.findTimeEntry($(a));if(null!=a)return c+=a.duration()});e=TimeFormat.seconds_to_hhmm(c);return a.find(".total-duration").text(e)},findDayByWeight:function(a){return this.$timeEntriesList.find('.one-day[data-weight="'+a+'"]')},findListByFormattedDate:function(a){return this.$timeEntriesList.find('ul.main-list[data-date="'+
a+'"]')},addToOrCreateHeader:function(a,b){var c,e;c=this.findListByFormattedDate(a.formatted_date);if(0<c.length)return c.prepend(b);c=this.headerTemplate(_.extend(a,{current_list:b,totaltime:""}));e=this.getDayBefore(a.weight);-1===e?this.$timeEntriesList.append(c):this.$timeEntriesList.find('.one-day[data-weight="'+this.weights[e]+'"] ').before(c);this.weights.push(parseInt(a.weight,10));return this.weights.sort()},getDayBefore:function(a){var b;b=-1;_.each(this.weights,function(c,e){if(c<a)return b=
e});return b},formatHeaderDate:function(a){var b,c;b=moment(a).format("DDMMYYYY");c=new Date;if(moment(c).format("DDMMYYYY")===b)return"Today";c=moment(c).subtract("days",1).toDate();return moment(c).format("DDMMYYYY")===b?"Yesterday":moment(a).format("ddd")+" "+moment(a).format("Do MMM")},describeGroup:function(a){a=a.startDate();return{title:this.formatHeaderDate(a),weight:moment(a).format("YYYYMMDD"),formatted_date:moment(a).format("YYYY-MM-DD")}},describeGroupHeader:function(a){a=new Date(a);
return{title:this.formatHeaderDate(a),weight:moment(a).format("YYYYMMDD"),formatted_date:moment(a).format("YYYY-MM-DD")}}})}).call(this);
(function(a){var b={calId:0,cssName:"default",startDate:-1,endDate:-1,selectedDate:-1,showPrevNext:!0,allowOld:!0,showAlways:!1,position:"absolute"},c={init:function(e){return this.each(function(){var d=a(this),f=a.extend({},b);f.calId=d[0].id+"-gldp";e&&(f=a.extend(f,e));d.data("settings",f);d.fastClick(c.show).focus(c.show);f.showAlways&&setTimeout(function(){d.trigger("focus")},50);a("#edit_cover").fastClick(function(){c.hide.apply(d)})})},show:function(b){b.stopPropagation();c.hide.apply(a("._gldp").not(a(this)));
c.update.apply(a(this));a("#edit_cover").show();return!1},hide:function(){if(a(this).length){var b=a(this).data("settings");b.showAlways||(a("#"+b.calId).hide(),a(this).removeClass("_gldp"),a("#edit_cover").hide())}},setStartDate:function(b){a(this).data("settings").startDate=b},setEndDate:function(b){a(this).data("settings").endDate=b},setSelectedDate:function(b){a(this).data("settings").selectedDate=b},update:function(){var b=a(this),d=b.data("settings"),f=d.calId,j=d.startDate;-1==d.startDate&&
(j=new Date,j.setDate(1));j.setHours(0,0,0,0);var l=j.getTime(),m=new Date(0);-1!=d.endDate&&(m=new Date(d.endDate),/^\d+$/.test(d.endDate)&&(m=new Date(j),m.setDate(m.getDate()+d.endDate)));m.setHours(0,0,0,0);var m=m.getTime(),q=new Date(0);-1!=d.selectedDate&&(q=new Date(d.selectedDate),/^\d+$/.test(d.selectedDate)&&(q=new Date(j),q.setDate(q.getDate()+d.selectedDate)));q.setHours(0,0,0,0);var q=q.getTime(),r=b.data("theDate"),r=-1==r||"undefined"==typeof r?j:r,v=new Date(r);v.setDate(1);var B=
v.getTime(),j=new Date(v);j.setMonth(j.getMonth()+1);j.setDate(0);var H=j.getTime(),E=j.getDate(),D=new Date(v);D.setDate(0);D=D.getDate();b.data("theDate",r);for(var j="",s=0,F=0;6>s;s++){for(var G="",k=0;7>k;k++,F++){var p=D-v.getDay()+F+1,h=p-D,n=0==k?"sun":6==k?"sat":"day";if(1<=h&&h<=E){p=new Date;p.setHours(0,0,0,0);var z=new Date(r);z.setHours(0,0,0,0);z.setDate(h);z=z.getTime();n=p.getTime()==z?"today":n;d.allowOld||(n=z<l?"noday":n);-1!=d.endDate&&(n=z>m?"noday":n);-1!=d.selectedDate&&(n=
z==q?"selected":n)}else n="noday",h=0>=h?p:p-E-D;G+="<td class='gldp-days "+n+" **-"+n+"'><div class='"+n+"'>"+h+"</div></td>"}j+="<tr class='days'>"+G+"</tr>"}q=l<B||d.allowOld;l=H<m||m<l;d.showPrevNext||(q=l=!1);m="January February March April May June July August September October November December".split(" ")[r.getMonth()]+" "+r.getFullYear();l=("<div class='**'><table><tr>"+("<td class='**-prevnext prev'>"+(q?"<":"")+"</td>")+"<td class='**-monyear' colspan='5'>{MY}</td>"+("<td class='**-prevnext next'>"+
(l?">":"")+"</td>")+"</tr><tr class='**-dow'><td>Sun</td><td>Mon</td><td>Tue</td><td>Wed</td><td>Thu</td><td>Fri</td><td>Sat</td></tr>"+j+"</table></div>").replace(/\*{2}/gi,"gldp-"+d.cssName).replace(/\{MY\}/gi,m);0==a("#"+f).length&&b.after(a("<div id='"+f+"'></div>").css({position:d.position,"z-index":d.zIndex,left:b.offset().left,top:b.offset().top+b.outerHeight(!0)}));f=a("#"+f);f.html(l).css("top",window.pageYOffset).show();b.addClass("_gldp");a("[class*=-prevnext]",f).fastClick(function(d){d.stopPropagation();
if(""!=a(this).html()){var d=a(this).hasClass("prev")?-1:1,f=new Date(v);f.setMonth(r.getMonth()+d);b.data("theDate",f);c.update.apply(b)}});a("tr.days td:not(.noday, .selected)",f).mouseenter(function(){var b="gldp-"+d.cssName+"-"+a(this).children("div").attr("class");a(this).removeClass(b).addClass(b+"-hover")}).mouseleave(function(){if(!a(this).hasClass("selected")){var b="gldp-"+d.cssName+"-"+a(this).children("div").attr("class");a(this).removeClass(b+"-hover").addClass(b)}}).fastClick(function(d){d.stopPropagation();
var d=a(this).children("div").html(),f=b.data("settings"),h=new Date(r);h.setDate(d);b.data("theDate",h);b.val(h.getMonth()+1+"/"+h.getDate()+"/"+h.getFullYear());if(null!=f.onChange&&"undefined"!=typeof f.onChange)f.onChange(b,h);f.selectedDate=h;c.hide.apply(b)})}};a.fn.glDatePicker=function(b){if(c[b])return c[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return c.init.apply(this,arguments);a.error("Method "+b+" does not exist on jQuery.glDatePicker")}})(jQuery);
(function(){function a(a,b,d,f){if(a.addEventListener)return a.addEventListener(b,d,f),{destroy:function(){a.removeEventListener(b,d,f)}};var j=function(){d.handleEvent(window.event,d)};a.attachEvent("on"+b,j);return{destroy:function(){a.detachEvent("on"+b,j)}}}var b="ontouchstart"in window;this.FastButton=function(c,e,d){this.events=[];this.touchEvents=[];this.element=c;this.handler=e;this.useCapture=d;b&&this.events.push(a(c,"touchstart",this,this.useCapture));this.events.push(a(c,"click",this,
this.useCapture))};this.FastButton.prototype.destroy=function(){for(i=this.events.length-1;0<=i;i-=1)this.events[i].destroy();this.events=this.touchEvents=this.element=this.handler=this.fastButton=null};this.FastButton.prototype.handleEvent=function(a){switch(a.type){case "touchstart":this.onTouchStart(a);break;case "touchmove":this.onTouchMove(a);break;case "touchend":this.onClick(a);break;case "click":this.onClick(a)}};this.FastButton.prototype.onTouchStart=function(b){b.stopPropagation?b.stopPropagation():
b.cancelBubble=!0;this.touchEvents.push(a(this.element,"touchend",this,this.useCapture));this.touchEvents.push(a(document.body,"touchmove",this,this.useCapture));this.startX=b.touches[0].clientX;this.startY=b.touches[0].clientY};this.FastButton.prototype.onTouchMove=function(a){(10<Math.abs(a.touches[0].clientX-this.startX)||10<Math.abs(a.touches[0].clientY-this.startY))&&this.reset()};this.FastButton.prototype.onClick=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;this.reset();
var b=this.handler.call(this.element,a);"touchend"==a.type&&clickbuster.preventGhostClick(this.startX,this.startY);return b};this.FastButton.prototype.reset=function(){for(i=this.touchEvents.length-1;0<=i;i-=1)this.touchEvents[i].destroy();this.touchEvents=[]};this.clickbuster=function(){};this.clickbuster.preventGhostClick=function(a,b){clickbuster.coordinates.push(a,b);window.setTimeout(clickbuster.pop,2500)};this.clickbuster.pop=function(){clickbuster.coordinates.splice(0,2)};this.clickbuster.onClick=
function(a){for(var b=0;b<clickbuster.coordinates.length;b+=2){var d=clickbuster.coordinates[b+1];25>Math.abs(a.clientX-clickbuster.coordinates[b])&&25>Math.abs(a.clientY-d)&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,a.preventDefault?a.preventDefault():a.returnValue=!1)}};b&&(document.addEventListener("click",clickbuster.onClick,!0),clickbuster.coordinates=[])})(this);
(function(a){a.event.special.fastClick={setup:function(){a(this).data("fastClick",new FastButton(this,a.event.special.fastClick.handler))},teardown:function(){a(this).data("fastClick").destroy();a(this).removeData("fastClick")},handler:function(b){b=a.event.fix(b);b.type="fastClick";a.event.handle.apply(this,arguments)}};a.fn.fastClick=function(b){return a(this).each(function(){return b?a(this).bind("fastClick",b):a(this).trigger("fastClick")})}})(jQuery);
